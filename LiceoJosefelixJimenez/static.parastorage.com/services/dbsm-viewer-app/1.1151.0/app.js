!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("_"));else if("function"==typeof define&&define.amd)define(["_"],t);else{var r="object"==typeof exports?t(require("_")):t(e._);for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}("undefined"!=typeof self?self:this,function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=74)}([function(t,r){t.exports=e},function(e,t,r){"use strict";var n=r(107),o=r(108),i=r(109);e.exports={union:n,Result:o,Maybe:i}},function(e,t,r){"use strict";var n=r(71).combineReducers,o=r(146),i=r(148),a=r(149),u=r(60).reducer,c=r(152);e.exports=n({records:o,config:i,dependencyResolution:a,connectedComponents:u,dynamicPages:c});var s=function(e){return o.getCurrentPageSize(e.records)},f=function(e){return o.hasCurrentRecord(e.records)},l=function(e){return i.isReadOnly(e.config)};e.exports.shouldAllowWixDataAccess=function(e){return i.shouldAllowWixDataAccess(e.config)},e.exports.areDependenciesResolved=function(e){return a.areDependenciesResolved(e.dependencyResolution)},e.exports.getCollectionName=function(e){return i.getCollectionName(e.config)},e.exports.getConnectedComponents=function(e){return u.getConnectedComponents(e.connectedComponents)},e.exports.getCurrentPageSize=s,e.exports.getNumberOfPagesToShow=function(e){return o.getNumberOfPagesToShow(e.records)},e.exports.getTotalPageCount=function(e,t){return Math.ceil(t/s(e))},e.exports.getCurrentPageIndex=function(e){return o.getCurrentPage(e.records)},e.exports.getFixedFilterItem=function(e){return i.getFixedFilterItem(e.config)},e.exports.getFilter=function(e){return i.getFilter(e.config)},e.exports.getSort=function(e){return i.getSort(e.config)},e.exports.getIncludes=function(e){return i.getIncludes(e.config)},e.exports.getPageSize=function(e){return i.getPageSize(e.config)},e.exports.getPaginationData=function(e){return o.getPaginationData(e.records)},e.exports.getPreloadData=function(e){return i.getPreloadData(e.config)},e.exports.getCurrentPage=function(e){return o.getCurrentPage(e.records)},e.exports.getReadWriteMode=function(e){return i.getReadWriteMode(e.config)},e.exports.hasCurrentRecord=f,e.exports.isDatasetConfigured=function(e){return i.isDatasetConfigured(e.config)},e.exports.isDatasetReady=function(e){return i.isDatasetReady(e.config)},e.exports.isDuringSave=function(e){return o.isDuringSave(e.records)},e.exports.isForm=function(e){return o.isForm(e.records)},e.exports.isReadOnly=l,e.exports.isWriteOnly=function(e){return i.isWriteOnly(e.config)},e.exports.isEditable=function(e){return f(e)&&!l(e)},e.exports.selectCurrentRecord=function(e){return o.selectCurrentRecord(e.records)},e.exports.selectCurrentRecordIndex=function(e){return o.selectCurrentRecordIndex(e.records)},e.exports.selectDefaultDraft=function(e){return o.selectDefaultDraft(e.records)},e.exports.selectDesiredRecordIndex=function(e){return o.selectDesiredRecordIndex(e.records)},e.exports.selectFieldsToUpdate=function(e){return o.selectFieldsToUpdate(e.records)},e.exports.selectLastSavedRecord=function(e){return o.selectLastSavedRecord(e.records)},e.exports.selectUpdateSource=function(e){return o.selectUpdateSource(e.records)},e.exports.selectNewRecordIndex=function(e){return o.selectNewRecordIndex(e.records)},e.exports.selectNextDynamicPageUrl=function(e){return c.selectNextDynamicPageUrl(e.dynamicPages)},e.exports.selectPreviousDynamicPageUrl=function(e){return c.selectPreviousDynamicPageUrl(e.dynamicPages)},e.exports.selectRefreshController=function(e){return o.selectRefreshController(e.records)},e.exports.selectRefreshCurrentRecord=function(e){return o.selectRefreshCurrentRecord(e.records)},e.exports.selectRefreshCurrentView=function(e){return o.selectRefreshCurrentView(e.records)},e.exports.selectRemoveCurrentRecord=function(e){return o.selectRemoveCurrentRecord(e.records)},e.exports.selectRevertChanges=function(e){return o.selectRevertChanges(e.records)},e.exports.selectSaveRecord=function(e){return o.selectSaveRecord(e.records)}},function(e,t,r){"use strict";var n=r(49).logger,o=r(134),i=r(135),a=r(137),u=r(138);e.exports={logger:n,breadcrumbWrapper:o,UserError:i,traceCreators:a,reportCallbackError:u}},function(e,t,r){"use strict";e.exports.DETAILS_REPEATER_ROLE="detailsRepeaterRole",e.exports.DETAILS_DATASET_ROLE="detailsDatasetRole",e.exports.FILTER_INPUT_ROLE="filterInputRole",e.exports.TEXT_ROLE="textRole",e.exports.IMAGE_ROLE="imageRole",e.exports.TEXT_INPUT_ROLE="textInputRole",e.exports.BUTTON_ROLE="siteButtonRole",e.exports.ICON_BUTTON_ROLE="imageButtonRole",e.exports.CHECKBOX_ROLE="checkboxRole",e.exports.GALLERY_ROLE="galleryRole",e.exports.MEDIA_GALLERY_ROLE="mediaGalleryRole",e.exports.RATINGSDISPLAY_ROLE="ratingsDisplayRole",e.exports.RATINGSINPUT_ROLE="ratingsInputRole",e.exports.DROPDOWN_ROLE="dropdownRole",e.exports.DROPDOWN_OPTIONS_ROLE="dropdownOptionsRole",e.exports.TEXT_BOX_ROLE="textAreaRole",e.exports.RICH_TEXT_BOX_ROLE="richTextBoxRole",e.exports.GRID_ROLE="gridRole",e.exports.DATEPICKER_ROLE="datepickerRole",e.exports.RADIOGROUP_ROLE="radioGroupRole",e.exports.UPLOAD_BUTTON_ROLE="uploadButtonRole",e.exports.VIDEO_ROLE="videoRole",e.exports.VIDEOPLAYER_ROLE="videoPlayerRole",e.exports.MUSICPLAYER_ROLE="musicPlayerRole",e.exports.REPEATER_ROLE="repeaterRole",e.exports.COLUMN_ROLE="columnRole",e.exports.PAGE_ROLE="pageRole",e.exports.MEDIACONTAINER_ROLE="mediaContainerRole",e.exports.PAGINATION_ROLE="paginationRole",e.exports.TOGGLESWITCH_ROLE="toggleSwitchRole",e.exports.SLIDER_ROLE="sliderRole",e.exports.ADDRESSINPUT_ROLE="addressInputRole",e.exports.GOOGLEMAP_ROLE="googleMapRole",e.exports.TIMEPICKER_ROLE="timePickerRole",e.exports.CHECKBOX_GROUP_ROLE="checkboxGroupRole",e.exports.STYLABLE_BUTTON_ROLE="stylableButtonRole",e.exports.PROGRESS_BAR_ROLE="progressBarRole",e.exports.VECTOR_IMAGE_ROLE="vectorImageRole",e.exports.SELECTION_TAGS_ROLE="selectionTagsRole",e.exports.SELECTION_TAGS_OPTIONS_ROLE="selectionTagsOptionsRole"},function(e,t,r){"use strict";var n=r(67),o=r(34),i=r(177),a=r(179),u=r(189),c=r(190),s=r(191),f=r(193);e.exports={getFieldValue:n,formatValue:i,convertValue:a,convertValueToString:o,addComponentEventListener:u,shouldUpdateComponentFromRecord:c,setValueToComponent:s,getLogVerboseBindingDescription:f}},function(e,t,r){"use strict";e.exports={isValidContext:function(){return!0},hideComponent:function(e){var t=e.component,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).rememberInitiallyHidden,n=void 0!==r&&r;t.hidden?n&&(this.initiallyHidden=!0):t.hide()},showComponent:function(e){var t=e.component,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ignoreInitiallyHidden,n=void 0!==r&&r;!t.hidden||n&&this.initiallyHidden||t.show()},bindToComponent:function(){},currentRecordModified:function(){},recordSetLoaded:function(){},currentViewChanged:function(){},currentIndexChanged:function(){}}},function(e,t,r){"use strict";e.exports={READ_WRITE:"READ_WRITE",READ:"READ",WRITE:"WRITE"}},function(e,t,r){"use strict";var n=(0,r(1).union)("TraceType",{Breadcrumb:function(e){return{category:e.category,message:e.message,level:e.level,data:e.data}},Action:function(e){return{actionName:e.actionName,options:e.options}}});e.exports.TraceType=n},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";var n=r(118),o=n.create,i=n.matchAny,a=r(119).consoleHandlerCreator;e.exports={create:o,matchAny:i,consoleHandlerCreator:a}},function(e,t,r){"use strict";var n={JPG:"jpg",JPEG:"jpeg",PNG:"png",WEBP:"webp",WIX_ICO_MP:"wix_ico_mp",WIX_MP:"wix_mp",GIF:"gif",SVG:"svg",UNRECOGNIZED:"unrecognized"},o=[n.JPG,n.JPEG,n.PNG,n.GIF,n.WEBP];e.exports={alignTypes:{CENTER:"center",TOP:"top",TOP_LEFT:"top_left",TOP_RIGHT:"top_right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom_left",BOTTOM_RIGHT:"bottom_right",LEFT:"left",RIGHT:"right"},alignTypesMap:{center:"c",top:"t",top_left:"tl",top_right:"tr",bottom:"b",bottom_left:"bl",bottom_right:"br",left:"l",right:"r"},transformTypes:{FIT:"fit",FILL:"fill",FILL_FOCAL:"fill_focal",CROP:"crop",LEGACY_CROP:"legacy_crop",LEGACY_FILL:"legacy_fill"},fittingTypes:{SCALE_TO_FILL:"fill",SCALE_TO_FIT:"fit",STRETCH:"stretch",ORIGINAL_SIZE:"original_size",TILE:"tile",TILE_HORIZONTAL:"tile_horizontal",TILE_VERTICAL:"tile_vertical",FIT_AND_TILE:"fit_and_tile",LEGACY_STRIP_TILE:"legacy_strip_tile",LEGACY_STRIP_TILE_HORIZONTAL:"legacy_strip_tile_horizontal",LEGACY_STRIP_TILE_VERTICAL:"legacy_strip_tile_vertical",LEGACY_STRIP_SCALE_TO_FILL:"legacy_strip_fill",LEGACY_STRIP_SCALE_TO_FIT:"legacy_strip_fit",LEGACY_STRIP_FIT_AND_TILE:"legacy_strip_fit_and_tile",LEGACY_STRIP_ORIGINAL_SIZE:"legacy_strip_original_size",LEGACY_ORIGINAL_SIZE:"actual_size",LEGACY_FIT_WIDTH:"fitWidth",LEGACY_FIT_HEIGHT:"fitHeight",LEGACY_FULL:"full",LEGACY_BG_FIT_AND_TILE:"legacy_tile",LEGACY_BG_FIT_AND_TILE_HORIZONTAL:"legacy_tile_horizontal",LEGACY_BG_FIT_AND_TILE_VERTICAL:"legacy_tile_vertical",LEGACY_BG_NORMAL:"legacy_normal"},htmlTag:{BG:"bg",IMG:"img",SVG:"svg"},upscaleMethods:{AUTO:"auto",CLASSIC:"classic",SUPER:"super"},upscaleMethodsValues:{classic:1,super:2},defaultUSM:{radius:.66,amount:1,threshold:.01},emptyData:{uri:"",css:{img:{},container:{}},attr:{img:{},container:{}}},imageQuality:{HIGH:"HIGH",MEDIUM:"MEDIUM",LOW:"LOW",TINY:"TINY"},imageFilters:{CONTRAST:"contrast",BRIGHTNESS:"brightness",SATURATION:"saturation",HUE:"hue",BLUR:"blur"},imageScaleDefaults:{HIGH:{size:196e4,quality:90,maxUpscale:1},MEDIUM:{size:36e4,quality:85,maxUpscale:1},LOW:{size:16e4,quality:80,maxUpscale:1.2},TINY:{size:0,quality:80,maxUpscale:1.4}},fileType:n,supportedExtensions:o,webp:{LOSSLESS:"lossless",LOSSY:"lossy",ALPHA:"alpha",ANIMATION:"animation"},SAFE_TRANSFORMED_AREA:25e6,SUPER_UPSCALE_MODELS:[1.5,2,4],MAX_DEVICE_PIXEL_RATIO:2,API_VERSION:"v1"}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(82),t),o(r(83),t),o(r(84),t)},function(e,t,r){"use strict";var n=r(0).isError,o=r(116),i={USER_SCOPE:"userCodeZone",APPLICATION_SCOPE:"applicationCodeZone",WIX_DATA_SCOPE:"wixDataCodeZone"},a=["WD_SITE_IN_TEMPLATE_MODE","WD_PERMISSION_DENIED"],u=Symbol("error was handled"),c=Symbol("error-boundary-scope"),s=function(e){return e[u]},f=function(e,t){e(t),t[u]=!0},l=function(e){return function(t,r){throw n(t)&&!s(t)&&(!function(e,t){return e[c]===i.USER_SCOPE||t===i.USER_SCOPE||t===i.WIX_DATA_SCOPE&&a.includes(e.code)}(t,r)?!function(e,t){return"WD_UNKNOWN_ERROR"===e.code||t===i.WIX_DATA_SCOPE}(t,r)?r===i.APPLICATION_SCOPE&&f(e[i.APPLICATION_SCOPE],t):f(e[i.WIX_DATA_SCOPE],t):f(e[i.USER_SCOPE],t)),t}};e.exports=function(e){return o({scopes:Object.values(i),errorHandler:l(e)})},e.exports.isErrorHandled=s,e.exports.errorBoundaryScopes=i,e.exports.setErrorScope=function(e,t){return e[c]=t}},function(e,t,r){"use strict";var n=(0,r(1).union)("QueryResults",{Empty:function(){return{}},Results:function(e,t){return{items:e,totalCount:t,offset:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0}}},{chain:function(e){return function(t){return e.matchWith({Empty:function(){return e},Results:function(e){var r=e.items,n=e.totalCount,o=e.offset;return t({items:r,totalCount:n,offset:o})}})}},map:function(e){return function(t){return e.matchWith({Empty:function(){return e},Results:function(e){var r=e.items,o=e.totalCount,i=e.offset,a=t({items:r,totalCount:o,offset:i}),u=a.items,c=void 0===u?r:u,s=a.totalCount,f=void 0===s?o:s,l=a.offset,d=void 0===l?i:l;return n.Results(c,f,d)}})}},filter:function(e){return function(t){return e.matchWith({Empty:function(){return e},Results:function(r){var o=r.items,i=r.totalCount,a=r.offset;return t({items:o,totalCount:i,offset:a})?e:n.Empty()}})}},orElse:function(e){return function(t){return e.matchWith({Empty:function(){return t()},Results:function(){return e}})}},get:function(e){return function(){return e.matchWith({Empty:function(){return{items:[],totalCount:0,offset:0}},Results:function(e){return e}})}},of:function(){return o}});function o(e){var t=e.items,r=e.totalCount,o=e.offset;return r>0&&Array.isArray(t)?n.Results(t,r,o):n.Empty()}var i={Empty:n.Empty,Results:n.Results,fromWixDataQueryResults:function(e,t){return e?this.of({items:e.items,totalCount:e.totalCount,offset:t}):n.Empty()},of:o};e.exports=i},function(e,t,r){"use strict";var n=r(1).union,o=r(2),i=o.getCurrentPageSize,a=o.getPaginationData,u=o.getNumberOfPagesToShow,c=r(30),s=r(14),f=n("GoToIndexResult",{Record:function(e,t){return{index:e,record:t}},InvalidIndex:function(){return{}},NoRecord:function(){return{}}}),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:c.GO_TO_INDEX,index:e,suppressRefreshView:t}},d=function(e){return{type:c.NEW_RECORD,atIndex:e}},p=function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}(regeneratorRuntime.mark(function e(t,r,n,o){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(o).fold(function(){return s.Empty()},function(e){return e.getRecords(r,n)});case 2:return i=e.sent,e.abrupt("return",i.get());case 4:case"end":return e.stop()}},e,void 0)}));return function(t,r,n,o){return e.apply(this,arguments)}}();t.doFetch=p,t.fetchCurrentPage=function(e,t){var r=i(t)*u(t),n=a(t).offset;return p(e,n,r)},t.flushDraft=function(){return{type:c.SAVE_RECORD}},t.goToRecordByIndexResult=function(e,t){return{type:c.GET_RECORD_BY_INDEX_RESULT,error:e,payload:t}},t.incrementNumOfPagesToShow=function(){return{type:c.INCREMENT_NUM_PAGES_TO_SHOW}},t.initWriteOnly=function(e){return e?l(0):d(0)},t.loadPage=function(e){return{type:c.LOAD_PAGE,pageNumber:e}},t.newRecord=d,t.newRecordResult=function(e,t){return{type:c.NEW_RECORD_RESULT,error:e,payload:t}},t.nextPage=function(){return{type:c.GO_TO_NEXT_PAGE}},t.previousPage=function(){return{type:c.GO_TO_PREVIOUS_PAGE}},t.reInitWriteOnly=function(){return d(0)},t.refresh=function(){return{type:c.REFRESH}},t.refreshCurrentRecord=function(){return{type:c.REFRESH_CURRENT_RECORD}},t.refreshCurrentView=function(){return{type:c.REFRESH_CURRENT_VIEW}},t.refreshResult=function(e,t){return{type:c.GET_RECORD_BY_INDEX_RESULT,error:e,payload:t}},t.remove=function(){return{type:c.REMOVE_CURRENT_RECORD}},t.removeCurrentRecordResult=function(e,t){return{type:c.REMOVE_CURRENT_RECORD_RESULT,error:e,payload:t}},t.revert=function(){return{type:c.REVERT_CHANGES}},t.revertResult=function(e,t){return{type:c.RECORD_REVERTED,error:e,payload:t}},t.saveRecordResult=function(e,t){return{type:c.SAVE_RECORD_RESULT,error:e,payload:t}},t.setCurrentIndex=l,t.setCurrentRecord=function(e,t,r){return{type:c.SET_CURRENT_RECORD,record:e,recordIndex:t,updateSource:r}},t.setDefaultRecord=function(e){return{type:c.SET_DEFAULT_RECORD,record:e}},t.updateCurrentViewResult=function(e,t){return{type:c.CURRENT_VIEW_UPDATED,error:e,payload:t}},t.updateFields=function(e,t){return{type:c.UPDATE_FIELDS,fieldsToUpdate:e,updateSource:t}},t.GoToIndexResult=f},function(e,t,r){"use strict";var n=r(25),o=r(11),i=r(183);function a(e){var t=new window.Image;t.onload=function(){var r=i.getFeature("isWEBP");r[e]=t.width>0&&t.height>0,i.setFeature("isWEBP",r)},t.src="data:image/webp;base64,"+{lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"}[e]}function u(e){var t=[o.fileType.PNG,o.fileType.JPEG,o.fileType.JPG,o.fileType.WIX_ICO_MP,o.fileType.WIX_MP];return n.includes(t,f(e))}function c(e){return n.includes(["webp"],f(e))}function s(e){return/(^https?)|(^data)|(^\/\/)/.test(e)}function f(e){return(/[.]([^.]+)$/.exec(e)&&/[.]([^.]+)$/.exec(e)[1]||"").toLowerCase()}function l(e,t,r,n,i){return i===o.transformTypes.FILL?function(e,t,r,n){return Math.max(r/e,n/t)}(e,t,r,n):i===o.transformTypes.FIT?function(e,t,r,n){return Math.min(r/e,n/t)}(e,t,r,n):1}function d(e,t){var r=v(e,t);return{optimizedScaleFactor:o.imageScaleDefaults[r].maxUpscale,upscaleMethodValue:o.upscaleMethodsValues.classic,forceUSM:!1}}function p(e,t){var r=v(e,t);return{optimizedScaleFactor:o.imageScaleDefaults[r].maxUpscale,upscaleMethodValue:o.upscaleMethodsValues.classic,forceUSM:!1}}function m(e,t,r){return{optimizedScaleFactor:n.last(o.SUPER_UPSCALE_MODELS),upscaleMethodValue:o.upscaleMethodsValues.super,forceUSM:!(o.SUPER_UPSCALE_MODELS.includes(r)||r>n.last(o.SUPER_UPSCALE_MODELS))}}function v(e,t){var r=e*t;return r>o.imageScaleDefaults[o.imageQuality.HIGH].size?o.imageQuality.HIGH:r>o.imageScaleDefaults[o.imageQuality.MEDIUM].size?o.imageQuality.MEDIUM:r>o.imageScaleDefaults[o.imageQuality.LOW].size?o.imageQuality.LOW:o.imageQuality.TINY}function h(e,t){var r=Math.pow(10,t||0);return(e*r/r).toFixed(parseInt(t,10))}e.exports={populateGlobalFeatureSupport:function(){"undefined"!=typeof window&&(a(o.webp.LOSSY),a(o.webp.LOSSLESS),a(o.webp.ALPHA),a(o.webp.ANIMATION),i.setFeature("isObjectFitBrowser",function(e){return e in window.document.documentElement.style}("objectFit")))},isWEBPBrowserSupport:function(e){var t=i.getFeature("isWEBP"),r=e===o.fileType.JPG&&t[o.webp.LOSSY],n=e===o.fileType.PNG&&t[o.webp.LOSSLESS],a=e===o.fileType.PNG&&t[o.webp.ALPHA];return r||n&&a},isObjectFitBrowserSupport:function(){return i.getFeature("isObjectFitBrowser")},isImageTransformApplicable:function(e){return u(e)&&!s(e)},isValidRequest:function(e,t,r){return r&&t&&!function(e){return!e||!e.trim()||"none"===e.toLowerCase()}(t.id)&&n.includes(o.fittingTypes,e)},isImageTypeSupported:u,isExternalUrl:s,isWEBP:c,getFileType:function(e){return function(e){return n.includes(["jpg","jpeg"],f(e))}(e)?o.fileType.JPG:function(e){return n.includes(["png"],f(e))}(e)?o.fileType.PNG:c(e)?o.fileType.WEBP:o.fileType.UNRECOGNIZED},getFileExtension:f,getFileName:function(e,t){var r=/\.([^.]*)$/;if("string"==typeof t&&t.length){var i=["/","\\","?","<",">","|","“",":",'"'].map(encodeURIComponent),a=new RegExp("("+i.concat(["\\.","\\*"]).join("|")+")","g"),u=t,c=t.match(r);return c&&n.includes(o.supportedExtensions,c[1])&&(u=t.replace(r,"")),encodeURIComponent(u).replace(a,"_")}var s=e.match(/\/(.*?)$/);return(s?s[1]:e).replace(r,"")},getAlignedRect:function(e,t,r){var n=void 0,i=void 0;switch(r){case o.alignTypes.CENTER:n=Math.max(0,(e.width-t.width)/2),i=Math.max(0,(e.height-t.height)/2);break;case o.alignTypes.TOP:n=Math.max(0,(e.width-t.width)/2),i=0;break;case o.alignTypes.TOP_LEFT:n=0,i=0;break;case o.alignTypes.TOP_RIGHT:n=Math.max(0,e.width-t.width),i=0;break;case o.alignTypes.BOTTOM:n=Math.max(0,(e.width-t.width)/2),i=Math.max(0,e.height-t.height);break;case o.alignTypes.BOTTOM_LEFT:n=0,i=Math.max(0,e.height-t.height);break;case o.alignTypes.BOTTOM_RIGHT:n=Math.max(0,e.width-t.width),i=Math.max(0,e.height-t.height);break;case o.alignTypes.LEFT:n=0,i=Math.max(0,(e.height-t.height)/2);break;case o.alignTypes.RIGHT:n=Math.max(0,e.width-t.width),i=Math.max(0,(e.height-t.height)/2)}return{x:e.x?e.x+n:n,y:e.y?e.y+i:i,width:Math.min(e.width,t.width),height:Math.min(e.height,t.height)}},getOverlappingRect:function(e,t){var r=Math.max(0,Math.min(e.width,t.x+t.width)-Math.max(0,t.x)),n=Math.max(0,Math.min(e.height,t.y+t.height)-Math.max(0,t.y));return r&&n&&(e.width!==r||e.height!==n)?{x:Math.max(0,t.x),y:Math.max(0,t.y),width:r,height:n}:null},getScaleFactor:l,getTransformData:function(e,t,r,n,i){e=e||r.width,t=t||r.height;var a=function(e){return Math.min(e.pixelAspectRatio||1,o.MAX_DEVICE_PIXEL_RATIO)}(r),u=function(e,t,r,n,i){var a=void 0,u=void 0,c=void 0;if(a=l(e,t,r,n,i),i===o.transformTypes.FILL?(u=r,c=n):i===o.transformTypes.FIT&&(u=e*a,c=t*a),u*c>o.SAFE_TRANSFORMED_AREA){var s=Math.sqrt(o.SAFE_TRANSFORMED_AREA/(u*c));a=l(e,t,u*=s,c*=s,i)}return{scaleFactor:a,width:u,height:c}}(e,t,r.width*a,r.height*a,n),c=u.scaleFactor;return function(e,t,r,n,i,a,u){var c=function(e,t,r,n){return{classic:d,auto:p,super:m}[n](e,t,r)}(e,t,a,i),s=c.optimizedScaleFactor,f=c.upscaleMethodValue,l=c.forceUSM;if(a<=s)return{width:r,height:n,scaleFactor:a,upscaleMethodValue:f,forceUSM:l,cssUpscaleNeeded:!1};var v=void 0,h=void 0;switch(u){case o.transformTypes.FILL:v=r*(s/a),h=n*(s/a);break;case o.transformTypes.FIT:v=e*s,h=t*s}return{width:v,height:h,scaleFactor:s,upscaleMethodValue:f,forceUSM:l,cssUpscaleNeeded:!0}}(e,t,u.width,u.height,i,c,n)},getAlignment:function(e){return o.alignTypesMap[e.alignment]||o.alignTypesMap[o.alignTypes.CENTER]},getPreferredImageQuality:function(e,t){return o.imageScaleDefaults[v(e,t)].quality},getDimension:function(e,t,r,n,o){var i=l(e,t,r,n,o);return{width:Math.round(e*i),height:Math.round(t*i)}},getFocalPoint:function(e){var t=null;return"number"!=typeof e.x||isNaN(e.x)||"number"!=typeof e.y||isNaN(e.y)||(t={x:h(Math.max(0,Math.min(100,e.x))/100,2),y:h(Math.max(0,Math.min(100,e.y))/100,2)}),t},getUpscaleString:function(e){return e&&e.upscaleMethod&&"string"==typeof e.upscaleMethod&&o.upscaleMethods[e.upscaleMethod.toUpperCase()]||o.upscaleMethods.AUTO},roundToFixed:h}},function(e,t,r){"use strict";var n=r(0).isEmpty,o=r(0).isError,i=r(0).isUndefined;function a(e,t,r){var n=i(r)?["[wix-dataset."+t+"] returned"]:["[wix-dataset."+t+"] returned with (",JSON.stringify(r),")"];e.apply(void 0,n)}var u=r(0).noop,c=["onReady","onError","onBeforeSave","onAfterSave","onCurrentIndexChanged","onItemValuesChanged"];e.exports.verboseWrapper=function(e,t,r){return function(){for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];if(c.includes(r))return e("["+r+" callback registered] on wix-dataset"),t.apply(void 0,o);var u=0===o.length?["[wix-dataset."+r+"] called"]:["[wix-dataset."+r+"] called with (",JSON.stringify(o),")"];e.apply(void 0,u);var s=t.apply(void 0,o);return function(e){return e&&"function"==typeof e.then}(s)?s.then(function(t){return a(e,r,t),t}):(a(e,r,s),s)}},e.exports.shouldWrapWithVerbose=function(e){return e!==u},e.exports.verboseEvent=function(e,t){for(var r=arguments.length,i=Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(n(i))e("["+t+" event] triggered on wix-dataset");else{var u=i.map(function(e){return o(e)?e.toString():e});e("["+t+" event] triggered on wix-dataset with (",JSON.stringify(u),")")}},e.exports.nullVerboseReporter=u},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(38),a=r(0).omit,u=r(111).isPristine;e.exports.cleanseRecord=function(e){return a(e,[u])},e.exports.createDraft=function(e,t){return n({},e,o({_id:t||i.v4()},u,!0))},e.exports.getRecordId=function(e){return e._id},e.exports.hasDraft=function(e){return"boolean"==typeof e[u]},e.exports.isRecordPristine=function(e){return"boolean"!=typeof e[u]||e[u]},e.exports.isSameRecord=function(e,t){return e&&t&&e._id===t._id},e.exports.markRecordDirty=function(e){return n({},e,o({},u,!1))},e.exports.mergeRecord=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Object.assign.apply(Object,[{},e].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(r.map(function(e){return a(e,["_id"])}))))}},function(e,t,r){"use strict";var n=function(){var e=new Error;return e.stack?e.stack.toString():""};e.exports.getAppUrl=function(e){var t=n().match(new RegExp("https?://.*?"+e+".*?.js"));return t?t[0]:""},e.exports.isLocalhost=function(){return/https?:\/\/localhost/.test(n())}},function(e,t,r){"use strict";e.exports.isPreview=function(e){return"Preview"===e||"Editor"===e}},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};e.exports.assign=function(e){return function(t){return n({},t,e)}},e.exports.bind=function(e,t){return function(r){return t(e(r))(r)}},e.exports.registrar=function(e){return function(t){return e.push(t),function(){var r=e.indexOf(t);r>=0&&e.splice(r,1)}}},e.exports.memoize=function(e,t,r){var n=new Map;return function(){for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];var u=t(i),c=n.get(u);if(c&&r(i,c.args))return c.result;var s=e.apply(this,i);return n.set(u,{args:i,result:s}),s}}},function(e,t,r){"use strict";var n={INIT:"INIT",SET_PAGINATION_DATA:"SET_PAGINATION_DATA"};e.exports.actionTypes=n,e.exports.init=function(e){var t=e.controllerConfig,r=void 0===t?{}:t,o=e.connections,i=void 0===o?[]:o,a=e.isScoped,u=void 0!==a&&a;return{type:n.INIT,datasetConfig:r.dataset||{},connections:i,isScoped:u}},e.exports.setPaginationData=function(e){return{type:n.SET_PAGINATION_DATA,paginationData:e}}},function(e,t,r){"use strict";var n=r(0).mapValues,o=r(0).mapKeys,i=r(1).Maybe,a={AddressInput:{viewerType:["wixui.AddressInput"],sdkType:"$w.AddressInput"},Text:{viewerType:["wysiwyg.viewer.components.WRichText"],sdkType:"$w.Text"},Image:{viewerType:["wysiwyg.viewer.components.WPhoto","wixui.ImageX"],sdkType:"$w.Image"},TextInput:{viewerType:["wysiwyg.viewer.components.inputs.TextInput"],sdkType:"$w.TextInput"},TimePicker:{viewerType:["wixui.TimePicker"],sdkType:"$w.TimePicker"},Button:{viewerType:["wysiwyg.viewer.components.SiteButton"],sdkType:"$w.Button"},IconButton:{viewerType:["wysiwyg.common.components.imagebutton.viewer.ImageButton"],sdkType:"$w.IconButton"},RatingsDisplay:{viewerType:["wixui.RatingsDisplay"],sdkType:"$w.RatingsDisplay"},RatingsInput:{viewerType:["wixui.RatingsInput"],sdkType:"$w.RatingsInput"},VerticalMenu:{viewerType:["wysiwyg.common.components.verticalmenu.viewer.VerticalMenu"],sdkType:"$w.VerticalMenu"},Checkbox:{viewerType:["wysiwyg.viewer.components.inputs.Checkbox"],sdkType:"$w.Checkbox"},Gallery:{viewerType:["wysiwyg.viewer.components.MatrixGallery","wysiwyg.viewer.components.SliderGallery","wysiwyg.viewer.components.SlideShowGallery","wysiwyg.viewer.components.PaginatedGridGallery","wysiwyg.viewer.components.tpapps.TPAWidget"],sdkType:"$w.Gallery"},Dropdown:{viewerType:["wysiwyg.viewer.components.inputs.ComboBoxInput","wixui.Dropdown"],sdkType:"$w.Dropdown"},TextBox:{viewerType:["wysiwyg.viewer.components.inputs.TextAreaInput"],sdkType:"$w.TextBox"},RichTextBox:{viewerType:["wixui.RichTextBox"],sdkType:"$w.RichTextBox"},Table:{viewerType:["wysiwyg.viewer.components.Grid"],sdkType:"$w.Table"},DatePicker:{viewerType:["wysiwyg.viewer.components.inputs.DatePicker"],sdkType:"$w.DatePicker"},RadioButtonGroup:{viewerType:["wysiwyg.viewer.components.inputs.RadioGroup"],sdkType:"$w.RadioButtonGroup"},UploadButton:{viewerType:["wysiwyg.viewer.components.inputs.UploadButton","wixui.FileUploaderNew","wysiwyg.viewer.components.inputs.FileUploader"],sdkType:"$w.UploadButton"},Column:{viewerType:["wysiwyg.viewer.components.Column"],sdkType:"$w.Column"},Video:{viewerType:["wysiwyg.viewer.components.Video"],sdkType:"$w.Video"},VideoPlayer:{viewerType:["wixui.VideoPlayer"],sdkType:"$w.VideoPlayer"},MusicPlayer:{viewerType:["wixui.MusicPlayer"],sdkType:"$w.AudioPlayer"},Repeater:{viewerType:["wysiwyg.viewer.components.Repeater"],sdkType:"$w.Repeater"},Pagination:{viewerType:["wixui.Pagination"],sdkType:"$w.Pagination"},Page:{viewerType:["mobile.core.components.Page"],sdkType:"$w.Page"},Document:{viewerType:["fake-document-type"],sdkType:"$w.Document"},MediaContainer:{viewerType:["wysiwyg.viewer.components.MediaContainer"],sdkType:"$w.Container"},StripColumnsContainer:{viewerType:["wysiwyg.viewer.components.StripColumnsContainer"],sdkType:"$w.ColumnStrip"},ToggleSwitch:{viewerType:["wixui.ToggleSwitch"],sdkType:"$w.Switch"},Slider:{viewerType:["wixui.Slider"],sdkType:"$w.Slider"},StylableButton:{viewerType:["wixui.StylableButton"],sdkType:"$w.StylableButton"},GoogleMap:{viewerType:["wysiwyg.viewer.components.GoogleMap"],sdkType:"$w.GoogleMap"},CheckboxGroup:{viewerType:["wysiwyg.viewer.components.inputs.CheckboxGroup"],sdkType:"$w.CheckboxGroup"},ProgressBar:{viewerType:["wixui.ProgressBar"],sdkType:"$w.ProgressBar"},VectorImage:{viewerType:["wysiwyg.viewer.components.VectorImage","wysiwyg.viewer.components.svgshape.SvgShape"],sdkType:"$w.VectorImage"},SelectionTags:{viewerType:["wixui.SelectionTagsList"],sdkType:"$w.SelectionTags"},Section:{viewerType:["responsive.components.Section"],sdkType:"$w.Section"}};e.exports=n(a,function(e){return e.sdkType}),e.exports.getSdkTypeByViewerType=function(e){return i.fromNullable(Object.keys(a).filter(function(t){return a[t].viewerType.indexOf(e)>=0}).map(function(e){return a[e].sdkType})[0])},e.exports.getViewerTypeBySdkType=function(e){return i.fromNullable(Object.keys(a).filter(function(t){return a[t].sdkType===e}).map(function(e){return a[e].viewerType[0]})[0])},e.exports.getViewerTypes=Object.keys(a).reduce(function(e,t){return e.concat(a[t].viewerType),e},[]),e.exports.viewerTypes=Object.keys(a).map(function(e){return a[e].viewerType}).reduce(function(e,t){return e.concat(t)},[]).reduce(function(e,t){return e[t.split(".").reverse()[0]]=t,e},{}),e.exports.isSdkTypeSupported=function(e){return!!o(a,function(e){return e.sdkType})[e]}},function(e,t,r){"use strict";var n=r(3).UserError,o="DatasetError",i=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return n.name=o,n.code=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n),t}();e.exports=i},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports={assign:function(){for(var e=arguments[0]||{},t=Array.prototype.slice.call(arguments,1,arguments.length),r=0;r<t.length;r++){var n=t[r];for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}return e},includes:function(e,t){return e.indexOf?e.indexOf(t)>-1:!(!e||"object"!==(void 0===e?"undefined":n(e)))&&Object.keys(e).some(function(r){return e[r]===t})},last:function(e){return e[e.length-1]},template:function(e){return function(t){var r=e;for(var n in t)t.hasOwnProperty(n)&&(r=r.replace(new RegExp("\\${"+n+"}","g"),t[n]));return r}}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.WIX_CODE="wix-code",t.DATA_BINDING="dataBinding",t.SITE_MEMBERS="SiteMembers",t.OLD_BLOG="79f391eb-7dfc-4adf-be6e-64434c4838d9",t.WIX_HOTELS="135aad86-9125-6074-7346-29dc6a3c9bcf",t.WIX_BLOG="14bcded7-0066-7c35-14d7-466cb3f09103",t.WIX_EVENTS="140603ad-af8d-84a5-2c80-a0f60cb47351",t.WIX_BOOKINGS="13d21c63-b5ec-5912-8397-c3a5ddb27a97",t.WIX_FORUM="14724f35-6794-cd1a-0244-25fd138f9242",t.PRICING_PLANS="1522827f-c56c-a5c9-2ac9-00f9e6ae12d3",t.WIX_STORES="1380b703-ce81-ff05-f115-39571d94dfcd",t.MEMBERS_AREA="14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",t.MEMBERS="14dbefd2-01b4-fb61-32a7-3abd44da4908",t.NOTIFICATIONS="14f25924-5664-31b2-9568-f9c5ed98c9b1",t.WIX_RESERVATIONS="1475ab65-206b-d79a-856d-fa10bdb479ea",t.WIX_RESTAURANTS_ORDERS="13e8d036-5516-6104-b456-c8466db39542",t.WIX_RESTAURANTS_MENUS="13c1402c-27f2-d4ab-7463-ee7c89e07578",t.WIX_CHAT="14517e1a-3ff0-af98-408e-2bd6953c36a2",t.DEVIANTART_FEED="7d297b79-baed-46d7-ac58-4bd68dcb70d0",t.INSTAGRAM_FEED="14635256-b183-1c71-a4d2-f55179b80e8a",t.WIX_GET_SUBSCRIBERS="1375baa8-8eca-5659-ce9d-455b2009250d",t.WIX_VIDEO="14409595-f076-4753-8303-9a86f9f71469",t.WIX_PHOTO_ALBUMS="13ff8629-c1fc-e289-e81f-bc8c8968e9d6",t.WIX_PRO_GALLERY="14271d6f-ba62-d045-549b-ab972ae1f70e",t.BANDSINTOWN="1405ef82-0ee0-65fb-88a1-2f172aa3573c",t.WIX_MUSIC="13bb5d67-1add-e770-a71f-001277e17c57",t.WIX_SITE_SEARCH="1484cb44-49cd-5b39-9681-75188ab429de"},function(e,t,r){"use strict";e.exports={DATASET:"dataset",ROUTER_DATASET:"router_dataset"}},function(e,t,r){"use strict";var n=r(7).READ,o=r(104).DEFAULT_PAGE_SIZE;e.exports={collectionName:null,readWriteType:n,filter:null,sort:null,includes:null,pageSize:o}},function(e,t,r){"use strict";var n=r(0).get,o=r(0).flow,i=r(1),a=i.Maybe,u=i.Result,c=r(14),s=r(48).getFieldReferencedCollection,f=r(18).isSameRecord,l=r(112);e.exports={isSameRecord:f,createRecordStoreService:function(e){var t=e.primaryDatasetId,r=e.recordStoreCache,o=e.refreshStoreCache,i=e.wixDataProxy,a=e.warmupStore,c=e.controllerConfig,s=e.logger;return u.fromNullable(c,"missing controller configuration").chain(function(e){var t=e.dataset;return u.fromNullable(t,"controller configuration is missing dataset object")}).chain(function(e){var t=e.collectionName;return u.fromNullable(t,"dataset is not connected to a collection")}).map(function(e){var u=n(c,["dataset","includes"]),f=n(c,["dataset","readWriteType"]);return l({primaryDatasetId:t,recordStoreCache:r,refreshStoreCache:o,wixDataProxy:i,warmupStore:a,mainCollectionName:e,includes:u,readWriteType:f,logger:s})})},createRecordStoreInstance:function(e){var t=e.recordStoreService,r=e.getFilter,n=e.getSort,i=e.getPageSize,f=e.prefetchedData,l=e.datasetId,d=e.filterResolver,p=e.getSchema,m=e.shouldAllowWixDataAccess,v=c.fromWixDataQueryResults(f,0).matchWith({Empty:a.Nothing,Results:o(c.of,a.Just)});return function(e){var o=i(),c=m();return t.chain(function(t){if(e)return u.fromMaybe(p().map(function(t){return s(e,t)}),"cannot resolve referenced collection name for field "+e).map(function(e){return t({pageSize:o,sort:null,filter:null,allowWixDataAccess:c,seed:a.Nothing(),datasetId:l,referencedCollectionName:e})});var i=r();return u.fromMaybe(d(i).map(function(e){return t({pageSize:o,sort:n(),filter:e,allowWixDataAccess:c,seed:v,datasetId:l,referencedCollectionName:null})}),"could not resolve dynamic filter")})}}}},function(e,t,r){"use strict";e.exports={SET_CURRENT_RECORD:"SET_CURRENT_RECORD",UPDATE_FIELDS:"UPDATE_FIELDS",CLEAR_CURRENT_RECORD:"CLEAR_CURRENT_RECORD",REFRESH_CURRENT_RECORD:"REFRESH_CURRENT_RECORD",REFRESH_CURRENT_VIEW:"REFRESH_CURRENT_VIEW",INCREMENT_NUM_PAGES_TO_SHOW:"INCREMENT_NUM_PAGES_TO_SHOW",SET_DEFAULT_RECORD:"SET_DEFAULT_RECORD",GO_TO_INDEX:"GO_TO_INDEX",GO_TO_NEXT_PAGE:"GO_TO_NEXT_PAGE",GO_TO_PREVIOUS_PAGE:"GO_TO_PREVIOUS_PAGE",LOAD_PAGE:"LOAD_PAGE",GET_RECORD_BY_INDEX_RESULT:"GET_RECORD_BY_INDEX_RESULT",CURRENT_VIEW_UPDATED:"CURRENT_VIEW_UPDATED",REVERT_CHANGES:"REVERT_CHANGES",RECORD_REVERTED:"RECORD_REVERTED",SAVE_RECORD:"SAVE_RECORD",CALL_BEFORE_SAVE_HOOKS_RESULT:"CALL_BEFORE_SAVE_HOOKS_RESULT",CHECK_HAS_DRAFT_RESULT:"CHECK_HAS_DRAFT_RESULT",ASSERT_VALIDITY_RESULT:"ASSERT_VALIDITY_RESULT",SAVE_RECORD_RESULT:"SAVE_RECORD_RESULT",SEND_AUTOMATION_EVENT_RESULT:"SEND_AUTOMATION_EVENT_RESULT",REMOVE_CURRENT_RECORD:"REMOVE_CURRENT_RECORD",REMOVE_CURRENT_RECORD_RESULT:"REMOVE_CURRENT_RECORD_RESULT",NEW_RECORD:"NEW_RECORD",NEW_RECORD_RESULT:"NEW_RECORD_RESULT",REFRESH:"REFRESH"}},function(e,t,r){"use strict";e.exports={SET_FILTER:"SET_FILTER",SET_SORT:"SET_SORT",SET_IS_DATASET_READY:"SET_IS_DATASET_READY",SET_FIXED_FILTER_ITEM:"SET_FIXED_FILTER_ITEM"}},function(e,t,r){"use strict";e.exports={NEXT_DYNAMIC_PAGE_URL_RESULT:"NEXT_DYNAMIC_PAGE_URL_RESULT",PREVIOUS_DYNAMIC_PAGE_URL_RESULT:"PREVIOUS_DYNAMIC_PAGE_URL_RESULT",INITIALIZE:"INITIALIZE"}},function(e,t,r){"use strict";var n=r(0).last,o=r(0).head,i=r(0).includes,a=function(e){return n(e.split("."))},u=function(e){return o(e.split("."))};e.exports.FIELD_PATH_SEPARATOR=".",e.exports.toFieldPath=function(e,t){return t?[t,e].join("."):e},e.exports.isFieldFromReferencedCollection=function(e){return i(e,".")},e.exports.getFieldFromReferencedCollectionName=a,e.exports.getReferenceFieldName=u,e.exports.getFieldFromReferencedCollection=function(e,t,r){var n=u(e),o=a(e),i=t.fields.find(function(e){return e.name===n}).referencedCollection;return r.find(function(e){return e.id===i}).fields.find(function(e){return e.name===o})}},function(e,t,r){"use strict";e.exports=function(e){return null==e||"function"!=typeof e.toString?"":Array.isArray(e)?e.join(", "):e.toString()}},function(e,t,r){"use strict";e.exports="@resolver"},function(e,t,r){"use strict";(function(e,n){var o,i=r(72);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:n;var a=Object(i.a)(o);t.a=a}).call(this,r(9),r(145)(e))},function(e,t,r){"use strict";var n=r(76),o=r(79),i=r(80),a=r(81);e.exports={viewerAutomationsClientCreator:n,editorAutomationsClientCreator:o,generateAutomationsFieldName:i,isFieldSupported:a}},function(e,t,r){var n=r(77),o=r(78),i=o;i.v1=n,i.v4=o,e.exports=i},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,o=r;return[o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]]].join("")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(r(42)),a=r(43);var u=function(e){return e.ok?e.json():e.text().then(function(t){return Promise.reject(new a.UnsuccessfulResponseException(e.status,t))})},c=function(e){return Promise.reject(new a.FailedRequestException(e))},s=function(e){return e.reduce(function(e,t){return Object.assign({},e,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t.id,t))},{})},f=function(){function e(t,r,n,o){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.signedInstance=r,this.fetch=function(e,r){var n=(r=r||{}).headers||{};return n.Authorization=n.Authorization||i.signedInstance,r.headers=n,t(e,r).then(u,c)},this.baseUrl=o&&o.baseUrl||"https://cloud-data.wix-code.com/v1/schemas",this.gridAppId=n}return o(e,null,[{key:"FailedRequestException",get:function(){return a.FailedRequestException}},{key:"UnsuccessfulResponseException",get:function(){return a.UnsuccessfulResponseException}}]),o(e,[{key:"wrapWithDefaultOptions",value:function(e){return Object.assign({},e,{signedInstance:this.signedInstance,appId:this.gridAppId})}},{key:"formRequestUrl",value:function(e){return this.baseUrl+"?"+i.default.stringify(e)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{includeDeletedCollections:!1},r=this.wrapWithDefaultOptions({includeDeleted:!0,schemaIds:e});return this.fetch(this.formRequestUrl(r)).then(function(r){var o=n(r.schemas,1)[0];return o&&o.isDeleted&&!t.includeDeletedCollections?(0,a.rejectWithCollectionDeleted)(e):o||Promise.reject((0,a.schemaNotFoundError)(e))})}},{key:"bulkGet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{includeDeletedCollections:!1,referencedCollectionsDepth:0},r=this.wrapWithDefaultOptions({depth:t.referencedCollectionsDepth||0,includeDeleted:t.includeDeletedCollections||!1,schemaIds:e});return this.fetch(this.formRequestUrl(r)).then(function(e){var t=e.schemas;return s(t)})}},{key:"list",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeDeletedCollections:!1},t=this.wrapWithDefaultOptions({schemaIds:[],depth:0,includeDeleted:e.includeDeletedCollections||!1});return this.fetch(this.formRequestUrl(t)).then(function(e){var t=e.schemas;return s(t)})}},{key:"save",value:function(e,t){var r=JSON.stringify(this.wrapWithDefaultOptions({schemaId:e,schema:t}));return this.fetch(this.baseUrl,{method:"POST",body:r}).then(function(e){return e.schemas})}},{key:"setIsDeletedFlag",value:function(e,t){var r=JSON.stringify(this.wrapWithDefaultOptions({schemaId:e,partialSchema:{isDeleted:t}}));return this.fetch(this.baseUrl,{method:"PATCH",body:r}).then(function(e){return e.schemas})}},{key:"remove",value:function(e){return this.setIsDeletedFlag(e,!0)}},{key:"restore",value:function(e){return this.setIsDeletedFlag(e,!1)}}]),e}();t.default=f},function(e,t,r){"use strict";var n=r(87),o=r(88),i=r(89);function a(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function u(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function c(e,t){var r=function(e){var t;switch(e.arrayFormat){case"index":return function(e,r,n){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return function(e,r,n){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};default:return function(e,t,r){void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t=o({arrayFormat:"none"},t)),n=Object.create(null);return"string"!=typeof e?n:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),o=t.shift(),a=t.length>0?t.join("="):void 0;a=void 0===a?null:i(a),r(i(o),a,n)}),Object.keys(n).sort().reduce(function(e,t){var r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return t[e]}):t}(r):e[t]=r,e},Object.create(null))):n}t.extract=u,t.parse=c,t.stringify=function(e,t){!1===(t=o({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var r=function(e){switch(e.arrayFormat){case"index":return function(t,r,n){return null===r?[a(t,e),"[",n,"]"].join(""):[a(t,e),"[",a(n,e),"]=",a(r,e)].join("")};case"bracket":return function(t,r){return null===r?a(t,e):[a(t,e),"[]=",a(r,e)].join("")};default:return function(t,r){return null===r?a(t,e):[a(t,e),"=",a(r,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map(function(n){var o=e[n];if(void 0===o)return"";if(null===o)return a(n,t);if(Array.isArray(o)){var i=[];return o.slice().forEach(function(e){void 0!==e&&i.push(r(n,e,i.length))}),i.join("&")}return a(n,t)+"="+a(o,t)}).filter(function(e){return e.length>0}).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:c(u(e),t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorCodes=t.schemaNotFoundError=t.rejectWithCollectionDeleted=t.UnsuccessfulResponseException=t.FailedRequestException=void 0;var n=r(90);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.FailedRequestException=function e(t){o(this,e),this.reason=t},t.UnsuccessfulResponseException=function e(t,r){o(this,e),this.status=t,this.responseText=r},t.rejectWithCollectionDeleted=function(e){return function(e,t){return Promise.reject((0,n.wixDataError)(e,t))}(n.messages.collectionDeleted(e),n.codes.CollectionDeleted)},t.schemaNotFoundError=n.schemaNotFoundError,t.errorCodes=n.codes},function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=function(e,t){e&&"object"===n(e)&&(e.errorGroup=t)};e.exports={markUserError:function(e){return o(e,"User")},isUserError:function(e){return e&&"User"===e.errorGroup},markAppError:function(e){return o(e,"Error")},isAppError:function(e){return e&&"Error"===e.errorGroup},markEdmError:function(e){return o(e,"EDM")},isEdmError:function(e){return e&&"EDM"===e.errorGroup},markError:o,isMarked:function(e){return!!e&&void 0!==e.errorGroup},USER_ERROR_GROUP:"User",APP_ERROR_GROUP:"Error",EDM_ERROR_GROUP:"EDM",UNKNOWN_ERROR_GROUP:"Unknown"}},function(e,t,r){"use strict";var n=r(99).DefaultConverter,o=r(100).DateConverter,i=new(0,r(101).ConvertersComposer)(new o,new n);e.exports={convertToCustomFormat:function(e){return i.convertToCustomFormat(e)},convertFromCustomFormat:function(e){return i.convertFromCustomFormat(e)}}},function(e,t,r){"use strict";var n=/[^{}]+(?=\})/g,o=/\{[^{}]+(?=\})\}/g,i=/[^a-zA-Z0-9]/g,a=function(e){return e.replace(/(\/{2,})/g,"/").replace(/^\//,"")};e.exports={cleanUrl:a,buildUrl:function(e,t){return a(e+"/"+t)},addField:function(e,t){return a(e+"/{"+t+"}")},isEqual:function(e,t){return a(e)===a(t)},parseUrl:function(e){var t=(e=a(e)).split("/").filter(function(e){return e.length>0}),r="/"+t.slice(1).join("/");return{prefix:t[0],pattern:r}},parseUrlPattern:function(e){return{fields:(e=a(e)).match(n)||[],nonFields:e.replace(n,"").split(i).filter(function(e){return!!e})}},constructUrl:function(e,t){return"/"+a(t).replace(o,function(t){var r=t.substring(1,t.length-1);return encodeURIComponent((""+e[r]).replace(/ /g,"-"))})}}},function(e,t,r){"use strict";var n=r(0).values,o=r(0).map,i=r(0).pickBy,a=r(0).uniq,u=function(e){return!!e.referencedCollection},c=function(e){return e.referencedCollection};e.exports=function(e){return e.fields?function(e){var t=i(e,u),r=n(t),s=o(r,c);return a(s).filter(Boolean)}(e.fields):null}},function(e,t,r){"use strict";e.exports={getFieldReferencedCollection:function(e,t){return null!=t&&null!=t.fields[e]?t.fields[e].referencedCollection:null},getSchemaDisplayField:function(e){return null!=e?e.displayField:null}}},function(e,t,r){"use strict";var n=r(19).isLocalhost,o=r(113).loggerCreator,i=r(10).consoleHandlerCreator,a={SYSTEM_TRACING:r(51).id,FEDOPS:r(53).id};e.exports.logger=function(e){var t=e.global,r=e.appName,a=i({shouldLog:n}).consoleHandler;return o({global:t,appName:r,consoleHandler:a})},e.exports.traceHandlerIds=a},function(e,t,r){"use strict";var n=function(e){var t=e.split("/"),r=t[t.length-3],n=t[t.length-2];if(!function(e){return/^\d+\.\d+\.\d+$/.test(e)}(n))throw Error("Invalid version string "+n);return{appName:r,version:n}};e.exports=function(e){try{var t=n(e);return t.appName+"@"+t.version}catch(e){return"unknown"}},e.exports.getAppVersion=function(e){try{return n(e).version}catch(e){return"unknown"}},e.exports.UNKNOWN_VERSION="unknown"},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(0).noop,i=r(1),a=i.Result,u=i.union,c=r(10).matchAny,s=r(52).filterByReportToHandlers,f="SYSTEM_TRACING",l=u("Environment",{NotInitialized:function(){},Initialized:function(e){return{reportTrace:e.reportTrace}}});function d(e,t){a.try(function(){return e(t)})}e.exports.id=f,e.exports.systemTracingHandlerCreator=function(){var e=l.NotInitialized();return function(){return{init:function(t){var r=t.reportTrace;e=l.Initialized({reportTrace:r})},log:s(f,function(t){e.matchWith({Initialized:function(e){var r=e.reportTrace;t.matchWith(n({Trace:function(e){var t=e.payload,i=e.position;t.matchWith(n({Action:function(e){var t=e.actionName;i.matchWith(n({Start:function(){d(r,{actionName:t,tracePosition:"before"})},End:function(e){var n=e.durationMs;d(r,{actionName:t,tracePosition:"after",actionDurationMs:n})}},c,o))}},u.any,o))}},c,o))},NotInitialized:function(){throw new Error("You cannot report to system tracer before setting the logger environment.\n              Make sure you call logger.init before reporting.")}})})}}}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(1).union,i=r(10).matchAny;e.exports.filterByReportToHandlers=function(e,t){return function(r){r.matchWith(n({Trace:function(i){i.payload.matchWith(n({Action:function(n){n.options.reportToHandlers.includes(e)&&t(r)}},o.any,function(){return t(r)}))}},i,function(){return t(r)}))}}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(0).noop,i=r(1).union,a=r(10).matchAny,u=r(132),c=r(52).filterByReportToHandlers,s=i("Environment",{NotInitialized:function(){},Initialized:function(e){var t=e.appLogger,r=e.fedOpsLoggerFactory,n=u(t);return{logger:r.getLoggerForWidget(n)}}});e.exports.id="FEDOPS",e.exports.fedopsHandlerCreator=function(){var e=s.NotInitialized(),t=function(){return e.matchWith({Initialized:function(e){return e.logger},NotInitialized:function(){throw new Error("You cannot report to fedops before setting the logger environment.\n            Make sure you call logger.init before reporting.")}})};return function(){return{init:function(t){var r=t.appLogger,n=t.fedOpsLoggerFactory;e=s.Initialized({appLogger:r,fedOpsLoggerFactory:n})},log:c("FEDOPS",function(e){e.matchWith(n({Trace:function(e){var r=e.payload,u=e.position;r.matchWith(n({Action:function(e){var r=e.actionName;u.matchWith(n({Start:function(){!function(e){t().interactionStarted(e)}(r)},End:function(e){e.result,function(e){t().interactionEnded(e)}(r)}},a,o))}},i.any,o))}},a,o))})}}}},function(e,t,r){"use strict";e.exports=function(e,t){return t.reduce(function(e,t){return e.chain(function(e){return t.map(function(t){return Array.isArray(t)?e.concat([t]):e.concat(t)})})},e.of([]))}},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var a=r(0).flow,u=r(0).isPlainObject,c=r(0).curry,s=r(0).mapValues,f=r(14),l=r(21),d=l.assign,p=l.bind,m=r(18),v=m.cleanseRecord,h=m.createDraft,g=m.getRecordId,y=m.markRecordDirty,E=m.mergeRecord,R=function(e,t,r){return function(n){return Object.assign.apply(Object,[{},e(n)].concat(i(r.map(function(e){return o({},t(e),e)}))))}},T=function(e,t,r){return function(i){return n({},e(i),o({},t,r(e(i)[t])))}},b=function(e,t){return function(r){return Object.assign.apply(Object,[{}].concat(i(Object.keys(e(r)).filter(function(e){return e!==t}).map(function(t){return o({},t,e(r)[t])}))))}},x=function(e){return d({records:e})},_=function(e){return d({drafts:e})},w=c(function(e,t,r){return d({scopes:n({},r.scopes,o({},e,t))})(r)}),I=function(e){return function(t){return t.scopes[e]}},O=function(e){return p(R(function(e){return e.records},g,e),x)},C=function(e,t){return u(t.records[e])?E(t.records[e],t.drafts[e]):u(t.drafts[e])?E(t.drafts[e]):null};e.exports.clearDrafts=function(){return _({})},e.exports.doesRecordExist=function(e,t){return!!t.records[e]},e.exports.freshCollection=function(){return{records:{},drafts:{},scopes:{}}},e.exports.fromWarmupCollection=function(e){return{records:e.records,drafts:{},scopes:s(e.scopes,function(e){var t=e.records,r=e.numMatchingRecords,n=(e.numSeedRecords,e.newRecordMarkers),o=t.filter(function(e,t){return!n.includes(t)});return{records:o,numMatchingRecords:r-n.length,numSeedRecords:o.length,newRecordMarkers:[]}})}},e.exports.getDraftOrRecord=C,e.exports.getScope=I,e.exports.insertDraft=function(e){return function(e){return p(R(function(e){return e.drafts},g,e),_)}([e])},e.exports.insertRecord=function(e){return O([e])},e.exports.iterateScopes=c(function(e,t,r){return Object.keys(r.scopes).filter(function(e){return t(r.scopes[e],e)}).map(function(t){return e(r.scopes[t],t)})}),e.exports.readFromCollection=c(function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=I(e)(n),a=r-t,u=i.records.slice(t,r).reduce(function(e,t){var r=C(t,n);return null!=r?e.concat(v(r)):e},[]);return f.of({items:u,totalCount:i.numMatchingRecords||0,offset:t}).filter(function(e){var t=e.items;return o||t.length>=a})}),e.exports.removeDraft=function(e){return p(b(function(e){return e.drafts},g(e)),_)},e.exports.removeRecord=function(e){return p(b(function(e){return e.records},e),x)},e.exports.resetDraft=function(e,t){return p(T(function(e){return e.drafts},g(e),function(e){return h(t,e._id)}),_)},e.exports.setScope=w,e.exports.storeQueryResults=function(e){return e.matchWith({Empty:function(){return function(e){return e}},Results:function(e){var t=e.items;return e.totalCount,e.offset,t.length>0?O(t):function(e){return e}}})},e.exports.updateRecordFields=function(e,t){return p(T(function(e){return e.drafts},e,function(e){return n({},y(e),t)}),_)},e.exports.updateScope=c(function(e,t){return p(a(I(e),t),w(e))})},function(e,t,r){"use strict";var n=r(0).get,o=r(7),i=r(147).roles,a=function(e){return e.some(function(e){return function(e){return i.includes(e)}(n(e,"role"))})};e.exports=function(e,t){return function(e){return[o.WRITE,o.READ_WRITE].includes(e)}(e)&&function(e){return e.some(function(e){return"save"===n(e,"config.events.onClick.action")})}(t)&&a(t)}},function(e,t,r){"use strict";var n=r(7);e.exports.getCollectionName=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).collectionName},e.exports.getPageSize=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).pageSize},e.exports.isWriteOnly=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).readWriteType===n.WRITE},e.exports.getReadWriteType=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).readWriteType}},function(e,t,r){"use strict";e.exports=function(e,t){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments[1],o=t[n.type];return o?o(r,n):r}}},function(e,t,r){"use strict";e.exports={RESOLVE_DEPENDENCIES:"RESOLVE_DEPENDENCIES",SET_DEPENDENCIES:"SET_DEPENDENCIES",PERFORM_HANDSHAKES:"PERFORM_HANDSHAKES",RESOLVE_MISSING_DEPENDENCIES:"RESOLVE_MISSING_DEPENDENCIES"}},function(e,t,r){"use strict";var n=r(4).DETAILS_DATASET_ROLE,o=r(150).setConnectedComponents,i=r(151);e.exports={findConnectedComponents:function(e,t){var r=[];return e.forEach(function(e){var n=t("@"+e);n&&n.forEach(function(t){return t&&r.push({role:e,component:t})})}),r},reducer:i,resolveHandshakes:function(e){var t=e.datasetApi,r=e.components,o=e.controllerConfig,i=e.controllerConfigured;return r.filter(function(e){return e.role===n}).map(function(e){var r=e.component;return e.role,{controller:r,handshakeInfo:{controllerApi:t,controllerConfig:o,controllerConfigured:i,connectionConfig:r.connectionConfig,role:n}}})},setConnectedComponents:o}},function(e,t,r){"use strict";e.exports={SET_CONNECTED_COMPONENTS:"SET_CONNECTED_COMPONENTS"}},function(e,t,r){"use strict";var n=r(31);e.exports.setFilter=function(e){return{type:n.SET_FILTER,filter:e}},e.exports.setSort=function(e){return{type:n.SET_SORT,sort:e}},e.exports.setIsDatasetReady=function(e){return{type:n.SET_IS_DATASET_READY,isDatasetReady:e}},e.exports.setFixedFilterItem=function(e){return{type:n.SET_FIXED_FILTER_ITEM,fixedFilterItem:e}}},function(e,t,r){"use strict";e.exports=function(e,t){return e+" ("+t+")"}},function(e,t,r){"use strict";var n=r(0).mapValues,o=r(15),i=r(59),a=r(4).DETAILS_DATASET_ROLE,u=r(7),c=r(2).areDependenciesResolved,s=r(57).getReadWriteType,f=r(24);e.exports.resolveMissingDependencies=function(){return{type:i.RESOLVE_MISSING_DEPENDENCIES}},e.exports.setDependencies=function(e){return{type:i.SET_DEPENDENCIES,dependenciesIds:e}},e.exports.performHandshake=function(e,t,r){var c=r.controllerApi,l=r.controllerConfig,d=r.controllerConfigured,p=r.connectionConfig;if(r.role===a){var m=function(e){var t=e.controllerApi,r=e.connectionConfig;return n(r.filters,function(e){return{fieldName:e.fieldName,controllerApi:t}})}({controllerApi:c,connectionConfig:p}),v=Object.keys(m);d&&(e.add(m),t(function(e){return{type:i.PERFORM_HANDSHAKES,dependenciesIds:e}}(v)));try{var h=c.onReady(function(){t(function(e){return{type:i.RESOLVE_DEPENDENCIES,dependenciesIds:e}}(v));var r=s(l.dataset);if(r!==u.WRITE){var n=c.onCurrentIndexChanged(function(){return t(o.refresh())});e.saveHandle(n)}if(r!==u.READ){var a=c.onItemValuesChanged(function(){return t(o.refresh())});e.saveHandle(a)}});e.saveHandle(h)}catch(e){console.error(new f("DS_EMPTY_URL_FIELD","The dataset cannot filter by the dynamic dataset because the field used to build this page's URL is empty"))}}},e.exports.waitForDependencies=function(e){return new Promise(function(t){if(c(e.getState()))t();else var r=e.subscribe(function(){c(e.getState())&&(r(),t())})})}},function(e,t,r){"use strict";var n;function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(0).includes,a=r(0).isFunction,u=r(0).isNumber,c=r(0).isInteger,s=r(2),f=r(27),l=r(24),d=r(7),p=d.READ,m=d.WRITE,v=d.READ_WRITE,h=(o(n={},p,"read-only"),o(n,m,"write-only"),o(n,v,"read-write"),n),g=function(e,t){if(!c(t)||t<1)throw new l("DS_INVALID_ARGUMENT","Parameter ("+e+") must be a positive integer number")},y=function(e,t){if(e)throw new l("OPERATION_NOT_ALLOWED",'The "'+t+'" function cannot be called on the dataset because the dataset was selected using a repeated item scope selector.\nRead more about repeated item scope selectors: http://wix.to/94BuAAs/$w.Repeater.html#repeated-item-scope')};e.exports.assertDatasetLimitations=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments[2],n=arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];!function(e,t,r){if(!s.isDatasetConfigured(e()))throw new l("OPERATION_NOT_ALLOWED",r===f.ROUTER_DATASET?"Operation ("+t+") is not allowed because the field used to build this page's URL is empty":"Operation ("+t+") not allowed on an unconfigured dataset")}(e,t,n),function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=s.getReadWriteMode(e());if(!i(r,n))throw new l("OPERATION_NOT_ALLOWED","Operation ("+t+") not allowed on "+h[n]+" dataset")}(e,t,r),o||function(e,t){if(s.isDuringSave(e()))throw new l("OPERATION_NOT_ALLOWED","Operation ("+t+") not allowed during save")}(e,t)},e.exports.assertDatasetReady=function(e,t){if(!s.isDatasetReady(e()))throw new l("DS_NOT_LOADED","The dataset didn't load yet. You need to call "+t+" inside the onReady for the dataset.")},e.exports.assertHasCurrentItem=function(e){if(null==s.selectCurrentRecordIndex(e()))throw new l("DS_NO_CURRENT_ITEM","There is no current item")},e.exports.assertScopeIsNotFixedItem=y,e.exports.assertValidCallback=function(e,t){if(!a(t))throw new l("DS_INVALID_ARGUMENT","The callback passed to ("+e+") must be a function")},e.exports.assertValidFilter=function(e){if(!e||!a(e._build))throw new l("DS_INVALID_ARGUMENT","The given filter object is invalid")},e.exports.assertValidIndex=function(e){if(!c(e))throw new l("PARAMETER_NOT_ALLOWED","Parameter ("+e+") must be a number")},e.exports.assertValidNumberArgument=function(e,t){if(!u(t))throw new l("DS_INVALID_ARGUMENT","Parameter ("+e+") must be a number")},e.exports.assertValidSort=function(e){if(!e||!a(e._build))throw new l("DS_INVALID_ARGUMENT","The given sort object is invalid")},e.exports.assertScopeIsNotFixedItem=y,e.exports.assertValidNaturalNumber=g,e.exports.assertValidPageIndex=function(e,t){if(g("pageNumber",e),e>t)throw new l("NO_SUCH_PAGE","Page "+e+" does not exist")},e.exports.assertDatasetTypeIsRouter=function(e,t){if(e!==f.ROUTER_DATASET)throw new l("OPERATION_NOT_ALLOWED",'"'+t+'" function on the dataset is not allowed. "'+t+'" can only be called on a Dynamic Page Dataset.')},e.exports.assetValidHandshakeInfo=function(e){if(!(e&&e.controllerApi&&e.role&&e.connectionConfig))throw new Error("Handshake info is invalid")}},function(e,t,r){"use strict";e.exports=function(e){return"onChange"in e&&("value"in e||"checked"in e)}},function(e,t,r){"use strict";var n=r(0).get,o=r(0).isObject,i=r(1).Maybe,a=r(33),u=a.isFieldFromReferencedCollection,c=a.getReferenceFieldName,s=a.getFieldFromReferencedCollectionName,f=function(e){return function(t){return n(t,e)}};e.exports=function(e,t){return u(t)?function(e){return function(t){return i.fromNullable(n(t,c(e)))}}(t)(e).map(function(e){return function(t){return i.fromNullable(t).chain(function(e){return o(e)?i.Just(e):i.Nothing()}).map(function(t){return f(s(e))(t)}).getOrElse(void 0)}}(t)).getOrElse(void 0):f(t)(e)}},function(e,t,r){"use strict";var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.exports={isTimeValid:function(e){return/^\d{2}:\d{2}:\d{2}\.\d{3}$/.test(e)},isDateValid:function(e){return e instanceof Date&&!isNaN(e)},mergeDateWithTime:function(e){var t=e.time,r=e.date,o=t.split(":"),i=n(o,2),a=i[0],u=i[1];return r.setHours(a),r.setMinutes(u),r.setSeconds(0),r.setMilliseconds(0),r},getTimeFromDate:function(e){return e.toTimeString().split(" ")[0]+".000"}}},function(e,t,r){"use strict";var n=r(23),o=n.Checkbox,i=n.Dropdown;e.exports.getComponentValueAccessorName=function(e){switch(e.type){case o:return"checked";default:return"value"}},e.exports.getComponentDefaultValue=function(e){switch(e.type){case o:return!1;case i:return"";default:return null}}},function(e,t,r){"use strict";var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=r(0).entries,i=r(0).isPlainObject,a=r(0).isArray,u=r(1).Maybe;e.exports.parseStandardFilter=function(e){return s(e).chain(function(e){var t=n(e,2),r=t[0],o=t[1];return"$not"===r&&a(o)?c({positive:!1,filterExpression:o[0]}):u.Nothing()}).orElse(function(){return c({positive:!0,filterExpression:e})})};var c=function(e){var t=e.positive,r=e.filterExpression;return s(r).chain(function(e){var r=n(e,2),o=r[0],i=r[1];return s(i).map(function(e){var r=n(e,2),i=r[0],a=r[1];return{field:o,condition:i,value:a,positive:t}})})},s=function(e){if(!i(e))return u.Nothing();var t=o(e)[0];return u.fromNullable(t)}},function(e,t,r){"use strict";r.r(t);var n=r(73),o="object"==typeof self&&self&&self.Object===Object&&self,i=(n.a||o||Function("return this")()).Symbol,a=Object.prototype,u=a.hasOwnProperty,c=a.toString,s=i?i.toStringTag:void 0;var f=function(e){var t=u.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var o=c.call(e);return n&&(t?e[s]=r:delete e[s]),o},l=Object.prototype.toString;var d=function(e){return l.call(e)},p="[object Null]",m="[object Undefined]",v=i?i.toStringTag:void 0;var h=function(e){return null==e?void 0===e?m:p:v&&v in Object(e)?f(e):d(e)};var g=function(e,t){return function(r){return e(t(r))}}(Object.getPrototypeOf,Object);var y=function(e){return null!=e&&"object"==typeof e},E="[object Object]",R=Function.prototype,T=Object.prototype,b=R.toString,x=T.hasOwnProperty,_=b.call(Object);var w=function(e){if(!y(e)||h(e)!=E)return!1;var t=g(e);if(null===t)return!0;var r=x.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&b.call(r)==_},I=r(36),O={INIT:"@@redux/INIT"};function C(e,t,r){var n;if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(C)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var o=e,i=t,a=[],u=a,c=!1;function s(){u===a&&(u=a.slice())}function f(){return i}function l(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return s(),u.push(e),function(){if(t){t=!1,s();var r=u.indexOf(e);u.splice(r,1)}}}function d(e){if(!w(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,i=o(i,e)}finally{c=!1}for(var t=a=u,r=0;r<t.length;r++){(0,t[r])()}return e}return d({type:O.INIT}),(n={dispatch:d,subscribe:l,getState:f,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");o=e,d({type:O.INIT})}})[I.a]=function(){var e,t=l;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function r(){e.next&&e.next(f())}return r(),{unsubscribe:t(r)}}})[I.a]=function(){return this},e},n}function S(e,t){var r=t&&t.type;return"Given action "+(r&&'"'+r.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function A(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var o=t[n];0,"function"==typeof e[o]&&(r[o]=e[o])}var i=Object.keys(r);var a=void 0;try{!function(e){Object.keys(e).forEach(function(t){var r=e[t];if(void 0===r(void 0,{type:O.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===r(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+O.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(r)}catch(e){a=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(a)throw a;for(var n=!1,o={},u=0;u<i.length;u++){var c=i[u],s=r[c],f=e[c],l=s(f,t);if(void 0===l){var d=S(c,t);throw new Error(d)}o[c]=l,n=n||l!==f}return n?o:e}}function D(e,t){return function(){return t(e.apply(void 0,arguments))}}function P(e,t){if("function"==typeof e)return D(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),n={},o=0;o<r.length;o++){var i=r[o],a=e[i];"function"==typeof a&&(n[i]=D(a,t))}return n}function N(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function F(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(r,n,o){var i,a=e(r,n,o),u=a.dispatch,c={getState:a.getState,dispatch:function(e){return u(e)}};return i=t.map(function(e){return e(c)}),u=N.apply(void 0,i)(a.dispatch),L({},a,{dispatch:u})}}}r.d(t,"createStore",function(){return C}),r.d(t,"combineReducers",function(){return A}),r.d(t,"bindActionCreators",function(){return P}),r.d(t,"applyMiddleware",function(){return F}),r.d(t,"compose",function(){return N})},function(e,t,r){"use strict";function n(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.a=r}).call(this,r(9))},function(e,t,r){e.exports=r(75)},function(e,t,r){"use strict";(function(t){try{var n=r(17).nullVerboseReporter,o=r(37).viewerAutomationsClientCreator,i=r(85).createDataSchemasClientForBrowser,a=r(97),u=r(229),c=(0,r(3).logger)({global:self,appName:"dbsm-viewer-app"}),s=n,f=o({requestFunction:t.fetch,elementorySupport:t.elementorySupport}),l=a({wixDataCreator:function(e){var r=e.baseUrl,n=e.isPreview;return{wixData:self.require("wix-data").default,wixDataSchemas:function(e,t,r){var n=u("?"+e.queryParameters,!0).query,o=n.instance,a=n.gridAppId,c=u(t),s=c.protocol,f=c.hostname;return i(o,a,{baseUrl:r?void 0:s+"//"+f+"/_api/cloud-data/v1/schemas"})}(t.elementorySupport,r,n)}},elementorySupport:t.elementorySupport,errorReporter:function(e,t){return console.error(e,t)},verboseReporter:s,shouldVerbose:!1,appLogger:c,automationsClient:f});e.exports=l}catch(e){throw console.error(e.stack),e}}).call(this,r(9))},function(e,t,r){"use strict";(function(t){var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var o=r(0).fromPairs,i=r(38);e.exports=function(e){var r=e.requestFunction,a=void 0===r?t.fetch:r,u=e.elementorySupport;return{reportFormEventToAutomationCreator:function(e){e.isPreview;return function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}(regeneratorRuntime.mark(function e(t){var r,c,s,f,l,d,p=t.detailedEventPayload,m=t.eventUTCTime;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/_api/action-triggers-server/v1/report-event",c=o(u.queryParameters.split("&").map(function(e){var t=e.indexOf("=");return[e.substring(0,t),e.substring(t+1)]})),s=c.instance,f={Authorization:s},l=n({},u.options.headers,f),d={eventIdentifier:{eventUniqueId:i.v4(),eventType:"form/form/code",sourceUniqueId:"675bbcef-18d8-41f5-800e-131ec9e08762"},eventUTCTime:m,detailedEventPayload:p},e.next=7,a(r,{method:"POST",credentials:"same-origin",body:JSON.stringify(d),headers:l});case 7:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()}}}}).call(this,r(9))},function(e,t,r){var n,o,i=r(39),a=r(40),u=0,c=0;e.exports=function(e,t,r){var s=t&&r||0,f=t||[],l=(e=e||{}).node||n,d=void 0!==e.clockseq?e.clockseq:o;if(null==l||null==d){var p=i();null==l&&(l=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=o=16383&(p[6]<<8|p[7]))}var m=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:c+1,h=m-u+(v-c)/1e4;if(h<0&&void 0===e.clockseq&&(d=d+1&16383),(h<0||m>u)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=m,c=v,o=d;var g=(1e4*(268435455&(m+=122192928e5))+v)%4294967296;f[s++]=g>>>24&255,f[s++]=g>>>16&255,f[s++]=g>>>8&255,f[s++]=255&g;var y=m/4294967296*1e4&268435455;f[s++]=y>>>8&255,f[s++]=255&y,f[s++]=y>>>24&15|16,f[s++]=y>>>16&255,f[s++]=d>>>8|128,f[s++]=255&d;for(var E=0;E<6;++E)f[s+E]=l[E];return t||a(f)}},function(e,t,r){var n=r(39),o=r(40);e.exports=function(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var u=0;u<16;++u)t[i+u]=a[u];return t||o(a)}},function(e,t,r){"use strict";(function(t){var n=r(26).WIX_CODE;e.exports=function(e){var r=e.requestFunction,o=void 0===r?t.fetch:r;return{publishEditorFormsToAutomation:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}(regeneratorRuntime.mark(function e(t){var r,i,a,u,c=t.forms,s=t.editorSdkProxy;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.document.application.getPublicAPI({appDefinitionId:n});case 2:return r=e.sent,e.next=5,r.getWixCodeAuthParams();case 5:return i=e.sent,a=i.instance,u="/_api/wix-form-builder-web/v1/publish-site",e.next=10,o(u,{headers:{"content-type":"application/json",Authorization:a,"X-Wix-Client-Artifact-Id":"wix-code-automations-client"},body:JSON.stringify({forms:c}),cache:"no-cache",credentials:"same-origin",method:"POST",redirect:"follow",referrer:"no-referrer"}).then(function(e){if(!e.ok)throw new Error("Server error on automations endpoint | status: "+e.status+' | statusText: "'+e.statusText+'"')}).catch(function(e){throw new Error("Fetch exception at publishEditorFormsToAutomation: "+e)});case 10:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()}}}).call(this,r(9))},function(e,t,r){"use strict";e.exports=function(e,t){return e+"."+t}},function(e,t,r){"use strict";var n=r(12).FieldType,o=n.text,i=n.boolean,a=n.number,u=n.dateTime,c=n.richText,s=n.url,f=[o,c,i,u,n.reference,a,s,n.stringArray];e.exports=function(e,t){var r=e.type,n=f.includes(r),o=!!e.systemField,i=["_createdDate","_updatedDate"].includes(t||e.name);return(!o||i)&&n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Direction=void 0,function(e){e.asc="asc",e.desc="desc"}(t.Direction||(t.Direction={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Operator=void 0,function(e){e.and="$and",e.or="$or",e.not="$not",e.eq="$eq",e.ne="$ne",e.lt="$lt",e.lte="$lte",e.gt="$gt",e.gte="$gte",e.hasSome="$hasSome",e.hasAll="$hasAll",e.contains="$contains",e.startsWith="$startsWith",e.endsWith="$endsWith",e.urlized="$urlized"}(t.Operator||(t.Operator={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Storage=t.PermissionRole=t.AllowedFilterOperator=t.DataOperation=t.FieldType=void 0,function(e){e.number="number",e.text="text",e.image="image",e.boolean="boolean",e.document="document",e.url="url",e.richText="richtext",e.dateTime="datetime",e.video="video",e.reference="reference",e.multiReference="multi-reference",e.pageLink="pagelink",e.object="object",e.mediaGallery="media-gallery",e.address="address",e.stringArray="array<string>",e.color="color",e.audio="audio",e.time="time",e.array="array"}(t.FieldType||(t.FieldType={})),function(e){e.insert="insert",e.update="update",e.get="get",e.remove="remove",e.find="find",e.count="count"}(t.DataOperation||(t.DataOperation={})),function(e){e.eq="eq",e.ne="ne",e.lt="lt",e.lte="lte",e.gt="gt",e.gte="gte",e.hasSome="hasSome",e.hasAll="hasAll",e.contains="contains",e.startsWith="startsWith",e.endsWith="endsWith",e.urlized="urlized"}(t.AllowedFilterOperator||(t.AllowedFilterOperator={})),function(e){e.anyone="anyone",e.siteMember="siteMember",e.siteMemberAuthor="siteMemberAuthor",e.admin="admin"}(t.PermissionRole||(t.PermissionRole={})),function(e){e.driver="driver",e.docstore="docstore",e.app="app",e.expernal="external"}(t.Storage||(t.Storage={}))},function(e,t,r){e.exports=r(86)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorCodes=t.createDataSchemasClientForBrowser=t.WixDataSchemas=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(41)),o=r(96),i=r(43);t.WixDataSchemas=n.default,t.createDataSchemasClientForBrowser=o.createDataSchemasClientForBrowser,t.errorCodes=i.errorCodes},function(e,t,r){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,a,u=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var s in r=Object(arguments[c]))o.call(r,s)&&(u[s]=r[s]);if(n){a=n(r);for(var f=0;f<a.length;f++)i.call(r,a[f])&&(u[a[f]]=r[a[f]])}}return u}},function(e,t,r){"use strict";var n=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function i(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],i(r),i(n))}function a(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(n),r=1;r<t.length;r++)t=(e=i(t,r).join("")).match(n);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=o.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var n=a(r[0]);n!==r[0]&&(t[r[0]]=n)}r=o.exec(e)}t["%C2"]="�";for(var i=Object.keys(t),u=0;u<i.length;u++){var c=i[u];e=e.replace(new RegExp(c,"g"),t[c])}return e}(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wixDataError=c,t.validationError=function(e){return f(e,u.ValidationError)},t.isDataHookError=function(e){return e instanceof Error&&e.name===s},t.dataHookError=function e(t){var r=new Error(function(e){return(0,i.default)(e)}(function(e){return void 0===e?{type:"undefined"}:e instanceof Error?{type:"error",value:e.message}:{type:"value",value:e}}(t)));r.name=s;r.originalError=t;Error.captureStackTrace(r,e);return r},t.schemaNotFoundError=function(e){return c(a.schemaDoesNotExist(e),u.SchemaDoesNotExist)},t.BulkError=l;var n=r(91),o=r(93),i=function(e){return e&&e.__esModule?e:{default:e}}(r(95)),a={collectionNameMustBeAString:function(){return"WDE0001: Collection name must be a string."},itemIdMustBeAString:function(){return"WDE0002: ItemId must be a string."},itemIdsMustBeArrayOfStrings:function(){return"WDE0068: Item ids must be an array of strings"},removeItemsMustBeLessThanThousand:function(e){return"WDE0069: Failed to remove items from ["+e+"].\nCannot remove more than 1000 items in one request"},fieldNameMustBeAString:function(){return"WDE0003: FieldName must be a string."},itemMustBeAnObject:function(e,t){return"WDE0004: Failed to save ["+e+"] into ["+t+"].\nItems must be JavaScript objects."},itemsMustBeArrayOfObjects:function(e){return"WDE0005: Failed to bulk save items into ["+e+"].\nItems must be an array of JavaScript objects and itemIds must be strings if present."},itemsMustBeLessThanThousand:function(e){return"WDE0006: Failed to bulk save items into ["+e+"].\nCannot insert more than 1000 items in one request"},updateItemInvalid:function(){return"WDE0007: Invalid update. Updated object must have a string _id property."},invalidArgumentLength:function(e,t,r,n){return"WDE0008: wixData."+e+" expects between "+t+" and "+r+" arguments, but was called with "+n+"."},documentTooLarge:function(){return"WDE0009: Document is too large."},aggregateValidations:{aggregateInvalid:function(e,t){return"Failed to perform aggregation on ["+e+"].\n"+t.join("\n")},filterMustBeBuilder:function(e){return"WDE0011: Invalid "+e+" usage. "+e+" requires WixDataFilter."},filterIsAlreadySet:function(e){return"WDE0012: Invalid "+e+" usage. Filter is already set."},groupIsAlreadySet:function(e){return"WDE0013: Invalid "+e+" usage. Group is already set."}},filterBuilderInvalid:function(e){return"Failed to build a filter.\n"+e.join("\n")+"."},groupBuilderInvalid:function(e){return"Failed to build group.\n"+e.join("\n")+"."},filterMustBeAnObject:function(){return"WDE0016: Filter must be an object."},sortBuilderInvalid:function(e){return"Failed to build a sort.\n"+e.join("\n")+"."},optionsInvalid:function(e){return"WDE0018: Options must be an object with one or all of the following boolean properties: "+e.join(", ")+"."},referenceOperationParameterError:function(){return"WDE0019: Reference operation takes a string ID or an object with an ID to be connected."},referenceOperationFieldError:function(e){return"WDE0020: Provided relationshipAttribute ["+e+"] is not a multi-reference field."},invalidReferenceError:function(){return"WDE0021: Invalid reference"},multipleMultiRefIncludeError:function(){return"WDE0022: Unable to execute a query. Only single multi-reference field can be included."},multiRefItemLimitError:function(){return"WDE0023: Can not fetch more than 50 elements when include is being used on multi-reference field"},fieldIsDeleted:function(){return"WDE0024: Field is deleted"},schemaDoesNotExist:function(e){return"WDE0025: The "+e+" collection does not exist. You cannot work with a collection using the Data API before it is created in the Editor."},collectionDeleted:function(e){return"WDE0026: The "+e+" collection was removed, so you cannot work with it. To restore its data, create a new collection with the same name."},permissionDenied:function(e,t){return"WDE0027: The current user does not have permissions to "+e+" on the "+t+" collection."},requestTimedOut:function(){return"WDE0028: Request timed out."},internalAuthorizationProblem:function(){return"WDE0029: An internal error has occurred while trying to check authorization."},queryValidations:{queryInvalid:function(e,t){return"Failed to perform query on ["+e+"].\n"+t.join("\n")},collectionNameIsRequired:function(){return"WDE0031: Collection name is required and must be a string."},isNumber:function(e,t,r){return"WDE0032: Invalid "+e+" parameter ["+(0,n.typeForDisplay)(r)+"]. "+e+" parameter must be a "+t+" number."},isPositiveNumber:function(e,t){return"WDE0033: Invalid "+e+" parameter ["+t+"]. "+e+" parameter must be a positive number."},isNonNegativeNumber:function(e,t){return"WDE0034: Invalid "+e+" parameter ["+t+"]. "+e+" parameter must be a non-negative number."},isInteger:function(e,t){return"WDE0035: Invalid "+e+" parameter ["+t+"]. "+e+" parameter must be an integer."},notGreaterThan:function(e,t,r){return"WDE0036: Invalid "+e+" parameter ["+t+"]. "+e+" parameter cannot exceed "+r+"."},invalidSkipParameter:function(e,t){return"WDE0037: Invalid query on ["+e+"].\nInvalid prev positioned query skip on a negative number "+t+"."}},arityValidations:{arityIsZero:function(e){return"WDE0038: Invalid "+e+" usage. "+e+" does not take parameters."},arityIsOne:function(e){return"WDE0039: Invalid "+e+" usage. "+e+" requires one parameter."},arityIsTwo:function(e){return"WDE0040: Invalid "+e+" usage. "+e+" requires two parameters."},arityIsThree:function(e){return"WDE0041: Invalid "+e+" usage. "+e+" requires three parameters."},arityIsAtLeastTwo:function(e){return"WDE0042: Invalid "+e+" usage. "+e+" requires at least two parameters."},arityIsAtLeastOne:function(e){return"WDE0043: Invalid "+e+" usage. "+e+" requires at least one parameter."}},filterValidations:{typeIsString:function(e,t){return"WDE0044: Invalid "+e+" parameter value ["+(0,n.typeForDisplay)(t)+"]. "+e+" parameter must be a String."},typeIsStringNumberOrDate:function(e,t){return"WDE0045: Invalid "+e+" parameter value ["+(0,n.typeForDisplay)(t)+"]. Valid "+e+" parameter types are String, Number or Date."},sameType:function(e,t,r){return"WDE0046: Invalid "+e+" parameter values ["+(0,n.typeForDisplay)(t)+"] and ["+(0,n.typeForDisplay)(r)+"]. Both parameters must be of the same type."},typeIsStringNumberOrDateForAll:function(e){return"WDE0047: Invalid "+e+" usage. "+e+" supports only Number, String or Date items."},validFieldName:function(e,t){return"WDE0048: Invalid "+e+" field value ["+(0,n.typeForDisplay)(t)+"]. "+e+" field must be a String."},isInstanceOfSameClass:function(e,t,r){return"WDE0049: Invalid "+e+" parameter ["+(0,n.typeForDisplay)(r)+"]. "+e+" expects "+t+" only."},isForCollection:function(e,t,r){return"WDE0050: Invalid "+e+" parameter query for ["+r+"]. "+e+" accepts "+t+" for the same collection only."}},filterTreeValidations:{objectType:function(e){return"WDE0056: "+e+" should be an Object. Got ${0} instead"},arrayType:function(e){return"WDE0057: "+e+" should be an Array. Got ${0} instead"},arrayLength:function(e,t){return"WDE0057: ${0}.length is ${0/length}. "+e+" Array should have length "+t},comparisonOperatorType:function(e){return"WDE0058: "+e+" should be a Date, Number, or String. Got ${0} instead"},stringOperatorType:function(e){return"WDE0059: "+e+" should be a String. Got ${0} instead"},setOperatorItems:function(e){return"WDE0060: "+e+" Array should only contain values of types Date, Number, and String. Got ${0} instead"},inOperatorItems:function(){return"WDE0061: $in Array should have length 2, and match [String, Number]. Got ${0} instead"},matchesOperatorRequiredProperty:function(e){return"WDE0062: $matches value ${0} does not have property "+e},matchesOperatorIgnoreCase:function(){return"WDE0063: $matches.ignoreCase should equal true. Got ${0/ignoreCase} instead"},matchesOperatorSpecItems:function(){return'WDE0064: $matches.spec Array values should be either {"type":"anyOf","value":" -"} or {"type":"literal","value":String}. Got ${0} instead'},regexNotAllowed:function(){return"WDE0070: $regex keyword is not allowed."}},sortValidations:{typeIsStringOrArrayOfStrings:function(e,t){return"WDE0051: Invalid "+e+" parameters ["+t.map(n.typeForDisplay)+"]. Valid "+e+" values are String, Array of String or varargs String."}},orderByValidations:{sortModelType:function(){return"WDE0065: Sort Model should be an Array. Got ${0} instead"},sortModelItemType:function(){return"WDE0066: Sort Model Array should contain values of type Object only. Got ${0} instead"},sortModelItem:function(){return'WDE0067: Sort Model Array items should have a single property with value "asc" or "desc". Got ${0} instead'}},siteIsInTemplateMode:function(){return"WDE0052: The current site is in template mode. Please save it to modify data."},internalError:function(e){return"WDE0053: Internal wixData error: "+e},serverGeneralError:function(){return"WDE0054: The server could not fulfill the request."},serverInvalidResponse:function(){return"WDE0055: Failed to parse server response."},tooManyRequests:function(){return"WDE0014: Too many requests."},operationNotSupported:function(e,t){return e+" does not support "+t+" operation."},databaseQuotaExceeded:function(){return"WDE0071: Database quota exceeded. Delete some data and try again."}};t.messages=a;var u={ItemDoesNotExist:"WD_ITEM_DOES_NOT_EXIST",ItemAlreadyExists:"WD_ITEM_ALREADY_EXISTS",SiteInTemplateMode:"WD_SITE_IN_TEMPLATE_MODE",UnknownError:"WD_UNKNOWN_ERROR",ValidationError:"WD_VALIDATION_ERROR",CollectionDeleted:"WD_COLLECTION_DELETED",SchemaDoesNotExist:"WD_SCHEMA_DOES_NOT_EXIST",PermissionDenied:"WD_PERMISSION_DENIED",BadRequest:"WD_BAD_REQUEST",Unauthorized:"WD_UNAUTHORIZED",TooManyRequests:"WD_TOO_MANY_REQUESTS",RequestTimedOut:"WD_REQUEST_TIMED_OUT",QuotaExceeded:"WD_DATABASE_QUOTA_EXCEEDED"};function c(e,t){return f(e,t)}t.codes=u;var s="WixDataHookError";function f(e,t){var r=new(t&&t!==u.UnknownError?d:Error)(e);return r.code=t,r}function l(e,t,r){var n=new Error(e);return n.code=t,n.item=r,Object.setPrototypeOf(n,Object.getPrototypeOf(this)),Error.captureStackTrace(n,l),n}function d(e){var t=new o.UserCodeError(e);return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),Error.captureStackTrace(t,d),t.name=Error.name,t}t.DATA_HOOK_ERROR_NAME=s,l.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),d.prototype=Object.create(o.UserCodeError.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=function(e){return"object"===(0,n.default)(e)},t.isArray=function(e){return"array"===(0,n.default)(e)},t.isDate=function(e){return"date"===(0,n.default)(e)},t.isNumber=function(e){return"number"===(0,n.default)(e)},t.isBoolean=function(e){return"boolean"===(0,n.default)(e)},t.isString=o,t.isFunction=function(e){return"function"===(0,n.default)(e)},t.typeForDisplay=function(e){return function(e){if(!o(e))return e;var t=e.slice(0,1).toUpperCase(),r=e.slice(1,e.length);return t+r}((0,n.default)(e))},t.isUndefined=function(e){return"undefined"===(0,n.default)(e)},t.isNull=function(e){return"null"===(0,n.default)(e)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(92));function o(e){return"string"===(0,n.default)(e)}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){var t=typeof e;return"undefined"===t?"undefined":null===e?"null":!0===e||!1===e||e instanceof Boolean?"boolean":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?void 0!==e.constructor.name&&"Generator"===e.constructor.name.slice(0,9)?"generatorfunction":"function":void 0!==Array.isArray&&Array.isArray(e)?"array":e instanceof RegExp?"regexp":e instanceof Date?"date":"[object RegExp]"===(t=r.call(e))?"regexp":"[object Date]"===t?"date":"[object Arguments]"===t?"arguments":"[object Error]"===t?"error":"[object Promise]"===t?"promise":function(e){return e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}(e)?"buffer":"[object Set]"===t?"set":"[object WeakSet]"===t?"weakset":"[object Map]"===t?"map":"[object WeakMap]"===t?"weakmap":"[object Symbol]"===t?"symbol":"[object Map Iterator]"===t?"mapiterator":"[object Set Iterator]"===t?"setiterator":"[object Int8Array]"===t?"int8array":"[object Uint8Array]"===t?"uint8array":"[object Uint8ClampedArray]"===t?"uint8clampedarray":"[object Int16Array]"===t?"int16array":"[object Uint16Array]"===t?"uint16array":"[object Int32Array]"===t?"int32array":"[object Uint32Array]"===t?"uint32array":"[object Float32Array]"===t?"float32array":"[object Float64Array]"===t?"float64array":"object"}},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){i(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(94),u=r(44);e.exports=o(o({},a),u)},function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=u(e);if(t){var i=u(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;return a(e)}(this,r)}}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}var s=r(44),f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(r,c(Error));var t=i(r);function r(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),Error.captureStackTrace&&Error.captureStackTrace(a(e),e.constructor),e.name=r.name,s.markUserError(a(e)),e}return r}();e.exports={UserCodeError:f}},function(e,t){var r=Object.prototype.hasOwnProperty;function n(e){return"[Throws: "+(e?e.message:"?")+"]"}function o(e){var t=[];return function e(o){if(null===o||"object"!=typeof o)return o;if(-1!==t.indexOf(o))return"[Circular]";if(t.push(o),"function"==typeof o.toJSON)try{var i=e(o.toJSON());return t.pop(),i}catch(e){return n(e)}if(Array.isArray(o)){var a=o.map(e);return t.pop(),a}var u=Object.keys(o).reduce(function(t,i){return t[i]=e(function(e,t){if(r.call(e,t))try{return e[t]}catch(e){return n(e)}return e[t]}(o,i)),t},{});return t.pop(),u}(e)}e.exports=function(e,t,r){return JSON.stringify(o(e),t,r)},e.exports.ensureProperties=o},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.createDataSchemasClientForBrowser=function(t,r,o){return new n.default(e.fetch,t,r,o)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(41))}).call(this,r(9))},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var i=r(0).get,a=r(0).values,u=r(0).includes,c=r(0).merge,s=r(0).defaultsDeep,f=r(0).noop,l=r(0).pick,d=r(0).uniq,p=r(0).without,m=r(0).isEmpty,v=r(0).flatten,h=r(0).difference,g=r(27),y=r(98).convertFromCustomFormat,E=r(28),R=r(46).parseUrlPattern,T=r(105),b=r(47),x=r(110),_=r(29).createRecordStoreService,w=r(141),I=r(228),O=r(3).traceCreators,C=r(8).TraceType,S=r(20).isPreview,A=function(e){return e.map(function(e){return function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},e,"asc")})},D=function(e,t){var r=e.dynamicUrl,n=e.userDefinedFilter,a=e.items,u=e.totalCount,c=e.config,s=t(a),f=s?s[0]:null,d=i(c,"dataset.sort",[])||[],p=r&&f?R(r).fields:[],m=function(e){return v(e.map(function(e){return Object.keys(e).map(function(e){return e})}))}(d),g=h(p,m),y=function(e){return e.reduce(function(e,t){return Object.assign(e,t)},{})}([].concat(o(d),o(A(g)))),E=[].concat(o(m),o(g));return{prefetchedData:{items:s,totalCount:u},dynamicPagesData:{dynamicUrl:r,userDefinedFilter:n,dynamicUrlPatternFieldsValues:function(e,t,r,n){var o=n.concat(r);return n.length?l(t,o):null}(0,f,E,p),sort:y,sortFields:E,patternFields:p}}};e.exports=function(e){var t=e.wixDataCreator,r=(e.elementorySupport,e.errorReporter),o=e.verboseReporter,l=e.shouldVerbose,v=e.appLogger,h=e.automationsClient,R=void 0,A=void 0,P=void 0,N=void 0,L=void 0,F=void 0,M=function(e){return e.map(function(e){var t=e.config,r=e.type===g.ROUTER_DATASET?function(e,t){return c({},t,e)}(P.config,t):t,o=s({},r,{dataset:E});return n({},e,{config:o})})},U=function(e,t){if(m(t))return!1;var r=t[e];if(m(r))return!1;var n=b(r);return m(n)||n.every(function(e){return!m(t[e])})},k=function(e){var t=e.map(function(e){return i(e,["config","dataset","collectionName"],null)});return p(d(t),null)};return{initAppForPage:function(e,r,n){var o=e.routerReturnedData,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=a.bi,c=void 0===u?{}:u,s=a.reportTrace,l=void 0===s?f:s,d=a.monitoring.createMonitor,p=a.fedOpsLoggerFactory,m=a.biLoggerFactory;try{F={};var h="backend"===i(L=n,["window","rendering","env"]),g=i(L,["window","viewMode"]),y=S(g);return v.addSessionData(function(){return{routerReturnedData:o}}),v.init({appLogger:v,user:{id:i(L,["user","currentUser","id"])},inSsr:h,viewMode:g,platformBiParams:c,browserUrlGetter:function(){return i(L,["location","url"])},reportTrace:l,createRavenClient:d,fedOpsLoggerFactory:p,biLoggerFactory:m}),v.traceSync(O.initAppForPage(),function(){var e=x(v.wixDataCodeZone,function(){return t({baseUrl:L.location.baseUrl,isPreview:y})});R=e.wixDataProxy,A=e.wixDataSchemasProxy,P=o||{},N=T(A,v)}),Promise.resolve()}catch(e){return v.error(e),Promise.reject(e)}},createControllers:function(e){return v.traceSync(O.createControllers(),function(){try{if(0===e.length)return[];var t=M(e);!function(e){var t=i(e[0].warmupData,"schemas");if(t)return N.loadPrefetched(t);var r=k(e);1===r.length&&U(r[0],P.schemas)?N.loadPrefetched(P.schemas):v.traceAsync(O.loadSchemas(),function(){return N.loadSchemas(r)}).catch(function(){})}(t);var n=S(i(L,["window","viewMode"])),c=h.reportFormEventToAutomationCreator({isPreview:n}),s=a(g),f=I(o,l);return t.map(function(e){var t=e.type,n=e.config,a=e.connections,l=e.$w,d=e.compId,p=e.warmupData,m=e.livePreviewOptions,h=(m=void 0===m?{}:m).shouldFetchData,E=e.platformAPIs;if(!u(s,t))throw new Error("type of controller MUST be one of "+s+" but is "+t);v.trace(C.Breadcrumb({level:"info",category:"createControllers",message:"warmup data contents",data:{datasetId:d,datasetType:t,env:i(L,["window","rendering","env"]),warmupData:!!p}}));var T=t===g.ROUTER_DATASET?D(P,y):void 0,b=_({primaryDatasetId:d,recordStoreCache:F,refreshStoreCache:h,wixDataProxy:R,warmupStore:i(p,"store"),controllerConfig:n,logger:v}),x=function(e){return{pageReady:e.pageReady,exports:e.exports,dispose:e.dispose}}(w(v,{$w:l,controllerConfig:n,datasetType:t,connections:a,recordStoreService:b,wixDataProxy:R,firePlatformEvent:v.userCodeZone(l.fireEvent),wixSdk:L,errorReporter:r,verboseReporter:o,instansiateDatabindingVerboseReporter:f,routerData:T,appLogger:v,datasetId:d,handshakes:[],schemaAPI:N,reportFormEventToAutomation:c,platformAPIs:E}).createPrimaryController());return Promise.resolve(x)})}catch(e){return v.error(e),[]}})}}}},function(e,t,r){"use strict";var n=r(45),o=n.convertToCustomFormat,i=n.convertFromCustomFormat,a=r(103),u=a.resultToWebMethodPayload,c=a.exceptionToWebMethodPayload;e.exports={convertToCustomFormat:o,convertFromCustomFormat:i,resultToWebMethodPayload:u,exceptionToWebMethodPayload:c}},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,r){t&&n(e.prototype,t),r&&n(e,r)}(e,[{key:"canConvertToCustomFormat",value:function(){return!0}},{key:"convertToCustomFormat",value:function(e,t){return t&&void 0===e?null:e}},{key:"canConvertFromCustomFormat",value:function(){return!0}},{key:"convertFromCustomFormat",value:function(e){return e}}]),e}();e.exports={DefaultConverter:o}},function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,r){t&&o(e.prototype,t),r&&o(e,r)}(e,[{key:"canConvertToCustomFormat",value:function(e){return e instanceof Date}},{key:"convertToCustomFormat",value:function(e){return{$date:e.toISOString()}}},{key:"canConvertFromCustomFormat",value:function(e){return e&&"object"===n(e)&&"$date"in e}},{key:"convertFromCustomFormat",value:function(e){return new Date(e.$date)}}]),e}();e.exports={DateConverter:i}},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r(102).mapValues,a=function(e){return null!==e&&"object"===o(e)},u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._converters=r}return function(e,t,r){t&&n(e.prototype,t),r&&n(e,r)}(e,[{key:"convertToCustomFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(a(e)){if(t.has(e))throw new TypeError("Converting circular structure to JSON");t.add(e)}if(Array.isArray(e))return this._convertArray(e,t);var n=this._findConverterToCustomFormat(e).convertToCustomFormat(e,r);return a(e)?this._convertObject(n,e,t):n}},{key:"convertFromCustomFormat",value:function(e){var t=this,r=e;return Array.isArray(e)?r=e.map(function(e){return t.convertFromCustomFormat(e)}):a(e)&&(r=i(e,this.convertFromCustomFormat.bind(this))),this._findConverterFromCustomFormat(r).convertFromCustomFormat(r)}},{key:"_convertObject",value:function(e,t,r){var n,o=this;return n="function"==typeof e.toJSON?i(e.toJSON(),function(e){return o.convertToCustomFormat(e,r)}):i(e,function(e){return o.convertToCustomFormat(e,r)}),r.delete(t),n}},{key:"_convertArray",value:function(e,t){var r=this,n=e.map(function(e){return r.convertToCustomFormat(e,t,!0)});return t.delete(e),n}},{key:"_findConverterFromCustomFormat",value:function(e){return this._converters.find(function(t){return t.canConvertFromCustomFormat(e)})}},{key:"_findConverterToCustomFormat",value:function(e){return this._converters.find(function(t){return t.canConvertToCustomFormat(e)})}}]),e}();e.exports={ConvertersComposer:u}},function(e,t,r){"use strict";e.exports={mapValues:function(e,t){var r={};return Object.keys(e).forEach(function(n){var o=t(e[n]);void 0!==o&&(r[n]=o)}),r}}},function(e,t,r){"use strict";var n=r(45).convertToCustomFormat;e.exports={resultToWebMethodPayload:function(e,t){var r=t?JSON.parse(JSON.stringify(e,t)):n(e);return void 0===r?{}:{result:r}},exceptionToWebMethodPayload:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return""};return{result:e instanceof Error?{message:t(e.message),name:e.name,stack:r(e.stack),code:e.code,_elementoryError:!0}:e,exception:!0}}}},function(e,t,r){"use strict";e.exports.DEFAULT_PAGE_SIZE=20},function(e,t,r){"use strict";var n=r(0).pick,o=r(47),i=r(106),a=r(8).TraceType;e.exports=function(e,t){var r=void 0,n=null,o=function(r){var o=1;return i(function(){return e.bulkGet(r,{referencedCollectionsDepth:1}).catch(function(e){throw t.trace(function(e,t){return a.Breadcrumb({category:"schema",message:"LOAD_SCHEMA_FAILURE retry "+e+"/5",data:{error:t}})}(o,e)),o++,e})},5).then(function(e){return o>1&&t.error(new Error("Fetching schemas required retries"),{level:"info"}),t.trace(function(e){return a.Breadcrumb({category:"schema",message:"LOAD_SCHEMA_SUCCESS after "+e+" retries"})}(o)),t.addSessionData(function(){return{schemas:e}}),n=e,e}).catch(function(e){throw e})};return{loadSchemas:function(e){return r=o(e)},loadPrefetched:function(e){return n=e,r=Promise.resolve(n)},waitForSchemas:function(){return r},getSchema:function(e){return u(n,e)},getReferencedCollectionsSchemas:function(e){return c(n,e)}}};var u=function(e,t){return e?e[t]:null},c=function(e,t){var r=e?e[t]:null,i=r?o(r):null;return i&&e?n(e,i):null}},function(e,t,r){"use strict";e.exports=function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}(regeneratorRuntime.mark(function e(t,r){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=null,o=0;case 2:if(!(o<r)){e.next=15;break}return e.prev=3,e.next=6,t();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(3),n=e.t0;case 12:o++,e.next=2;break;case 15:throw n;case 16:case"end":return e.stop()}},e,this,[[3,9]])}));return function(t,r){return e.apply(this,arguments)}}()},function(e,t,r){"use strict";var n=Symbol.for("union-type-any-symbol"),o=function(e,t,r,o){var i=Symbol("["+e+":"+t+"]"),a=function(){var e=r.apply(void 0,arguments),a=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({matchWith:function(e){return function(t){var r=Object.keys(t),o=!0,i=!1,a=void 0;try{for(var u,c=r[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var s=u.value;if(s===e.name)return t[s](e.payload)}}catch(e){i=!0,a=e}finally{try{!o&&c.return&&c.return()}finally{if(i)throw a}}if(t[n])return t[n]();throw new Error('Variant "'+e.name+'" not covered in pattern with keys ['+r+"].\nThis could mean you did not include all variants in your Union's matchWith function.")}}({name:t,payload:e}),toString:function(){return t}},i,!0);return Object.keys(o).forEach(function(e){a[e]=o[e](a)}),a};return a.hasInstance=function(e){return e&&!0===e[i]},a},i=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(t).reduce(function(n,i){return n[i]=o(e,i,t[i],r),n},{})};i.any=n,e.exports=i},function(e,t,r){"use strict";var n=function e(t){return{map:function(r){return e(r(t))},chain:function(e){return e(t)},fold:function(e,r){return r(t)},getOrElse:function(){return t},merge:function(){return t}}},o=function e(t){return{map:function(){return e(t)},chain:function(){return e(t)},fold:function(e){return e(t)},getOrElse:function(e){return e},merge:function(){return t}}},i={Ok:n,Error:o,try:function(e){try{return n(e())}catch(e){return o(e)}},fromNullable:function(e,t){return null!=e?n(e):o(t)},fromMaybe:function(e,t){return e.fold(function(){return o(t)},function(e){return n(e)})},of:function(e){return n(e)}};e.exports=i},function(e,t,r){"use strict";var n=function e(t){return{map:function(r){return e(r(t))},chain:function(e){return e(t)},fold:function(e,r){return r(t)},getOrElse:function(){return t},orElse:function(){return e(t)},filter:function(r){return r(t)?e(t):o()}}},o=function e(){return{map:function(){return e()},chain:function(){return e()},fold:function(e){return e()},getOrElse:function(e){return e},orElse:function(e){return e()},filter:function(){return e()}}},i={Just:n,Nothing:o,fromNullable:function(e){return null!=e?n(e):o()},of:function(e){return n(e)}};e.exports=i},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=["save","remove","find","filter","query"],i=["list","bulkGet"],a=function(e,t,r){var o=n({},e);return t.forEach(function(t){o[t]=r(function(){return e[t].apply(e,arguments)})}),o},u=a,c=a;e.exports=function(e,t){var r=t(),n=r.wixData,a=r.wixDataSchemas;return{wixDataProxy:u(n,o,e),wixDataSchemasProxy:c(a,i,e)}}},function(e,t,r){"use strict";var n=Symbol("isPristine");e.exports.isPristine=n},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function i(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var u=r(0).flow,c=r(0).times,s=r(0).flatten,f=r(0).isEmpty,l=r(0).isEqual,d=r(0).isPlainObject,p=r(0).some,m=r(0).every,v=r(1),h=v.Maybe,g=v.Result,y=r(3).breadcrumbWrapper,E=r(54),R=r(7),T=r(14),b=r(3).traceCreators,x=r(18),_=x.cleanseRecord,w=x.createDraft,I=x.getRecordId,O=x.hasDraft,C=x.isRecordPristine,S=r(139),A=S.calculateMissingRange,D=S.freshScope,P=S.insertRecordAtIndex,N=S.overwriteRecordAtIndex,L=S.recordIndexById,F=S.removeRecordById,M=S.scopeHasRecord,U=S.setNewRecordMarkers,k=S.setSeedInScope,j=S.storeResultsInScope,W=S.updateNewRecordMarkers,G=S.updateNumMatchingRecords,V=r(55),B=V.clearDrafts,H=V.doesRecordExist,$=V.freshCollection,Y=V.getDraftOrRecord,q=V.getScope,z=V.insertDraft,X=V.insertRecord,Q=V.iterateScopes,Z=V.readFromCollection,J=V.removeDraft,K=V.removeRecord,ee=V.resetDraft,te=V.setScope,re=V.storeQueryResults,ne=V.updateRecordFields,oe=V.updateScope,ie=r(140),ae=ie.freshStore,ue=ie.fromWarmupStore,ce=ie.getCollection,se=ie.setCollection,fe=ie.updateCollection,le=r(21),de=le.registrar,pe=le.memoize,me=["setFieldsValues","newRecord"],ve=function(e){return e===R.WRITE},he=function(e){return o(e,1)[0].datasetId},ge=function(e,t){var r=o(e,1)[0],n=o(t,1)[0];return m(r,function(e,t){return"filter"===t?function(e,t){return JSON.stringify(e)===JSON.stringify(t)}(e,n[t]):e===n[t]})};e.exports=function(e){var t=e.primaryDatasetId,r=e.recordStoreCache,o=e.refreshStoreCache,m=e.wixDataProxy,v=e.warmupStore,R=e.mainCollectionName,x=e.includes,S=e.readWriteType,V=e.logger,ie=function(){return r[t]},le=function(e){r[t]=e};(f(ie())||o||ve(S))&&le(f(v)?ae(R):ue(v));var ye=[],Ee=pe(function(e){var t=e.pageSize,r=e.sort,o=e.filter,f=e.seed,v=e.datasetId,ae=e.allowWixDataAccess,ue=e.referencedCollectionName,de=null!=ue?ue:R,pe=JSON.stringify({filter:o,sort:r}),he=ce(de),ge=fe(de),Ee=u(he,q(pe)),Re=oe(pe),Te=function(e){return e-e%t},be=function(e,t){return ae?V.traceAsync(b.findRecords({collectionName:de,filter:o,sort:r,offset:e,length:t}),function(){return m.find(de,o,r,e,t,void 0,null!=ue?void 0:x).then(function(t){return T.fromWixDataQueryResults(t,e)})}):Promise.resolve(T.Empty())},xe=function(e,r,n){var o=Te(r),i=function(e,r){return Math.ceil((Te(e)+(r-Te(e)))/t)*t}(r,n),a=A(e,o,i).map(function(e){var t=e.from,r=e.length;return r<=1e3?[{from:t,length:r}]:s(c(Math.ceil(r/1e3),function(e){return[{from:t+1e3*e,length:Math.min(1e3,r-1e3*e)}]}))});return Promise.all(a.getOrElse([]).map(function(e){var t=e.from,r=e.length;return be(t,r)}))},_e=function(e,t,r){return E(g,ye.map(function(n){return g.try(function(){return n(null!=e?_(e):null,null!=t?_(t):null,r)})}))},we=function(e,t,r){for(var n=arguments.length,o=Array(n>3?n-3:0),i=3;i<n;i++)o[i-3]=arguments[i];var a=Ee(ie()).records[r],c=Y(a,he(ie()));return null==c?t():e.apply(void 0,[{update:function(){le(u.apply(void 0,arguments)(ie()))},notifyIfChanged:function(e){var t=Y(a,he(ie()));return l(c,t)?g.Ok([]):_e(c,t,e)}},c,r].concat(o))},Ie=function(e,t){return function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return we.apply(void 0,[e,t,r].concat(o))}},Oe=function(e,t){return function(){var r=a(regeneratorRuntime.mark(function r(n){for(var o=arguments.length,a=Array(o>1?o-1:0),u=1;u<o;u++)a[u-1]=arguments[u];return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",we.apply(void 0,[e,t,n].concat(i(a))));case 1:case"end":return r.stop()}},r,void 0)}));return function(e){return r.apply(this,arguments)}}()},Ce=y(V,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{category:"recordStore",level:"info",message:e+"("+(me.includes(e)?".."+t.length+" arguments..":t.map(function(e){return JSON.stringify(e)}).join(", "))+") ("+v+")",data:{scope:pe}}},function(e){var t=function e(t){return Object.keys(t).filter(function(e){return e.startsWith("_")}).reduce(function(r,n){return Object.assign(r,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},n,d(t[n])?e(t[n]):t[n]))},{})};return T.Results.hasInstance(e)?e.map(function(e){return{items:e.items.map(function(e){return t(e)})}}):"object"===(void 0===e?"undefined":n(e))&&e?t(e):e}),Se=Ce.withBreadcrumbs,Ae=Ce.withBreadcrumbsAsync,De=function(e){return e&&!H(I(e),he(ie()))},Pe={getRecords:Ae("getRecords",function(){var e=a(regeneratorRuntime.mark(function e(t,r){var n,o,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ee(ie()).numMatchingRecords,o="number"==typeof n?Math.min(t+r,n):t+r,c=Z(pe,t,o),e.abrupt("return",c(he(ie()),ve(S)||0===n).orElse(a(regeneratorRuntime.mark(function e(){var r,n,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe(Ee(ie()),t,o);case 2:return r=e.sent,n=function(e,t){return Object.keys(e.records).filter(function(r){return d(t.records[r])&&t.records[r]._updatedDate>e.records[r]._updatedDate}).forEach(function(r){return _e(e.records[r],t.records[r])})},a=ge(u.apply(void 0,i(r.map(function(e){return u(re(e),Re(j(e)))})))),s=ie(),le(a(ie())),n(he(s),he(ie())),e.abrupt("return",c(he(ie()),!0));case 9:case"end":return e.stop()}},e,void 0)}))));case 4:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}()),seed:Ae("seed",function(){return 0===Ee(ie()).numSeedRecords?be(0,t).then(function(e){var t=ge(u(re(e),Re(k(e))));le(t(ie()))}):Promise.resolve()}),getTheStore:ie,getSeedRecords:Se("getSeedRecords",function(){return Z(pe,0,Ee(ie()).numSeedRecords,he(ie()),!0)}),getMatchingRecordCount:Se("getMatchingRecordCount",function(){return Ee(ie()).numMatchingRecords||0}),getRecordById:Se("getRecordById",function(e){return h.fromNullable(he(ie()).records[e])}),removeRecord:Ae("removeRecord",Oe(function(){var e=a(regeneratorRuntime.mark(function e(t,r,n){var o,a,c,s=t.update,f=t.notifyIfChanged;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=I(r),De(r)||!o){e.next=4;break}return e.next=4,m.remove(de,o);case 4:return a=function(e){return function(t){return t.filter(function(t){return t!==e})}},c=Q(function(e,t){return oe(t,u(F(o),G(function(e){return null!=e?e-1:null}),W(a(L(o,e)))))},M(o),he(ie())),s(ge(u.apply(void 0,[u(J(r),K(o))].concat(i(c))))),e.abrupt("return",f());case 8:case"end":return e.stop()}},e,void 0)}));return function(t,r,n){return e.apply(this,arguments)}}(),function(){return Promise.resolve(g.Error("cannot remove record: index not found"))})),reset:Se("reset",function(){le(ge(u(te(pe,D()),B()))(ie()))}),newRecord:Se("newRecord",function(e,t){var r=w(t),n=ge(u(z(r),Re(u(G(function(e){return e+1}),U([e]),P(e,r)))));return le(n(ie())),_e(null,r),_(r)}),saveRecord:Ae("saveRecord",Oe(function(){var e=a(regeneratorRuntime.mark(function e(t,r,n){var o,i,a=t.update,c=t.notifyIfChanged;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.save(de,_(r),{includeReferences:!0});case 2:return o=e.sent,i=function(e){return e.filter(function(e){return e!==n})},a(ge(u(X(o),J(r),Re(u(N(n,o),W(i)))))),c(),e.abrupt("return",_(o));case 7:case"end":return e.stop()}},e,void 0)}));return function(t,r,n){return e.apply(this,arguments)}}(),function(){return Promise.reject(new Error("cannot save record: index not found"))})),setFieldsValues:Se("setFieldsValues",Ie(function(e,t,r,n,o){var i=e.update,a=e.notifyIfChanged;return Object.keys(n).length&&i(ge(ne(I(t),n))),a(o)},function(){return g.Error("cannot update field values: index not found")})),isPristine:Se("isPristine",Ie(function(e,t){return C(t)},function(){return!0})),hasDraft:Se("hasDraft",Ie(function(e,t){return O(t)},function(){return!1})),isNewRecord:Se("isNewRecord",Ie(function(e,t){return De(t)},function(){return!0})),clearDrafts:Se("clearDrafts",function(){le(ge(B())(ie()))}),resetDraft:Se("resetDraft",Ie(function(e,t,r,n){var o=e.update,i=e.notifyIfChanged;return o(ge(De(t)?ee(t,n):J(t))),i()},function(){return g.Error("cannot reset draft: index not found")})),hasSeedData:Se("hasSeedData",function(){return Ee(ie()).numSeedRecords>0})};if(he(ie())||le(se(de,$())(ie())),!he(ie()).scopes[pe]){var Ne=[];f.map(function(e){var t=e.get().items;p(t,De)&&Ne.push(re(e))}),f.fold(function(){Ne.push(te(pe,D()))},function(e){Ne.push(te(pe,k(e)(D())))}),le(ge(u.apply(void 0,Ne))(ie()))}return Pe},he,ge);return Ee.onChange=de(ye),Ee}},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(114).registerToUnexpectedErrors,a=r(13),u=r(13).isErrorHandled,c=r(117).ravenHandlerCreator,s=r(126).biHandlerCreator,f=r(51).systemTracingHandlerCreator,l=r(53).fedopsHandlerCreator,d=r(13).errorBoundaryScopes,p=d.USER_SCOPE,m=d.WIX_DATA_SCOPE,v=d.APPLICATION_SCOPE,h=r(10).create;e.exports.loggerCreator=function(e){var t,r=e.global,d=e.appName,g=e.consoleHandler,y=c({global:r,appName:d}),E=s(),R=f(),T=l(),b=h({handlerCreators:[g,y,E,R,T]}),x=function(e){return function(t,r){var o=n({},r,{zone:e});b.error(t,o)}},_=a((o(t={},p,x(p)),o(t,m,x(m)),o(t,v,x(v)),t));return i({onError:function(e){u(e)||x(v)(e,{level:"info",tags:{unHandledRejection:!0}})},appName:d,global:r}),n({},b,{error:x(v),applicationCodeZone:_.applicationCodeZone,userCodeZone:_.userCodeZone,wixDataCodeZone:_.wixDataCodeZone})}},function(e,t,r){"use strict";var n=r(0).isError,o=r(115),i=o.isAppInvolvedWithError,a=o.extendConsoleError,u=o.addUnhandledRejectionListener,c=o.shouldReportException;e.exports.registerToUnexpectedErrors=function(e){var t=e.onError,r=e.appName,o=e.global,s=function(e){c(e,n,i(r))&&t(e)},f=a(o,function(e){return s(e)}),l=function(e){return s(e.reason)};return u(o,l),function(){f(),o.removeEventListener("unhandledrejection",l)}}},function(e,t,r){"use strict";var n=r(0).invoke,o=console.error;e.exports.isAppInvolvedWithError=function(e){return function(t){return t.stack&&t.stack.toString().includes(e)}},e.exports.addUnhandledRejectionListener=function(e,t){return n(e,"addEventListener","unhandledrejection",t)},e.exports.extendConsoleError=function(e,t){var r=e.console,n=r.error.bind(r);return r.error=function(){try{t.apply(void 0,arguments)}catch(e){n(e)}n.apply(void 0,arguments)},function(){r.error=o}},e.exports.shouldReportException=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce(function(t,r){return t&&r(e)},!0)}},function(e,t,r){"use strict";var n=function(e,t){return function(r){return function(){try{var n=r.apply(void 0,arguments);return function(e){return e&&"function"==typeof e.then}(n)?n.catch(function(r){t(r,e)}):n}catch(r){t(r,e)}}}};e.exports=function(e){var t=e.scopes,r=e.errorHandler,o={};return t.forEach(function(e){o[e]=n(e,r)}),o}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(1).union,i=r(10).matchAny,a=r(0).noop,u=r(0).merge,c=r(120),s=c.DBSMViewer,f=c.UserErrors,l=c.WixData,d=r(121),p=r(13).errorBoundaryScopes,m=p.USER_SCOPE,v=p.WIX_DATA_SCOPE,h=p.APPLICATION_SCOPE;e.exports.ravenHandlerCreator=function(e){var t=e.global,r=e.appName;return function(){var e=function(e){var t=e.level,r=e.sessionData,n=e.options;return u({level:t},{extra:r},void 0===n?{}:n)},c={},p=function(e){var t=c[e];if(!t)throw new Error("Raven was not initialized");return t};return{init:function(e){var o,i=e.user,a=e.createRavenClient,u=e.platformBiParams,p=a(s.dsn),g=a(f.dsn),y=a(l.dsn),E={tags:{msid:u.metaSiteId}};d({Raven:p,globalScope:t,dsn:s.dsn,appName:r,user:i,params:E}),d({Raven:g,globalScope:t,dsn:f.dsn,appName:r,user:i,params:E}),d({Raven:y,globalScope:t,dsn:l.dsn,appName:r,user:i,params:E}),n(o={},h,p),n(o,m,g),n(o,v,y),c=o},log:function(t){t.matchWith(n({Trace:function(e){return e.payload.matchWith(n({Breadcrumb:function(e){return p(h).captureBreadcrumb(e)}},o.any,a))},Info:function(t){var r=t.message,n=t.options,o=t.sessionData;p(h).captureMessage(r,e({level:"info",sessionData:o,options:n}))},Warn:function(t){var r=t.message,n=t.options,o=t.sessionData;p(h).captureMessage(r,e({level:"warning",sessionData:o,options:n}))},Error:function(t){var r=t.error,n=t.options,o=t.sessionData;return p(n.zone).captureException(r,e({sessionData:o,options:n}))}},i,a))}}}}},function(e,t,r){"use strict";var n=r(1),o=n.union,i=n.Result,a=r(0).pull,u=r(0).merge,c=r(0).uniqueId,s=r(0).isFunction,f=r(0).isObject,l=o("LogEvent",{BI:function(e){return{biEvent:e.biEvent}},Trace:function(e){return{position:e.position,payload:e.payload}},Info:function(e){return{message:e.message,options:e.options,sessionData:e.sessionData}},Warn:function(e){return{message:e.message,options:e.options,sessionData:e.sessionData}},Error:function(e){return{error:e.error,options:e.options,sessionData:e.sessionData}}}),d=o("TracePosition",{None:function(){},Start:function(e){return{traceId:e.traceId}},End:function(e){return{traceId:e.traceId,durationMs:e.durationMs,result:e.result}}}),p=function(e){return function(e){return e&&Array.isArray(e)&&0!==e.length?e.reduce(function(e,t){return e.chain(function(){return s(t)?e:i.Error("`handlerCreators` must be an array of functions.")})},i.Ok(e)):i.Error("`handlerCreators` is missing or empty, the logger needs at least one handler to work.")}(e).map(function(e){return e.map(function(e){return e()})}).chain(function(e){return function(e){return e.reduce(function(e,t){return e.chain(function(){return f(t)?s(t.init)?s(t.log)?e:i.Error("Handler must have a log function."):i.Error("Handler must have an init function."):i.Error("Handler must be an object.")})},i.Ok(e))}(e)}).fold(function(e){throw new Error(e)},function(e){return e})},m=function(e,t){e.forEach(function(e){return e.log(t)})};e.exports={create:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).handlerCreators,t=p(e),r=function(){var e=[];return{register:function(t){return e.push(t),function(){a(e,t)}},getCallbacks:function(){return e.slice()}}}(),n=(new Map,function(){return r.getCallbacks().reduce(function(e,t){return u(e,function(e){return i.try(e).fold(function(e){return{sessionDataError:e.stack}},function(e){return e})}(t))},{})});return{addSessionData:r.register,init:function(e){t.forEach(function(t){return t.init(e)})},bi:function(e){return function(t){var r=l.BI({biEvent:t});m(e,r)}}(t),info:function(e,t){return function(r,n){var o=l.Info({message:r,options:n,sessionData:t()});m(e,o)}}(t,n),warn:function(e,t){return function(r,n){var o=l.Warn({message:r,options:n,sessionData:t()});m(e,o)}}(t,n),error:function(e,t){return function(r,n){var o=l.Error({error:r,options:n,sessionData:t()});m(e,o)}}(t,n),trace:function(e){return function(t){var r=d.None(),n=l.Trace({position:r,payload:t});m(e,n)}}(t),traceSync:function(e){return function(t,r){var n=Date.now(),o=c();m(e,l.Trace({position:d.Start({traceId:o}),payload:t}));try{var a=r(),u=Date.now()-n;return m(e,l.Trace({position:d.End({traceId:o,durationMs:u,result:i.Ok()}),payload:t})),a}catch(r){var s=Date.now()-n;throw m(e,l.Trace({position:d.End({traceId:o,durationMs:s,result:i.Error(r)}),payload:t})),r}}}(t),traceAsync:function(e){return function(t,r){var n=Date.now(),o=c();return m(e,l.Trace({position:d.Start({traceId:o}),payload:t})),r().then(function(r){var a=Date.now()-n;return m(e,l.Trace({position:d.End({traceId:o,durationMs:a,result:i.Ok()}),payload:t})),r}).catch(function(r){var a=Date.now()-n;return m(e,l.Trace({position:d.End({traceId:o,durationMs:a,result:i.Error(r)}),payload:t})),Promise.reject(r)})}}(t)}},matchAny:o.any}},function(e,t,r){"use strict";var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var o=r(0).noop,i=r(0).isError,a=r(1).union;e.exports.consoleHandlerCreator=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shouldLog,r=e.ignoredErrorMessages,u=(void 0===r?[]:r).slice(),c=function(e,t){(function(e){return u.some(function(t){return e===t})})(e)||console.error(t)};return{setIgnoredErrorMessages:function(e){u=e.slice()},consoleHandler:function(){return{init:function(){},log:function(e){e.matchWith(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({Warn:function(e){var r=e.message;if(t()){var o=i(r)?[r,r.message]:[new Error(r),r],a=n(o,2),u=a[0],s=a[1];c(s,u.stack)}},Error:function(e){var r=e.error;if(t()){var n=r.message?r.message:r,o=r.stack?r.stack:r;c(n,o)}}},a.any,o))}}}}}},function(e,t,r){"use strict";e.exports={CMEditor:{dsn:"https://e788f1b6d7b54d3482c54d1e27b95f38@sentry.wixpress.com/165"},CMMyAccount:{dsn:"https://bd7df26433634b41b7e711922156bff7@sentry.wixpress.com/166"},DBSMEditor:{dsn:"https://adc03f08d1814b5a835f586aaba9d8ff@sentry.wixpress.com/159"},DBSMViewer:{dsn:"https://27180ecd50484e4eafe543b40d29866d@sentry.wixpress.com/89"},UserErrors:{dsn:"https://73a0410004ae41b7b60ca1c4b4684996@sentry.wixpress.com/183"},WixData:{dsn:"https://9653fbb3e48143d890dba8a09a5a98c6@sentry.wixpress.com/184"}}},function(e,t,r){"use strict";var n=r(0).identity,o=r(0).mapValues,i=r(0).omit,a=r(0).has,u=r(122).configureForViewerWorker,c=function(e){var t=function(e){return a(e,"state.records")?i(e,"state.records"):e};e.setDataCallback(function(e){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:n)(e);return r.extra=function(e){return o(e,t)}(r.extra),r})};e.exports=function(e){var t=e.Raven,r=e.globalScope,n=e.dsn,o=e.params,i=e.appName,a=e.user;u({Raven:t,globalScope:r,dsn:n,params:o,appName:i}),c(t),t.setUserContext(a)}},function(e,t,r){"use strict";var n=r(0).identity,o=r(1).Result,i=r(123),a=r(19).isLocalhost,u=function(e){return o.try(e).getOrElse("unknown")},c=function(e){return o.try(e).fold(function(e){return e.message},function(e){return e})};e.exports.configureForViewerWorker=function(e){var t=e.Raven,r=e.globalScope,o=e.dsn,s=e.params,f=void 0===s?{}:s,l=e.appName;a()||(i({Raven:t,appName:l,browserUrlGetter:function(){return u(function(){return r["wix-location"].url})},dsn:o,params:f}),t.setDataCallback(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;return e.extra=Object.assign(e.extra||{},function(e){return{referrer:c(function(){return e["wix-window"].referrer}),workerUrl:c(function(){return e.location.href})}}(r)),e.tags=Object.assign(e.tags||{},f.tags||{},function(e){return{renderMode:u(function(){return e["wix-window"].rendering.env}),viewMode:u(function(){return e["wix-window"].viewMode}),santaVersion:u(function(){return function(e){var t=e.match(/santa\/([^/]*)/);return t?t[1]:"unknown"}(e.location.href)})}}(r)),t(e)}))}},function(e,t,r){"use strict";var n=r(0).identity,o=r(124),i=r(50),a=r(19).getAppUrl,u=r(125);e.exports=function(e){var t=e.Raven,r=e.appName,c=e.browserUrlGetter,s=e.dsn,f=e.params,l=a(r),d=i(l);t.config(s,Object.assign({},o,{captureUnhandledRejections:!1,autoBreadcrumbs:{dom:!1}})),t.setRelease(f.release||d),t.setShouldSendCallback(f.shouldSendCallback||u),t.setDataCallback(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;return e.request=Object.assign(e.request||{},{url:c()}),t(e)});return function(){t.setDataCallback(n)}}},function(e,t,r){"use strict";e.exports={maxUrlLength:1e3}},function(e,t,r){"use strict";var n=r(42),o=n.extract,i=n.parse,a=r(0).get,u=r(0).includes,c=r(0).identity,s=r(1),f=s.Result,l=s.Maybe,d=["ReactSource","EditorSource","experiments","petri_ovr","WixCodeRuntimeSource","js-wixcode-sdk-override","debug"],p=function(e){return l.fromNullable(e).chain(function(e){return f.try(function(){return i(o(e))})}).map(function(e){return function(e){return"true"===e.forceReportSentry}(e)||function(e){return Object.keys(e).every(function(e){return!u(d,e)})}(e)}).getOrElse(!0)},m=[function(e){return function(e){return[a(e,["request","headers","Referer"]),a(e,["request","url"])]}(e).every(p)}];e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;return m.concat(t).every(function(t){return t(e)})}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(0).noop,i=r(1).union,a=r(10).matchAny,u=r(127),c=r(129),s=c.setupBiLogger,f=c.setupErrorBiLogger,l=r(131),d=r(13).errorBoundaryScopes.USER_SCOPE,p=i("Environment",{NotInitialized:function(){},SSR:function(){},Client:function(e){var t=e.viewMode,r=e.platformBiParams,n=e.biLoggerFactory;return{biLogger:s(t,l(r,t),n),errorBiLogger:f(n)}}});e.exports.biHandlerCreator=function(){var e=p.NotInitialized();return function(){return{init:function(t){var r=t.inSsr,n=t.viewMode,o=t.platformBiParams,i=t.biLoggerFactory;e=r?p.SSR():p.Client({viewMode:n,platformBiParams:o,biLoggerFactory:i})},log:function(t){t.matchWith(n({BI:function(t){var r=t.biEvent;e.matchWith({Client:function(e){return e.biLogger.log(r)},SSR:o,NotInitialized:function(){throw new Error("You cannot report to BI before setting the logger environment.\n                  Make sure you call logger.init before reporting.")}})},Error:function(t){var r=t.error,a=t.options.zone;e.matchWith(n({Client:function(e){var t=e.errorBiLogger;a!==d&&u(function(e){return t.log(e)},r)}},i.any,o))}},a,function(){}))}}}}},function(e,t,r){"use strict";var n=r(1).Result,o=r(128).ERROR,i=r(0).isError;function a(e){var t=e.biLogger,r=e.biPayload;n.try(function(){return t(r)})}e.exports=function(e,t){if(i(t)){var r=t.message;a({biLogger:e,biPayload:{dsc:r,errn:r,errc:t.errorCode||o}})}else{a({biLogger:e,biPayload:{errn:n.try(function(){return t.toString()}).getOrElse(t),errc:o}})}}},function(e,t,r){"use strict";e.exports={ERROR:1,UNHANDLED_REJECTION:2,DATASET_FAILED_TO_LOAD:3,CONNECTION_CONFIG_FAILED_TO_LOAD:4,FILTER_PANEL_FAILED_TO_LOAD:5,SORT_PANEL_FAILED_TO_LOAD:6,ADD_COLUMN_PANEL_FAILED_TO_LOAD:7,CHANGE_COLLECTION_PANEL_FAILED_TO_LOAD:8,CREATE_DATASET_PANEL_FAILED_TO_LOAD:9,NEW_DYNAMIC_PAGE_PANEL_FAILED_TO_LOAD:10,DELETE_DYNAMIC_PAGE_PANEL_FAILED_TO_LOAD:11,DYNAMIC_PAGE_INFO_PANEL_FAILED_TO_LOAD:12,DYNAMIC_PAGE_SEO_PANEL_FAILED_TO_LOAD:13,DYNAMIC_PAGES_HOOKS_PANEL_FAILED_TO_LOAD:14,ERROR_PANEL_FAILED_TO_LOAD:15,ADD_PRESET_PANEL_FAILED_TO_LOAD:16,ADD_FIELD_PANEL_FAILED_TO_LOAD:17,NEW_DYNAMIC_PAGE_PANEL_V3_FAILED_TO_LOAD:18,CONNECT_PAGE_FAILED_TO_LOAD:21,DELETE_PAGE_FAILED_TO_LOAD:22,NEW_PAGE_FAILED_TO_LOAD:23,PAGE_INFO_FAILED_TO_LOAD:24,PAGE_SEO_FAILED_TO_LOAD:25,UPDATE_PREFIX_FAILED_TO_LOAD:26,WEB_MODULES_PERMISSONS_FAILED_TO_LOAD:27,DELETE_ROUTERS_JS_FAILED_TO_LOAD:28,NPM_MODULES_MANAGEMENT_PANEL_FAILED_TO_LOAD:79,REMOVE_NPM_PACKAGE_PANEL_FAILED_TO_LOAD:79}},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(130),i=o.BI_SOURCE,a=o.BI_ENDPOINT,u=o.BI_VIEWER_ENDPOINT,c=o.BI_ERROR_ENDPOINT,s=r(26).DATA_BINDING,f=r(19).getAppUrl,l=r(50),d=r(20).isPreview,p={src:i,ver:l(f("dbsm-viewer-app")),app_name:"dbsm-viewer-app",app_id:s};e.exports.setupBiLogger=function(e,t,r){return r().updateDefaults(n({},p,t)).logger({endpoint:function(e){return d(e)?a:u}(e)})},e.exports.setupErrorBiLogger=function(e){return e().updateDefaults(Object.assign({},p,{evid:10})).logger({endpoint:c})}},function(e,t,r){"use strict";e.exports.BI_ENDPOINT="platform",e.exports.BI_CM_ENDPOINT="platform-cm",e.exports.BI_SANTA_EDITOR_ENDPOINT="editor",e.exports.BI_VIEWER_ENDPOINT="platform-viewer",e.exports.BI_ERROR_ENDPOINT="trg",e.exports.BI_SOURCE=79,e.exports.BI_CM_SOURCE=83,e.exports.BI_SANTA_EDITOR_SOURCE=38},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(20).isPreview;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],r=o(t)?{}:{vsi:e.viewerSessionId};return n({pageId:e.pageId},r)}},function(e,t,r){"use strict";var n=r(133).createHooks;e.exports=function(e){var t=n(e);return{appId:"databinding",appName:"databinding",startHook:t.startHook,endHook:t.endHook}}},function(e,t,r){"use strict";var n=r(8).TraceType;e.exports.createHooks=function(e){return{startHook:function(t){var r=t.name;e.trace(n.Breadcrumb({category:"interaction start",message:"interaction "+r+" started"}))},endHook:function(t){var r=t.name,o=t.duration;e.trace(n.Breadcrumb({category:"interaction end",message:"interaction "+r+" ended after "+o+" ms"}))}}}},function(e,t,r){"use strict";var n=r(1).Result,o=r(0).set,i=r(8).TraceType,a=function(e,t){return null==e?t:o(t,["data","result"],e)};e.exports=function(e,t,r){return{withBreadcrumbs:function(o,u){return function(){for(var c=arguments.length,s=Array(c),f=0;f<c;f++)s[f]=arguments[f];var l=t(o,s);return n.try(function(){return u.apply(void 0,s)}).fold(function(t){throw l.data=l.data||{},l.data.exception=t,l.level="error",e.trace(i.Breadcrumb(l)),t},function(t){var n=a(r(t),l);return e.trace(i.Breadcrumb(n)),t})}},withBreadcrumbsAsync:function(n,o){return function(){for(var u=arguments.length,c=Array(u),s=0;s<u;s++)c[s]=arguments[s];var f=t(n,c);return o.apply(void 0,c).then(function(t){var n=a(r(t),f);return e.trace(i.Breadcrumb(n)),t},function(t){throw f.data=f.data||{},f.data.exception=t,f.level="error",e.trace(i.Breadcrumb(f)),t})}}}}},function(e,t,r){"use strict";var n=r(136),o=r(13),i=o.setErrorScope,a=o.errorBoundaryScopes,u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i(r,a.USER_SCOPE),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n),t}();e.exports=u},function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e){function t(){e.apply(this,arguments)}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(r,"message",{configurable:!0,enumerable:!1,value:e,writable:!0}),Object.defineProperty(r,"name",{configurable:!0,enumerable:!1,value:r.constructor.name,writable:!0}),Error.hasOwnProperty("captureStackTrace")?(Error.captureStackTrace(r,r.constructor),n(r)):(Object.defineProperty(r,"stack",{configurable:!0,enumerable:!1,value:new Error(e).stack,writable:!0}),r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o(Error)),t}();t.default=i,e.exports=t.default},function(e,t,r){"use strict";var n=r(49).traceHandlerIds,o=n.FEDOPS,i=n.SYSTEM_TRACING,a=r(8).TraceType,u="info";e.exports.initAppForPage=function(){return a.Action({actionName:"databinding/initAppForPage",options:{level:u,reportToHandlers:[o,i]}})},e.exports.createControllers=function(){return a.Action({actionName:"databinding/createControllers",options:{level:u,reportToHandlers:[o,i]}})},e.exports.findRecords=function(e){var t=e.collectionName,r=e.filter,n=e.sort,o=e.offset,c=e.length;return a.Action({actionName:"dataset/findRecords",options:{level:u,reportToHandlers:[i],data:{message:{collectionName:t,filter:r,sort:n,offset:o,length:c}}}})},e.exports.loadSchemas=function(){return a.Action({actionName:"databinding/loadSchemas",options:{level:u,reportToHandlers:[o,i]}})},e.exports.pageReady=function(){return a.Action({actionName:"dataset/pageReady",options:{level:u,reportToHandlers:[o,i]}})},e.exports.pageReadyGetData=function(){return a.Action({actionName:"dataset/pageReady/getData",options:{level:u,reportToHandlers:[o,i]}})},e.exports.repeaterItemReady=function(e){return a.Action({actionName:"connectedRepeaterAdapter itemReady "+e,options:{level:u,reportToHandlers:[i]}})},e.exports.repeaterSetData=function(){return a.Action({actionName:"connectedRepeaterAdapter setting repeater.data",options:{level:u,reportToHandlers:[i]}})},e.exports.repeaterRecordSetLoaded=function(){return a.Action({actionName:"connectedRepeaterAdapter recordSetLoaded",options:{level:u,reportToHandlers:[i]}})},e.exports.repeaterCurrentViewChanged=function(){return a.Action({actionName:"connectedRepeaterAdapter currentViewChanged",options:{level:u,reportToHandlers:[i]}})}},function(e,t,r){"use strict";e.exports=function(e,t){return function(r){t("An error occurred in one of "+e+" callbacks",r)}}},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(0).flow,i=r(1).Maybe,a=r(21),u=a.assign,c=a.bind,s=r(18).getRecordId,f=function(e){return u({records:e})},l=function(e){return function(t){return n({},t,{numMatchingRecords:e+p(t)})}},d=function(e){return n({},e,{numSeedRecords:e.records.length})},p=function(e,t){return e.newRecordMarkers.filter(function(e){return null==t||e<=t}).length},m=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.overwrite,o=void 0===n||n,i=r.fixIndex,a=void 0===i||i;return c(function(r){var n=e+(a?p(r,e):0),i=Math.max(0,n-r.records.length),u=n+(o?t.length:0);return r.records.slice(0,n).concat(Array(i)).concat(t.map(function(e){return s(e)})).concat(r.records.slice(u))},f)};e.exports.calculateMissingRange=function(e,t,r){var n=e.records.slice(t,r),o=n.findIndex(d),a=function(e,t){if(t.length>0)for(var r=t.length-1;r>=0;r-=1)if(e(t[r]))return r;return-1}(d,n),u=m(o,t),c=m(a,r),s=p(e,u),f=u-s,l=c-s-f;return 0===l?i.Nothing():i.Just({from:f,length:l});function d(e){return"string"!=typeof e}function m(t,r){return-1===t?Math.max(e.records.length,r):o+r}},e.exports.freshScope=function(){return{records:[],numMatchingRecords:null,numSeedRecords:0,newRecordMarkers:[]}},e.exports.insertRecordAtIndex=function(e,t){return m(e,[t],{overwrite:!1,fixIndex:!1})},e.exports.newRecordMarkersOffset=p,e.exports.overwriteRecordAtIndex=function(e,t){return m(e,[t],{fixIndex:!1})},e.exports.recordIndexById=function(e,t){return t.records.indexOf(e)},e.exports.removeRecordById=function(e){return c(function(t){return t.records.filter(function(t){return t!==e})},f)},e.exports.scopeHasRecord=function(e){return function(t){return t.records.includes(e)}},e.exports.setNewRecordMarkers=function(e){return u({newRecordMarkers:e})},e.exports.setSeedInScope=function(e){return e.matchWith({Empty:function(){return l(0)},Results:function(e){var t=e.items,r=e.totalCount;return e.offset,o(f(t.map(function(e){return s(e)})),l(r),d)}})},e.exports.storeResultsInScope=function(e){return e.matchWith({Empty:function(){return l(0)},Results:function(e){var t=e.items,r=e.totalCount,n=e.offset;return o(l(r),t.length>0?m(n,t):function(e){return e})}})},e.exports.updateNewRecordMarkers=function(e){return function(t){return n({},t,{newRecordMarkers:e(t.newRecordMarkers)})}},e.exports.updateNumMatchingRecords=function(e){return function(t){return n({},t,{numMatchingRecords:e(t.numMatchingRecords)})}}},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(0).flow,a=r(0).curry,u=r(0).mapValues,c=r(21),s=c.assign,f=c.bind,l=r(55),d=l.freshCollection,p=l.fromWarmupCollection,m=a(function(e,t){return s(o({},e,t))}),v=function(e){return function(t){return t[e]}};e.exports.freshStore=function(e){return o({},e,n({},d()))},e.exports.fromWarmupStore=function(e){return u(e,p)},e.exports.getCollection=v,e.exports.setCollection=m,e.exports.updateCollection=a(function(e,t){return f(i(v(e),t),m(e))})},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(0).cloneDeep,i=r(0).noop,a=r(142),u=r(143),c=function(e,t){return[e,"componentId",t.componentId,"itemId",t.itemId].join("_")};e.exports=function(e,t){var r=a(e),s={createPrimaryController:function(){return l},createDetailsController:function(e,r){return f(!0,!1,n({},t,{firePlatformEvent:i,datasetId:c(t.datasetId,e),handshakes:function(e,t){var r=t.componentId,o=t.itemId;if(e)return e.map(function(e){return n({},e,{controllerApi:e.controllerApi.inScope(r,o)})})}(t.handshakes,e),$w:r}))},createFixedItemController:function(e,r,a,u){var s=(t.routerData||{}).dynamicPagesData,l=o(t.controllerConfig);return l.dataset.filter=t.wixDataProxy.filter().eq("_id",r._id)._build(),f(!0,!0,n({},t,{controllerConfig:l,firePlatformEvent:i,routerData:{dynamicPagesData:s,prefetchedData:{items:[r],totalCount:1}},datasetId:c(t.datasetId,e),parentId:a,$w:u}))}},f=u(s,r),l=f(!1,!1,t);return s}},function(e,t,r){"use strict";var n=r(0).unset,o=r(0).get,i=r(8).TraceType;e.exports=function(e){var t={};return{setController:function(r,n){var o=r.componentId,a=r.itemId;e.trace(i.Breadcrumb({level:"info",category:"scopeStore",message:"adding scope",data:{componentId:o,itemId:a}})),t[o]=t[o]||{},t[o][a]=n},getController:function(e){var r=e.componentId,n=e.itemId,o=t[r];return o&&o[n]},removeController:function(r){var a=r.componentId,u=r.itemId;e.trace(i.Breadcrumb({level:"info",category:"scopeStore",message:"removing scope",data:{componentId:a,itemId:u}}));var c=t[a];o(c,u)&&(c[u].dispose(),n(c,u))},getAll:function(){return Object.values(t).reduce(function(e,t){return e.concat(Object.values(t))},[])}}}},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(0).uniq,u=r(0).get,c=r(0).mapValues,s=r(0).groupBy,f=r(0).flow,l=r(0).isNull,d=r(1).Maybe,p=r(27),m=r(4).UPLOAD_BUTTON_ROLE,v=r(144).SCOPE_TYPES,h=r(2),g=r(15),y=r(154),E=r(62),R=r(22),T=r(155),b=r(64),x=b.setDependencies,_=b.waitForDependencies,w=b.performHandshake,I=b.resolveMissingDependencies,O=r(163),C=r(165),S=r(166),A=r(167),D=r(60),P=D.findConnectedComponents,N=D.resolveHandshakes,L=D.setConnectedComponents,F=r(168),M=F.adapterApiCreator,U=F.createComponentAdapterContexts,k=F.createDetailsRepeatersAdapterContexts,j=F.initAdapters,W=r(207),G=W.createFilterResolver,V=W.createValueResolvers,B=W.hasDatabindingDependencies,H=W.getDatabindingDependencyIds,$=W.hasUserInputDependencies,Y=r(216),q=r(217),z=r(29),X=z.isSameRecord,Q=z.createRecordStoreInstance,Z=r(218).reportDatasetActiveOnPage,J=r(220),K=r(223),ee=r(224),te=r(225),re=r(3).traceCreators,ne=r(227),oe=function(e){var t=h.getFilter(e.getState());if(B(t)){var r=H(t);return e.dispatch(x(r)),_(e)}},ie=function(e,t,r,n){return function(r,o,i){if(function(e,t){return l(e)&&l(t)}(r,o))n.error(new Error("onChangeHandler invoked with illegal arguments"),{extra:{arguments:{before:r,after:o,componentIdToExclude:i}}});else if(function(e,t){return l(e)}(r))t(g.refreshCurrentView()).catch(function(){});else{var a=h.selectCurrentRecord(e());if(function(e,t){return l(t)}(0,o))return X(r,a)&&t(g.refreshCurrentRecord()).catch(function(){}),void t(g.refreshCurrentView()).catch(function(){});if(function(e,t){return X(e,t)}(r,a)){var u=h.selectCurrentRecordIndex(e());t(g.setCurrentRecord(o,u,i)).catch(function(){})}}}};function ae(e){return Promise.all(e.getAll().map(function(e){return new Promise(function(t){e.staticExports.onReady(t)})}))}var ue=function(e,t,r){var n=c(s(e,function(e){return e.component.id}),function(e){return e.map(function(e){return e.role}).join()});return t.addSessionData(function(){return i({},r,{components:n})})};e.exports=function(e,t){return function(r,c,s){var l=s.$w,b=s.controllerConfig,x=s.datasetType,_=s.connections,D=s.wixDataProxy,F=s.wixSdk,W=s.firePlatformEvent,B=s.errorReporter,H=s.verboseReporter,z=s.routerData,X=s.appLogger,ce=s.datasetId,se=s.handshakes,fe=void 0===se?[]:se,le=s.schemaAPI,de=s.recordStoreService,pe=s.reportFormEventToAutomation,me=s.instansiateDatabindingVerboseReporter,ve=s.parentId,he=s.platformAPIs,ge=[],ye=C(W,B,H),Ee=z||{},Re=Ee.prefetchedData,Te=Ee.dynamicPagesData,be=ye.fireEvent;ge.push(ye.dispose);var xe=T(X,ce),_e=xe.store,we=xe.subscribe,Ie=xe.onIdle;ge.push(X.addSessionData(function(){return i({},ce,{datasetType:x,state:_e.getState(),connections:_})})),_e.dispatch(R.init({controllerConfig:b,connections:_,isScoped:r}));var Oe=h.isWriteOnly(_e.getState()),Ce=b.dataset.deferred&&!r,Se=h.getCollectionName(_e.getState());ge.push(X.addSessionData(function(){return{scopes:t.getAll()}}));var Ae=q();ge.push(Ae.unsubscribe);var De=$(h.getFilter(_e.getState())),Pe=void 0;De||(Pe=oe(_e));var Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se;return d.fromNullable(le.getSchema(e))},Le=function(e){var t=Ne(Se),r=le.getReferencedCollectionsSchemas(Se);return t.chain(function(t){return d.fromNullable(A(t,r)(e))})},Fe=void 0,Me=V(Ae.get(),F,function(){return Fe},Le),Ue=G(Me),ke=Q({recordStoreService:de,getFilter:f(function(e){return _e.getState()},h.getFilter),getSort:f(function(e){return _e.getState()},h.getSort),getPageSize:f(function(e){return _e.getState()},h.getCurrentPageSize),shouldAllowWixDataAccess:f(function(e){return _e.getState()},h.shouldAllowWixDataAccess),prefetchedData:Re,datasetId:ce,filterResolver:Ue,getSchema:Ne}),je=!r&&x===p.ROUTER_DATASET,We=je?ee({wixDataProxy:D,dynamicPagesData:Te,collectionName:Se}):null;je&&(we(K(We)),_e.dispatch(y.initialize(_)));var Ge=O({store:_e,recordStore:ke,logger:X,eventListeners:ye,handshakes:fe,controllerStore:t,errorReporter:B,verboseReporter:H,datasetId:ce,datasetType:x,isFixedItem:c,siblingDynamicPageUrlGetter:We,dependenciesManager:Ae,onIdle:Ie}),Ve=a(_.map(function(e){return e.role})),Be=Ge(!1),He=[],$e=me(Se,ve),Ye="backend"===u(F,["window","rendering","env"]),qe="thunderbolt"===u(he,["bi","viewerName"]),ze={getState:_e.getState,datasetApi:Be,wixSdk:F,errorReporter:B,platformAPIs:he,eventListeners:ye,roles:Ve,getFieldType:Le,getSchema:Ne,wixDataProxy:D,appLogger:X,applicationCodeZone:X.applicationCodeZone,controllerFactory:e,controllerStore:t,databindingVerboseReporter:$e,parentId:ve,wixFormatter:!qe&&Ye?null:Y({locale:F.site.regionalSettings||F.window.browserLocale})},Xe=M({dispatch:_e.dispatch,recordStore:ke,componentAdapterContexts:He});ge.push(de.map(function(e){return e.onChange(ie(_e.getState,_e.dispatch,0,X))}).getOrElse(function(){}));var Qe=!!Re,Ze=b&&!Oe,Je=function(){return Ze?te(Qe,ke,B,X):Promise.resolve(d.Nothing())},Ke=void 0,et=function(){return Ce?new Promise(function(e){return Ke=e}).then(Je):Je()},tt=void 0;De||(tt=Pe?Pe.then(et):et()).then(function(e){return e.map(function(e){return _e.dispatch(g.setCurrentRecord(e,0))})}),fe.forEach(function(e){return w(Ae,_e.dispatch,e)});var rt=function(){var e=h.selectCurrentRecordIndex(_e.getState());return ke().fold(function(){return!1},function(t){return t.isPristine(e)})&&!Oe},nt=function(){var e=o(regeneratorRuntime.mark(function e(){var i,a,c,s,f=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(F.user.onLogin(function(){rt()&&Be.refresh()}),Fe=P(Ve,l),De&&(Pe=oe(_e),(tt=Pe?Pe.then(et):et()).then(function(e){return e.map(function(e){return _e.dispatch(g.setCurrentRecord(e,0))})})),_e.dispatch(L(Fe.map(function(e){return e.component.uniqueId}))),N({datasetApi:Be,components:Fe,controllerConfig:b,controllerConfigured:h.isDatasetConfigured(_e.getState())}).forEach(function(e){var t=e.controller,r=e.handshakeInfo;return t.handshake(r)}),!Pe){e.next=10;break}return _e.dispatch(I()),e.next=10,Pe;case 10:if(i=Ae.get(),r){e.next=14;break}return e.next=14,le.waitForSchemas();case 14:if(He.push.apply(He,n(U({connectedComponents:Fe,$w:l,adapterApi:Xe,getFieldType:Le,ignoreItemsInRepeater:!r,dependencies:i,adapterParams:ze}))),r||(a=k(Fe,Le,i,ze),He.push.apply(He,n(a))),we(J(ke,Xe,Le,ye.executeHooks,X,ce,He,Ne,Se,pe,be,H)),ge.push(ue(He,X,ce)),ge.push(S(_e,He,X,ce,ke)),c=ne(He.filter(function(e){return e.role!==m})),_e.dispatch(g.setDefaultRecord(c)),!h.isDatasetConfigured(_e.getState())||!Oe){e.next=24;break}return e.next=24,_e.dispatch(g.initWriteOnly(r));case 24:if(Ce&&Xe().hideComponent({rememberInitiallyHidden:!0}),s=tt.then(o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{Z(X.bi,_e.getState(),_,x,r,ce,F)}catch(e){X.error(e)}return e.next=3,j(Xe());case 3:if(r){e.next=6;break}return e.next=6,ae(t);case 6:if(Ce&&Xe().showComponent({ignoreInitiallyHidden:!0}),_e.dispatch(E.setIsDatasetReady(!0)),be("datasetReady"),"backend"!==u(F,["window","rendering","env"])){e.next=17;break}return e.next=12,le.waitForSchemas();case 12:e.t1=e.sent,e.t2=ke().fold(function(){return null},function(e){return e.getTheStore()}),e.t0={schemas:e.t1,store:e.t2},e.next=18;break;case 17:e.t0=void 0;case 18:return e.abrupt("return",e.t0);case 19:case"end":return e.stop()}},e,f)}))),!Ce){e.next=29;break}return Ye||Ke(),e.abrupt("return",Promise.resolve());case 29:return e.abrupt("return",s);case 30:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),ot=Ge(!0),it=r?nt:function(){return X.traceAsync(re.pageReady(),nt)};return{pageReady:X.applicationCodeZone(it),exports:function(e){switch(e.type){case v.COMPONENT:return ot.inScope(e.compId,e.additionalData.itemId);default:return ot}},staticExports:ot,dispose:function(){He.splice(0),ge.forEach(function(e){return e()})}}}}},function(e,t,r){"use strict";e.exports.SCOPE_TYPES={COMPONENT:"COMPONENT_SCOPE",GLOBAL:"GLOBAL_SCOPE"}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(0).inRange,i=r(1).Result,a=r(28),u=r(30),c=r(22),s=r(31),f=r(56),l=r(57),d=function(e){var t=e.error,r=e.payload;return t?i.Error(r):i.Ok(r)},p={currentRecord:{index:void 0,data:void 0,fieldsToUpdate:void 0,updateSource:void 0},lastSavedRecord:{index:void 0,data:void 0},desiredIndex:void 0,refreshCurrentRecord:!1,removeCurrentRecord:!1,newRecordIndex:null,refreshCurrentView:!1,refreshController:!1,revertChanges:!1,saveRecord:!1,defaultRecord:void 0,isForm:void 0,page:{numPagesToShow:1,offset:0,size:a.pageSize},schema:void 0},m=function(e){return function(e,t){return o(e,y(t).offset,y(t).offset+y(t).size)}(R(e),e)},v=function(e,t,r,o){var i=n({},e,{currentRecord:{index:t,data:r,updateSource:o},desiredIndex:t,refreshCurrentRecord:!1,refreshController:!1});return m(i)?i:n({},i,{page:n({},i.page,{offset:Math.floor(i.currentRecord.index/i.page.size)*i.page.size,numPagesToShow:1})})};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments[1];switch(t.type){case u.SET_CURRENT_RECORD:var r=t.recordIndex,o=t.record,i=t.updateSource;return v(e,r,o,i);case u.NEW_RECORD:return n({},e,{newRecordIndex:t.atIndex});case u.NEW_RECORD_RESULT:return d(t).fold(function(){return n({},e,{newRecordIndex:null})},function(t){return n({},v(e,e.newRecordIndex,t),{newRecordIndex:null})});case u.UPDATE_FIELDS:var a=t.fieldsToUpdate,g=t.updateSource;return n({},e,{currentRecord:n({},e.currentRecord,{fieldsToUpdate:a,updateSource:g})});case u.GO_TO_INDEX:return n({},e,{desiredIndex:t.index});case u.GET_RECORD_BY_INDEX_RESULT:return d(t).fold(function(){return n({},e,{desiredIndex:e.currentRecord.index,refreshCurrentRecord:!1,refreshController:!1})},function(t){return t.matchWith({Record:function(t){var r=t.index,n=t.record;return v(e,r,n)},InvalidIndex:function(){return n({},e,{desiredIndex:e.currentRecord.index,refreshCurrentRecord:!1})},NoRecord:function(){return v(e,null,null)}})});case u.REFRESH_CURRENT_RECORD:return n({},e,{refreshCurrentRecord:!0});case u.REMOVE_CURRENT_RECORD:return n({},e,{removeCurrentRecord:!0});case u.REMOVE_CURRENT_RECORD_RESULT:return d(t).fold(function(){return n({},e,{removeCurrentRecord:!1})},function(){return n({},e,{removeCurrentRecord:!1,refreshCurrentRecord:!0})});case u.REFRESH_CURRENT_VIEW:return n({},e,{refreshCurrentView:!0});case u.CURRENT_VIEW_UPDATED:return n({},e,{refreshCurrentView:!1});case u.REVERT_CHANGES:return n({},e,{revertChanges:!0});case u.RECORD_REVERTED:return n({},e,{revertChanges:!1});case u.SET_DEFAULT_RECORD:var E=t.record;return n({},e,{defaultRecord:E});case c.actionTypes.INIT:var R=t.datasetConfig,T=t.connections,b=l.getPageSize(R),x=l.getReadWriteType(R);return n({},e,{isForm:f(x,T),page:n({},e.page,{size:b||e.page.size})});case c.actionTypes.SET_PAGINATION_DATA:var _=n({},e,{page:n({},e.page,t.paginationData)});return m(_)?_:n({},_,{desiredIndex:_.page.offset});case u.GO_TO_NEXT_PAGE:var w=y(e),I=h(e),O=w.offset+I,C=n({},e,{page:n({},e.page,{numPagesToShow:1,offset:O})});return m(C)?C:n({},C,{desiredIndex:C.page.offset});case u.GO_TO_PREVIOUS_PAGE:var S=y(e),A=Math.max(0,S.offset-S.size),D=n({},e,{page:n({},e.page,{numPagesToShow:1,offset:A})});return m(D)?D:n({},D,{desiredIndex:D.page.offset});case u.LOAD_PAGE:var P=y(e).size,N=n({},e,{page:n({},e.page,{numPagesToShow:1,offset:P*(t.pageNumber-1)})});return m(N)?N:n({},N,{desiredIndex:N.page.offset});case u.INCREMENT_NUM_PAGES_TO_SHOW:return n({},e,{page:n({},e.page,{numPagesToShow:e.page.numPagesToShow+1})});case u.SAVE_RECORD:return n({},e,{saveRecord:!0,lastSavedRecord:{index:void 0,data:void 0}});case u.SAVE_RECORD_RESULT:return d(t).fold(function(){return n({},e,{saveRecord:!1})},function(t){return n({},e,{saveRecord:!1,lastSavedRecord:{index:e.currentRecord.index,data:t}})});case s.SET_FILTER:case s.SET_SORT:case u.REFRESH:return n({},e,{refreshController:!0});default:return e}};var h=function(e){return e.page.size},g=function(e){return e.page.numPagesToShow},y=function(e){return e.page},E=function(e){return e.currentRecord.data},R=function(e){return e.currentRecord.index};e.exports.getCurrentPageSize=h,e.exports.getNumberOfPagesToShow=g,e.exports.getPaginationData=y,e.exports.getCurrentPage=function(e){return e.page.offset/h(e)+g(e)},e.exports.hasCurrentRecord=function(e){return!!E(e)},e.exports.selectCurrentRecord=E,e.exports.selectCurrentRecordIndex=R,e.exports.selectDefaultDraft=function(e){return n({},e.defaultRecord)},e.exports.selectDesiredRecordIndex=function(e){return e.desiredIndex},e.exports.selectFieldsToUpdate=function(e){return e.currentRecord.fieldsToUpdate},e.exports.selectLastSavedRecord=function(e){return e.lastSavedRecord.data},e.exports.selectLastSavedRecordIndex=function(e){return e.lastSavedRecord.index},e.exports.selectRefreshController=function(e){return e.refreshController},e.exports.selectRefreshCurrentRecord=function(e){return e.refreshCurrentRecord},e.exports.selectRemoveCurrentRecord=function(e){return e.removeCurrentRecord},e.exports.selectRefreshCurrentView=function(e){return e.refreshCurrentView},e.exports.selectRevertChanges=function(e){return e.revertChanges},e.exports.selectSaveRecord=function(e){return e.saveRecord},e.exports.selectUpdateSource=function(e){return e.currentRecord.updateSource},e.exports.selectNewRecordIndex=function(e){return e.newRecordIndex},e.exports.isDuringSave=function(e){return e.saveRecord},e.exports.isForm=function(e){return e.isForm}},function(e,t,r){"use strict";var n=r(23),o=n.AddressInput,i=n.RatingsInput,a=n.TextInput,u=n.TextBox,c=n.RichTextBox,s=n.Checkbox,f=n.DatePicker,l=n.RadioButtonGroup,d=n.Dropdown,p=n.UploadButton,m=n.ToggleSwitch,v=n.Slider,h=n.TimePicker,g=n.CheckboxGroup,y=n.SelectionTags,E=r(4),R=[{type:o,role:E.ADDRESSINPUT_ROLE},{type:i,role:E.RATINGSINPUT_ROLE},{type:a,role:E.TEXT_INPUT_ROLE},{type:u,role:E.TEXT_BOX_ROLE},{type:c,role:E.RICH_TEXT_BOX_ROLE},{type:s,role:E.CHECKBOX_ROLE},{type:f,role:E.DATEPICKER_ROLE},{type:l,role:E.RADIOGROUP_ROLE},{type:d,role:E.DROPDOWN_ROLE},{type:p,role:E.UPLOAD_BUTTON_ROLE},{type:m,role:E.TOGGLESWITCH_ROLE},{type:v,role:E.SLIDER_ROLE},{type:h,role:E.TIMEPICKER_ROLE},{type:g,role:E.CHECKBOX_GROUP_ROLE},{type:y,role:E.SELECTION_TAGS_ROLE}];e.exports.types=R.map(function(e){return e.type}),e.exports.roles=R.map(function(e){return e.role})},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(0).get,i=r(0).pick,a=r(28),u=r(7),c=r(31),s=r(30),f=r(22),l=["collectionName","readWriteType","includes","preloadData"],d=["filter","sort","pageSize"],p=function(e){return i(e,l)},m=function(e){return i(e,d)},v=function(e,t){return n({},e,{transientData:n({},e.transientData,t)})},h={canonicalData:p(a),transientData:n({isDatasetReady:!1,allowWixDataAccess:a.preloadData},m(a))};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments[1];switch(t.type){case f.actionTypes.INIT:var r=o(t,["datasetConfig","preloadData"],!0);return n({},e,{canonicalData:n({},e.canonicalData,p(t.datasetConfig)),transientData:n({},e.transientData,m(t.datasetConfig),{allowWixDataAccess:r})});case c.SET_FILTER:var i=t.filter;return v(e,{filter:i,allowWixDataAccess:!0});case c.SET_SORT:var a=t.sort;return v(e,{sort:a});case c.SET_IS_DATASET_READY:var u=t.isDatasetReady;return v(e,{isDatasetReady:u});case c.SET_FIXED_FILTER_ITEM:var l=t.fixedFilterItem;return v(e,{fixedFilterItem:l});case s.REFRESH:return v(e,{allowWixDataAccess:!0});default:return e}},e.exports.isWriteOnly=function(e){return o(e,["canonicalData","readWriteType"])===u.WRITE},e.exports.isReadOnly=function(e){return o(e,["canonicalData","readWriteType"])===u.READ},e.exports.getReadWriteMode=function(e){return o(e,["canonicalData","readWriteType"])},e.exports.isDatasetReady=function(e){return o(e,["transientData","isDatasetReady"])},e.exports.isDatasetConfigured=function(e){return!!o(e,["canonicalData","collectionName"])},e.exports.getPageSize=function(e){return o(e,["transientData","pageSize"])},e.exports.getFixedFilterItem=function(e){return o(e,["transientData","fixedFilterItem"])},e.exports.getFilter=function(e){return o(e,["transientData","filter"])},e.exports.getSort=function(e){return o(e,["transientData","sort"])},e.exports.getIncludes=function(e){return o(e,["canonicalData","includes"])||[]},e.exports.getCollectionName=function(e){return o(e,["canonicalData","collectionName"])},e.exports.getPreloadData=function(e){return o(e,["canonicalData","preloadData"],!0)},e.exports.shouldAllowWixDataAccess=function(e){return o(e,["transientData","allowWixDataAccess"])}},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=r(1).Maybe,i=r(0).every,a=r(0).values,u=r(58),c=r(59),s=o.Nothing(),f="UNKNOWN",l="PERFORMED_HANDSHAKE",d="READY",p="MISSING",m=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.reduce(function(e,r){return e[r]=t,e},r)};e.exports=u(s,new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:c.SET_DEPENDENCIES,value:function(e,t){return o.Just(m(t.dependenciesIds,f))}},{key:c.RESOLVE_DEPENDENCIES,value:function(e,t){return e.map(function(e){return m(t.dependenciesIds,d,e)})}},{key:c.PERFORM_HANDSHAKES,value:function(e,t){return e.map(function(e){return m(t.dependenciesIds,l,e)})}},{key:c.RESOLVE_MISSING_DEPENDENCIES,value:function(e){return e.map(function(e){return Object.keys(e).reduce(function(e,t){return e[t]=e[t]===f?p:e[t],e},e)})}}]),e}())),e.exports.areDependenciesResolved=function(e){return e.map(function(e){return i(a(e),function(e){return e===p||e===d})}).getOrElse(!1)}},function(e,t,r){"use strict";var n=r(61);e.exports.setConnectedComponents=function(e){return{type:n.SET_CONNECTED_COMPONENTS,connectedComponents:e}}},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=r(58),i=r(61);e.exports=o([],new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:i.SET_CONNECTED_COMPONENTS,value:function(e,t){return t.connectedComponents}}]),e}())),e.exports.getConnectedComponents=function(e){return e}},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(0).get,i=r(32),a=r(153),u={nextDynamicPageUrl:a.Empty(),previousDynamicPageUrl:a.Empty()},c=function(e){var t=function(e){var t=e.filter(function(e){return!!o(e,"config.events.onClick.action")});return new Set(t.map(function(e){return o(e,"config.events.onClick.action")}))}(e),r=function(e){return e?a.Loading():a.Empty()};return{nextDynamicPageUrl:r(t.has("nextDynamicPage")),previousDynamicPageUrl:r(t.has("previousDynamicPage"))}};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case i.INITIALIZE:return n({},e,c(t.connections));case i.NEXT_DYNAMIC_PAGE_URL_RESULT:return n({},e,{nextDynamicPageUrl:a.fromUrl(t.payload)});case i.PREVIOUS_DYNAMIC_PAGE_URL_RESULT:return n({},e,{previousDynamicPageUrl:a.fromUrl(t.payload)});default:return e}};e.exports.selectNextDynamicPageUrl=function(e){return e.nextDynamicPageUrl},e.exports.selectPreviousDynamicPageUrl=function(e){return e.previousDynamicPageUrl}},function(e,t,r){"use strict";var n=(0,r(1).union)("DynamicPageUrlLoadState",{Empty:function(){},Loading:function(){},Loaded:function(e){if(!e)throw new Error("url must exist");return{url:e}}},{hasUrl:function(e){return function(){return e.matchWith({Empty:function(){return!1},Loading:function(){return!1},Loaded:function(){return!0}})}},shouldLoadUrl:function(e){return function(){return e.matchWith({Empty:function(){return!1},Loading:function(){return!0},Loaded:function(){return!1}})}}});n.fromUrl=function(e){return e?n.Loaded(e):n.Empty()},e.exports=n},function(e,t,r){"use strict";var n=r(32);e.exports.initialize=function(e){return{type:n.INITIALIZE,connections:e}},e.exports.setNextDynamicPageUrl=function(e){return{type:n.NEXT_DYNAMIC_PAGE_URL_RESULT,url:e}},e.exports.setPreviousDynamicPageUrl=function(e){return{type:n.PREVIOUS_DYNAMIC_PAGE_URL_RESULT,url:e}}},function(e,t,r){"use strict";var n=r(71),o=n.createStore,i=n.applyMiddleware,a=r(156).createTraceReduxMiddleware,u=r(157),c=r(2);e.exports=function(e,t){var r=u.createMiddleware(),n=r.middleware,s=r.subscribe,f=r.onIdle;return{store:o(c,void 0,i(n,a(e,t))),subscribe:s,onIdle:f}}},function(e,t,r){"use strict";var n=r(0).omit,o=r(63),i=r(8).TraceType;e.exports.createTraceReduxMiddleware=function(e,t){return function(r){return function(r){return function(a){return e.trace(i.Breadcrumb({category:"redux",message:o(a.type,t),data:n(a,"type","record")})),r(a)}}}}},function(e,t,r){"use strict";var n=r(158);e.exports={createMiddleware:n}},function(e,t,r){"use strict";var n=r(159).isPromise,o=r(160),i=o.sequence,a=o.try_,u=r(161),c=r(162),s=c.isEffect,f=c.isImmediateEffect,l=c.isQueuedEffect,d=function(e){return function(t){return e.push(t),function(){var r=e.indexOf(t);r>=0&&e.splice(r,1)}}};e.exports=function(){var e=[],t=[],r=Promise.resolve();return{middleware:function(o){return function(c){return function(d){var p=function(e){var t=a(function(){return e.run()});return t.fold(function(r){var n=e.resultActionCreator?o.dispatch(e.resultActionCreator(!0,r)):Promise.resolve();return[t,n]},function(r){if(n(r)){var i=r.then(function(t){return e.resultActionCreator?o.dispatch(e.resultActionCreator(!1,t)):Promise.resolve()},function(t){throw e.resultActionCreator&&o.dispatch(e.resultActionCreator(!0,t)).catch(function(){}),t});return[t,i]}var a=e.resultActionCreator?o.dispatch(e.resultActionCreator(!1,r)):Promise.resolve();return[t,a]})},m=function(){var e=void 0,n=new Promise(function(t){return e=t});return{promise:new Promise(function(e,o){var i=r=r.then(function(){return n}).then(function(e,t){return function(r){if(r.length>0){var n=r.filter(l).map(p);return Promise.all(n.map(function(e){return e[1]})).then(function(){return e()},t),Promise.all(n.map(function(e){return e[0]}).map(function(e){return e.fold(function(e){return Promise.reject(e)},function(e){return e})})).catch(t)}return e(),Promise.resolve()}}(e,o),o).catch(o).then(function(){i===r&&t.slice().forEach(function(e){return e()})})}),trigger:e}},v=function(e){var t=m(),r=t.promise,n=t.trigger;return a(function(){return function(e){var t=e.filter(f).map(p);return t.map(function(e){return e[0]}).map(function(e){return e.fold(function(e){throw e},function(e){return e})}),t.map(function(e){return e[1]}).map(function(e){return e.catch(function(){})}),e.filter(l)}(e)}).fold(function(e){throw n([]),e},function(e){return n(e),r})},h=o.getState(),g=c(d),y=o.getState();if(h!==y){var E=u(h,y);return i(e.slice().map(function(e){return a(function(){return e(E)||[]})})).fold(function(e){throw e},function(e){return v(e.filter(s))})}return Promise.resolve(g)}}},subscribe:d(e),onIdle:d(t)}}},function(e,t,r){"use strict";e.exports.isPromise=function(e){return null!=e&&"function"==typeof e.then}},function(e,t,r){"use strict";var n=function(){},o=function(e,t){return e.fold(t.Error||n,t.Ok||n)},i=function(e){return{map:function(e){return this},fold:function(t,r){return t(e)},chain:function(e){return this},match:function(e){return o(this,e)},value:e}},a=function e(t){return{map:function(r){return e(r(t))},fold:function(e,r){return r(t)},chain:function(e){return e(t)},match:function(e){return o(this,e)},value:t}},u={Left:i,Right:a};e.exports={Either:u,sequence:function(e){return e.reduce(function(e,t){return e.chain(function(e){return t.map(function(t){return e.concat(t)})})},a([]))},try_:function(e){try{return a(e())}catch(e){return i(e)}}}},function(e,t,r){"use strict";e.exports=function(e,t){var r={from:e,to:t,hasChanged:function(r){return r(e)!==r(t)},hasChangedToMatch:function(e,n){return r.hasChanged(e)&&n(e(t))},hasChangedToTrue:function(e){return r.hasChangedToMatch(e,function(e){return!0===e})},hasChangedToFalse:function(e){return r.hasChangedToMatch(e,function(e){return!1===e})},hasChangedToNull:function(e){return r.hasChangedToMatch(e,function(e){return null===e})},hasChangedToNotNull:function(e){return r.hasChangedToMatch(e,function(e){return null!==e})}};return r}},function(e,t,r){"use strict";var n=function(e){return null!=e&&"function"==typeof e.run&&"boolean"==typeof e.isQueued&&(!e.resultActionCreator||"function"==typeof e.resultActionCreator)};e.exports={isEffect:n,isImmediateEffect:function(e){return n(e)&&!e.isQueued},isQueuedEffect:function(e){return n(e)&&e.isQueued}}},function(e,t,r){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var o=r(0).cloneDeep,i=r(0).identity,a=r(0).flow,u=r(0).noop,c=r(0).mapValues,s=r(22),f=r(164),l=r(15),d=r(62),p=r(64).performHandshake,m=r(2),v=r(24),h=r(7),g=h.READ,y=h.WRITE,E=h.READ_WRITE,R=r(3).breadcrumbWrapper,T=r(65),b=T.assertDatasetLimitations,x=T.assertDatasetReady,_=T.assertHasCurrentItem,w=T.assertValidIndex,I=T.assertValidNumberArgument,O=T.assertValidCallback,C=T.assertValidFilter,S=T.assertValidSort,A=T.assertScopeIsNotFixedItem,D=T.assertValidPageIndex,P=T.assertValidNaturalNumber,N=T.assetValidHandshakeInfo,L=r(3).reportCallbackError,F=r(17),M=F.shouldWrapWithVerbose,U=F.verboseWrapper;e.exports=function(e){var t=e.store,r=t.dispatch,h=t.getState,T=e.recordStore,F=e.logger,k=e.eventListeners,j=k.fireEvent,W=k.register,G=e.handshakes,V=e.controllerStore,B=e.errorReporter,H=e.verboseReporter,$=e.datasetId,Y=e.datasetType,q=(e.isForUser,e.isFixedItem),z=e.siblingDynamicPageUrlGetter,X=e.dependenciesManager,Q=e.onIdle,Z=R(F,function(e,t){return{category:"datasetAPI",level:"info",message:e+"-"+$}},function(e){}).withBreadcrumbs,J=function(e){return function(t){return Z(e,t)}},K=function(e,t){j("datasetError",e,t)},ee=function(){return m.selectCurrentRecordIndex(h())},te=function(){return T().fold(function(){return null},function(e){return e.getMatchingRecordCount()})},re=function(){var e=n(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(l.flushDraft());case 3:return t=m.selectLastSavedRecord(h())||m.selectCurrentRecord(h()),e.abrupt("return",o(t));case 7:throw e.prev=7,e.t0=e.catch(0),K("save",e.t0),e.t0;case 11:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}();return function(e){var t=e?F.userCodeZone:i,R={isIdle:function(){var e=n(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){var t=Q(function(){t(),e()})});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),onBeforeSave:function(e){return O("onBeforeSave",e),b(h,"onBeforeSave",[y,E],Y,!1),W("beforeSave",t(e))},onAfterSave:function(e){return O("onAfterSave",e),b(h,"onAfterSave",[y,E],Y,!1),W("afterSave",t(e))},save:function(){var e=n(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b(h,"save",[y,E],Y,!1),e.next=3,re();case 3:if(t=e.sent,!m.isWriteOnly(h())){e.next=7;break}return e.next=7,r(l.reInitWriteOnly());case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getItems:function(){var e=n(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b(h,"getItems",[g,E],Y,!1),I("fromIndex",t),I("numberOfItems",r),e.prev=3,e.next=6,l.doFetch(T,t,r);case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(3),K("getItems",e.t0),e.t0;case 13:case"end":return e.stop()}},e,this,[[3,9]])}));return function(t,r){return e.apply(this,arguments)}}(),getTotalCount:function(){return b(h,"getTotalCount",[g,E],Y,!1),te()},getCurrentItem:function(){b(h,"getCurrentItem",[g,y,E],Y);var e=m.selectCurrentRecord(h());return e?o(e):null},getCurrentItemIndex:function(){b(h,"getCurrentItemIndex",[g,E],Y);var e=m.selectCurrentRecordIndex(h());return void 0===e?null:e},setCurrentItemIndex:function(){var e=n(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return A(q,"setCurrentItemIndex"),b(h,"setCurrentItemIndex",[g,E],Y,!1),w(t),e.next=5,new Promise(function(e){return $.onReady(e)});case 5:if(e.prev=5,m.isReadOnly(h())){e.next=9;break}return e.next=9,re();case 9:return e.next=11,r(l.setCurrentIndex(t));case 11:e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(5),K("setCurrentItemIndex",e.t0),e.t0;case 17:case"end":return e.stop()}},e,this,[[5,13]])}));return function(t){return e.apply(this,arguments)}}(),setFieldValue:function(e,t){x(h,"setFieldValue"),b(h,"setFieldValue",[y,E],Y),_(h),r(l.updateFields(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},e,o(t))))},setFieldValues:function(e){x(h,"setFieldValues"),b(h,"setFieldValues",[y,E],Y),_(h),r(l.updateFields(c(e,o)))},next:function(){var e=n(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(A(q,"next"),x(h,"next"),b(h,"next",[g,E],Y,!1),e.prev=3,m.isReadOnly(h())){e.next=7;break}return e.next=7,re();case 7:if($.hasNext()){e.next=9;break}throw new v("NO_SUCH_ITEM","There are no more items in the dataset");case 9:return e.next=11,r(l.setCurrentIndex(ee()+1));case 11:return e.abrupt("return",$.getCurrentItem());case 14:throw e.prev=14,e.t0=e.catch(3),K("next",e.t0),e.t0;case 18:case"end":return e.stop()}},e,this,[[3,14]])}));return function(){return e.apply(this,arguments)}}(),previous:function(){var e=n(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(A(q,"previous"),x(h,"previous"),b(h,"previous",[g,E],Y,!1),e.prev=3,m.isReadOnly(h())){e.next=7;break}return e.next=7,re();case 7:if($.hasPrevious()){e.next=9;break}throw new v("NO_SUCH_ITEM","This is the first item in the dataset");case 9:return e.next=11,r(l.setCurrentIndex(ee()-1));case 11:return e.abrupt("return",$.getCurrentItem());case 14:throw e.prev=14,e.t0=e.catch(3),K("previous",e.t0),e.t0;case 18:case"end":return e.stop()}},e,this,[[3,14]])}));return function(){return e.apply(this,arguments)}}(),hasNext:function(){b(h,"hasNext",[g,E],Y);var e=m.selectCurrentRecordIndex(h()),t=te();return null!=e&&null!=t&&e<t-1},hasPrevious:function(){b(h,"hasPrevious",[g,E],Y);var e=m.selectCurrentRecordIndex(h());return null!=e&&e>0},new:function(){var e=n(regeneratorRuntime.mark(function e(t){var n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x(h,"new"),b(h,"new",[y,E],Y,!1),t&&I("atIndex",t),e.prev=3,e.next=6,re();case 6:if(n=ee(),o=null!=t?t:null==n?0:n+1,i=te(),!(o<0||null!=i&&o>i)){e.next=11;break}throw new v("DS_INDEX_OUT_OF_RANGE","Invalid index");case 11:return e.next=13,r(l.newRecord(o));case 13:e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(3),K("new",e.t0),e.t0;case 19:case"end":return e.stop()}},e,this,[[3,15]])}));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=n(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(x(h,"remove"),b(h,"remove",[E],Y,!1),e.prev=2,null!=ee()){e.next=6;break}throw new v("DS_INDEX_OUT_OF_RANGE","Invalid index");case 6:return e.next=8,r(l.remove());case 8:e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(2),K("remove",e.t0),e.t0;case 14:case"end":return e.stop()}},e,this,[[2,10]])}));return function(){return e.apply(this,arguments)}}(),revert:function(){var e=n(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x(h,"revert"),b(h,"revert",[y,E],Y,!1),_(h),e.abrupt("return",r(l.revert()));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),refresh:function(){var e=n(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x(h,"refresh"),b(h,"refresh",[g,y,E],Y,!1),e.prev=2,e.next=5,r(l.refresh());case 5:e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(2),K("refresh",e.t0),e.t0;case 11:case"end":return e.stop()}},e,this,[[2,7]])}));return function(){return e.apply(this,arguments)}}(),onCurrentIndexChanged:function(e){return O("onCurrentIndexChanged",e),b(h,"onCurrentIndexChanged",[E,g],Y,!1),W("currentIndexChanged",t(e))},onItemValuesChanged:function(e){return O("onItemValuesChanged",e),b(h,"onItemValuesChanged",[E,y],Y,!1),W("itemValuesChanged",t(e))},onError:function(e){return O("onError",e),b(h,"onError",[E,g,y],Y,!1),W("datasetError",t(e))},onReady:function(e){return O("onReady",e),b(h,"onReady",[g,y,E],Y,!1),m.isDatasetReady(h())?(Promise.resolve(t(e)()).catch(L("onReady",B)),u):W("datasetReady",t(e))},setSort:function(){var e=n(regeneratorRuntime.mark(function e(n){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return A(q,"setSort"),b(h,"setSort",[g,E],Y,!1),S(n),e.prev=3,e.next=6,new Promise(function(e){return $.onReady(e)});case 6:if(m.isReadOnly(h())){e.next=9;break}return e.next=9,re();case 9:return i=t(function(){return n._build()}),e.next=12,r(d.setSort(o(i())));case 12:e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(3),K("setSort",e.t0),e.t0;case 18:case"end":return e.stop()}},e,this,[[3,14]])}));return function(t){return e.apply(this,arguments)}}(),setFilter:function(){var e=n(regeneratorRuntime.mark(function e(n){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return A(q,"setFilter"),b(h,"setFilter",[g,E],Y,!1),C(n),e.prev=3,e.next=6,new Promise(function(e){return $.onReady(e)});case 6:if(m.isReadOnly(h())){e.next=9;break}return e.next=9,re();case 9:return i=t(function(){return n._build()}),e.next=12,r(d.setFilter(o(i())));case 12:e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(3),K("setFilter",e.t0),e.t0;case 18:case"end":return e.stop()}},e,this,[[3,14]])}));return function(t){return e.apply(this,arguments)}}(),loadMore:function(){var e=n(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return A(q,"loadMore"),x(h,"loadMore"),b(h,"loadMore",[g,E],Y,!1),e.next=5,r(l.incrementNumOfPagesToShow());case 5:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),nextPage:function(){var e=n(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(A(q,"nextPage"),x(h,"nextPage"),b(h,"nextPage",[g,E],Y,!1),e.prev=3,m.isReadOnly(h())){e.next=7;break}return e.next=7,re();case 7:if($.hasNextPage()){e.next=9;break}throw new v("NO_SUCH_PAGE","There are no more pages in the dataset");case 9:return e.next=11,r(l.nextPage());case 11:return e.next=13,l.fetchCurrentPage(T,h());case 13:return t=e.sent,n=t.items,e.abrupt("return",n);case 18:throw e.prev=18,e.t0=e.catch(3),K("nextPage",e.t0),e.t0;case 22:case"end":return e.stop()}},e,this,[[3,18]])}));return function(){return e.apply(this,arguments)}}(),previousPage:function(){var e=n(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(A(q,"previousPage"),x(h,"previousPage"),b(h,"previousPage",[g,E],Y,!1),e.prev=3,m.isReadOnly(h())){e.next=7;break}return e.next=7,re();case 7:if($.hasPreviousPage()){e.next=9;break}throw new v("NO_SUCH_PAGE","This is the first page in the dataset");case 9:return e.next=11,r(l.previousPage());case 11:return e.next=13,l.fetchCurrentPage(T,h());case 13:return t=e.sent,n=t.items,e.abrupt("return",n);case 18:throw e.prev=18,e.t0=e.catch(3),K("previousPage",e.t0),e.t0;case 22:case"end":return e.stop()}},e,this,[[3,18]])}));return function(){return e.apply(this,arguments)}}(),hasNextPage:function(){b(h,"hasNextPage",[g,E],Y);var e=h();return m.getPaginationData(e).offset+m.getCurrentPageSize(e)<te()},hasPreviousPage:function(){return b(h,"hasPreviousPage",[g,E],Y),m.getPaginationData(h()).offset>0},getTotalPageCount:function(){return b(h,"getTotalPageCount",[g,E],Y),m.getTotalPageCount(h(),te())},getCurrentPageIndex:function(){return b(h,"getCurrentPageIndex",[g,E],Y),void 0===ee()?null:m.getCurrentPageIndex(h())},loadPage:function(){var e=n(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(b(h,"loadPage",[g,E],Y,!1),A(q,"loadPage"),x(h,"loadPage"),D(t,$.getTotalPageCount()),e.prev=4,m.isReadOnly(h())){e.next=8;break}return e.next=8,re();case 8:return e.next=10,r(l.loadPage(t));case 10:return e.next=12,l.fetchCurrentPage(T,h());case 12:return n=e.sent,o=n.items,e.abrupt("return",o);case 17:throw e.prev=17,e.t0=e.catch(4),K("loadPage",e.t0),e.t0;case 21:case"end":return e.stop()}},e,this,[[4,17]])}));return function(t){return e.apply(this,arguments)}}(),handshake:function(e){b(h,"handshake",[g,E,y],Y,!1),N(e),G.push(e),p(X,r,e)},inScope:function(e,t){b(h,"inScope",[g,y,E],Y,!1);var r=V.getController({componentId:e,itemId:t});return r?r.staticExports:$},isConnectedToComponent:function(e){return b(h,"isConnectedToComponent",[g,y,E],Y,!1),m.getConnectedComponents(h()).includes(e)},getPageSize:function(){return b(h,"getPageSize",[g,E],Y),m.getPaginationData(h()).size},setPageSize:function(){var e=n(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b(h,"setPageSize",[g,E],Y,!1),P("size",t),e.next=4,new Promise(function(e){return $.onReady(e)});case 4:if(e.prev=4,m.isReadOnly(h())){e.next=8;break}return e.next=8,re();case 8:return e.next=10,r(s.setPaginationData({size:t}));case 10:e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(4),K("setPageSize",e.t0),e.t0;case 16:case"end":return e.stop()}},e,this,[[4,12]])}));return function(t){return e.apply(this,arguments)}}()},k=f({datasetType:Y,siblingDynamicPageUrlGetter:z}),j=Object.assign(R,k),$={},Z={},ne=M(H);for(var oe in j)$[oe]=ne?U(H,j[oe],oe):j[oe],Z[oe]=a(F.applicationCodeZone,J(oe))($[oe]);return Z}}},function(e,t,r){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var o=r(0).mapValues,i=r(65).assertDatasetTypeIsRouter;e.exports=function(e){var t=e.datasetType,r=e.siblingDynamicPageUrlGetter,a={getNextDynamicPage:function(){var e=n(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null!=r?r.getNextDynamicPageUrl():null);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getPreviousDynamicPage:function(){var e=n(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r?r.getPreviousDynamicPageUrl():null);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()};return o(a,function(e,r){return function(){return i(t,r),e.apply(void 0,arguments)}})}},function(e,t,r){"use strict";var n=r(0).noop,o=r(0).remove,i=r(3).reportCallbackError,a=r(17).verboseEvent;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,u=!1,c={},s=function(e){return c[e]?c[e]:c[e]=[]},f=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Promise.all(s(e).map(function(e){try{return Promise.resolve(e.apply(void 0,r))}catch(e){return Promise.reject(e)}}))};return{register:function(e,t){return u?n:(s(e).push(t),function(){o(s(e),function(e){return e===t})})},executeHooks:f,fireEvent:function(n){for(var o=arguments.length,u=Array(o>1?o-1:0),c=1;c<o;c++)u[c-1]=arguments[c];a.apply(void 0,[r,n].concat(u)),e.apply(void 0,[n].concat(u)),f.apply(void 0,[n].concat(u)).catch(i(n,t))},dispose:function(){u=!0,c={}}}}},function(e,t,r){"use strict";var n=r(0).includes,o=r(0).get,i=r(0).uniqBy,a=r(0).noop,u=r(8).TraceType,c=r(2),s=c.isDatasetReady,f=c.hasCurrentRecord,l=c.selectCurrentRecordIndex,d=c.isReadOnly,p=c.isEditable,m=c.getPaginationData,v=c.selectNextDynamicPageUrl,h=c.selectPreviousDynamicPageUrl,g=r(63),y=r(66),E=r(4),R=E.DROPDOWN_OPTIONS_ROLE,T=E.FILTER_INPUT_ROLE,b=[E.BUTTON_ROLE,E.ICON_BUTTON_ROLE,E.STYLABLE_BUTTON_ROLE],x=function(e){return e.map(function(e){return e.component})},_=function(e,t){var r=i(e.filter(function(e){return e.component.enabled}),function(e){return e.component.uniqueId});return{inputComponents:function(e){return x(e.filter(function(e){var t=e.role;return![R,T].includes(t)}).filter(function(e){var t=e.component;return y(t)}))}(r),linkedComponents:function(e,t){return x(e.filter(function(e){var t=e.role;return n(b,t)}).filter(function(e){var r=e.connectionConfig;return n(t,o(r,"events.onClick.action"))}))}(r,t)}},w=function(e,t,r,n){e.enabled!==t&&(t?e.enable():e.disable(),r.trace(u.Breadcrumb({category:"components",message:g(e.uniqueId+" changed to "+(t?"enabled":"disabled"),n)})))},I=function(e,t,r,n,o){var i=e.getState,u=e.subscribe,c=function(){return o().fold(function(){return 0},function(e){return e.getMatchingRecordCount()})},g=function(e){var t=m(e),r=t.offset;return t.size*t.numPagesToShow+r<c()},y={new:function(e){return!d(e)},save:p,revert:p,remove:p,next:function(e){return f(e)&&l(e)<c()-1},previous:function(e){return f(e)&&l(e)>0},nextPage:g,previousPage:function(e){return m(e).offset>0},nextDynamicPage:function(e){return v(e).hasUrl()},previousDynamicPage:function(e){return h(e).hasUrl()},loadMore:g},E=Object.keys(y),R=_(t,E),T=R.inputComponents,b=R.linkedComponents;return T.length+b.length?u(function(e){var t=e.getState,r=e.inputComponents,n=e.linkedComponents,o=e.datasetId,i=e.logger,a=e.shouldEnableLinkedComponent;return function(){var e=t();if(s(e)){var u=p(e);r.forEach(function(e){w(e,u,i,o)}),n.forEach(function(t){var r=t.connectionConfig.events.onClick.action,n=a(r,e);w(t,n,i,o)})}}}({getState:i,inputComponents:T,linkedComponents:b,datasetId:n,logger:r,shouldEnableLinkedComponent:function(e,t){return y[e](t)}})):a};e.exports=function(e,t,r,n,o){return I(e,t,r,n,o)}},function(e,t,r){"use strict";var n=r(33),o=n.isFieldFromReferencedCollection,i=n.getReferenceFieldName,a=n.getFieldFromReferencedCollectionName,u=r(0).get;e.exports=function(e,t){return function(r){if(o(r)){var n=i(r),c=a(r),s=e&&e.fields[n]?e.fields[n].referencedCollection:null,f=t&&s?t[s]:null;return u(f,["fields",c,"type"])}return u(e,["fields",r,"type"])}}},function(e,t,r){"use strict";var n=r(169),o=r(170),i=o.createComponentAdapterContexts,a=o.createDetailsRepeatersAdapterContexts,u=r(206);e.exports={adapterApiCreator:n,createComponentAdapterContexts:i,createDetailsRepeatersAdapterContexts:a,initAdapters:u}},function(e,t,r){"use strict";var n=r(1).Maybe,o=r(0).cloneDeep,i=r(4).FILTER_INPUT_ROLE,a=r(14),u=r(15),c=u.setCurrentIndex,s=u.updateFields,f=u.refresh,l=u.fetchCurrentPage,d=u.doFetch,p=r(2).selectCurrentRecordIndex;e.exports=function(e){var t=e.dispatch,r=e.recordStore,u=e.componentAdapterContexts;return function(){var e={fetchRecordById:function(e,t){return r(t).fold(function(){return n.Nothing()},function(t){return t.getRecordById(e)})},fetchAll:function(e){return d(r,0,1e3,e)},fetchCurrentItems:function(e){return l(r,e).catch(function(){return a.Empty().get()})},fetchOne:function(){return d(r,0,1)},fetch:function(e,t,n){return d(r,e,t,n)},getTotalItemsCount:function(e){return r(e).map(function(e){return e.getMatchingRecordCount()}).getOrElse(0)},getInitialData:function(){return r().fold(function(){return a.Empty()},function(e){return e.getSeedRecords()})},setCurrentIndex:function(e,r){return t(c(e,r))},setFieldInCurrentRecordAndSynchronize:function(e,r,n){t(s(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},e,o(r)),n))},refresh:function(){return t(f())},resetUserInputFilters:function(){u.filter(function(e){return e.role===i}).length&&(u.forEach(function(e){var t=m(e);t.resetUserFilter&&t.resetUserFilter(e)}),e.refresh())},isCurrentRecordNew:function(e){return r().fold(function(){return!1},function(t){return t.isNewRecord(p(e))})},isCurrentRecordPristine:function(e){return r().fold(function(){return!1},function(t){return t.isPristine(p(e))})}},m=function(e){return e.api},v={isValidContext:function(e){return m(e).isValidContext(e)},hideComponent:function(e){u.map(function(t){return m(t).hideComponent(t,e)})},showComponent:function(e){u.map(function(t){return m(t).showComponent(t,e)})},bindToComponent:function(){u.map(function(t){return m(t).bindToComponent(t,e,v)})},currentRecordModified:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return u.filter(function(e){return!r||e.component.uniqueId!==r}).map(function(r){return m(r).currentRecordModified(r,e,t,v)})},recordSetLoaded:function(){return u.map(function(t){return m(t).recordSetLoaded(t,e,v)})},currentViewChanged:function(){return u.map(function(t){return m(t).currentViewChanged(t,e,v)})},currentIndexChanged:function(){return u.map(function(t){return m(t).currentIndexChanged(t,e,v)})}};return v}}},function(e,t,r){"use strict";var n;function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(0).uniqBy,a=r(4),u=a.FILTER_INPUT_ROLE,c=a.GRID_ROLE,s=a.DROPDOWN_OPTIONS_ROLE,f=a.GALLERY_ROLE,l=a.MEDIA_GALLERY_ROLE,d=a.UPLOAD_BUTTON_ROLE,p=a.DETAILS_DATASET_ROLE,m=a.REPEATER_ROLE,v=a.PAGINATION_ROLE,h=a.DETAILS_REPEATER_ROLE,g=a.RATINGSDISPLAY_ROLE,y=a.GOOGLEMAP_ROLE,E=a.PROGRESS_BAR_ROLE,R=r(66),T=r(171).createAdapterContext,b=r(174),x=b.getScopeType,_=b.SCOPE_TYPES,w=r(175).findContainer,I=r(176),O=r(194),C=r(195),S=r(196),A=r(197),D=r(198),P=r(199),N=r(200),L=r(202),F=r(203),M=r(204),U=r(205),k=(o(n={},c,C),o(n,s,S),o(n,f,A),o(n,d,D),o(n,p,P),o(n,m,N),o(n,v,F),o(n,h,L),o(n,u,U),o(n,y,M),n),j=function(e){var t=e.role,r=e.adapterParams,n=e.component,o=R(n),i=t!==g&&t!==l&&t!==E&&!o;return function(e,t){return k[e]||t&&O||I}(t,o)(r,{shouldConvertToString:i})};e.exports.createComponentAdapterContexts=function(e){var t=e.connectedComponents,r=e.adapterApi,n=e.getFieldType,o=e.ignoreItemsInRepeater,i=e.$w,a=e.dependencies,u=e.adapterParams,c=[];return t.forEach(function(e){var s=e.component,f=e.role,l=s.id;if(!o||!w(s).map(function(e){return x(e.uniqueId,a,t)}).map(function(e){return e===_.PRIMARY||e===_.DETAILS}).getOrElse(!1)){var d=T({getFieldType:n,role:f,component:s,componentId:l,$w:i,api:j({role:f,adapterParams:u,component:s})});r().isValidContext(d)&&c.push(d)}}),c},e.exports.createDetailsRepeatersAdapterContexts=function(e,t,r,n){var o=[];return e.forEach(function(t){var n=t.component;w(n).chain(function(t){x(t.uniqueId,r,e)===_.DETAILS&&o.push(t)})}),i(o,"id").map(function(e){var r=e.id;return T({getFieldType:t,role:h,component:e,componentId:r,api:j({role:h,adapterParams:n,component:e})})})}},function(e,t,r){"use strict";var n=r(1).Maybe,o=r(0).isPlainObject,i=r(172).resolveDynamicProperties,a=r(173),u=r(4).PAGE_ROLE;e.exports.createAdapterContext=function(e){var t=e.getFieldType,r=e.role,c=e.component,s=e.$w,f=e.api,l=n.fromNullable(c.connectionConfig).filter(o).map(function(e){return i({connectionConfig:e},r,t)}).getOrElse(a);return r===u&&(c=s("Document")),{role:r,connectionConfig:l,component:c,componentId:c.id,api:f}}},function(e,t,r){"use strict";var n=r(0).mapKeys,o=r(0).startsWith,i=r(0).assign,a=r(0).get,u=r(1).Maybe,c=r(12).FieldType.richText,s={$text:function(e){return e.map(function(e){return e===c?"html":"text"}).getOrElse("text")}};t.resolveDynamicProperties=function(e,t,r){var c=e.connectionConfig;return u.fromNullable(a(c,"properties")).map(function(e){return n(c.properties,function(e,t){return o(t,"$")?function(e,t,r){return u.fromNullable(s[e]).map(function(e){return e(r(t.fieldName))}).getOrElse(e)}(t,e,r):t})}).map(function(e){return i({},c,{properties:e})}).getOrElse(c)}},function(e,t,r){"use strict";e.exports={properties:{},events:{}}},function(e,t,r){"use strict";var n={PRIMARY:"PRIMARY",DETAILS:"DETAILS",OTHER:"OTHER"};e.exports.SCOPE_TYPES=n,e.exports.getScopeType=function(e,t,r){return r.some(function(t){return t.component.uniqueId===e})?n.PRIMARY:Object.values(t).some(function(t){return t.controllerApi&&t.controllerApi.isConnectedToComponent&&t.controllerApi.isConnectedToComponent(e)})?n.DETAILS:n.OTHER}},function(e,t,r){"use strict";var n=r(1).Maybe,o=r(23).Repeater;e.exports.findContainer=function e(t){var r=n.fromNullable(t).chain(function(e){var t=e.parent;return n.fromNullable(t)});return r.filter(function(e){return function(e){return[o].includes(e)}(e.type)}).orElse(function(){return r.chain(function(t){return e(t)})})}},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var o=r(0).forEach,i=r(0).unescape,a=r(0).values,u=r(0).isEmpty,c=r(4).TEXT_ROLE,s=r(12).FieldType.url,f=r(2).selectCurrentRecord,l=r(2),d=l.selectNextDynamicPageUrl,p=l.selectPreviousDynamicPageUrl,m=r(5),v=m.getFieldValue,h=m.formatValue,g=m.convertValue,y=m.shouldUpdateComponentFromRecord,E=m.setValueToComponent,R=m.getLogVerboseBindingDescription,T=r(6);e.exports=function(e){var t=e.getState,r=e.datasetApi,l=e.wixSdk,m=e.errorReporter,b=e.platformAPIs,x=e.eventListeners.register,_=e.getFieldType,w=e.databindingVerboseReporter,I=e.wixFormatter,O=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shouldConvertToString:!0}).shouldConvertToString,C=function(e,t){return e.fieldName?t[e.fieldName]:e.linkObject?b.links.toUrl(e.linkObject):void 0},S=function(e){return e.matchWith({Empty:function(){},Loading:function(){},Loaded:function(e){var t=e.url;l.location.to(t)}})},A=function(e,n,i){o(e,function(e,o){var a=e.action,u=e.postAction;n[o](function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}(regeneratorRuntime.mark(function e(){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"nextDynamicPage"!==a){e.next=4;break}return S(d(t())),e.abrupt("return");case 4:if("previousDynamicPage"!==a){e.next=7;break}return S(p(t())),e.abrupt("return");case 7:if("resetUserFilter"!==a){e.next=10;break}return i.resetUserInputFilters(),e.abrupt("return");case 10:return e.next=12,Promise.resolve(r[a]());case 12:n=e.sent,u&&u.navigate&&(o=C(u.navigate,n),l.location.to(o)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),m(a+" operation failed:",e.t0);case 19:case"end":return e.stop()}},e,this,[[0,16]])})))})},D=function(e,r){var n=e.connectionConfig.properties,a=e.component,u=e.role,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],p=f(t());if(p){var R={};o(n,function(e,t){var r=e.fieldName,n=e.format;try{var o=_(r).getOrElse(""),f=h(v(p,r),I,{format:n,wixSdk:l}),T=g(f,{fieldType:o,shouldConvertToString:O,shouldConvertMediaItemUriToStaticUrl:"link"===t,mediaItemUtils:b.mediaItemUtils});R[t]=T,y({updatedFields:d,fieldName:r})&&(E({component:a,propPath:t,value:T,fieldType:o}),o===s&&u===c&&function(e){var t=e.text;e.text="<a href="+t+' target="_blank" style="text-decoration: underline">'+t+"</a>";var r=e.html;e.text="",e.html=i(r)}(a))}catch(e){m("Failed setting "+t+":",e)}}),w.logValue({component:a,valueDescription:R})}};return n({},T,{isValidContext:function(e){var t=e.connectionConfig;return a(t).find(function(e){return!u(e)})},bindToComponent:function(e,t){var r=e.connectionConfig,n=e.component,i=r.events,a=r.behaviors;i&&A(i,n,t),a&&function(e,t){o(e,function(e){var r=!1;switch(e.type){case"saveSuccessFeedback":x("beforeSave",function(){return t.hide()}),x("afterSave",function(){t.show(),r=!0}),x("currentIndexChanged",function(){r?r=!1:t.hide()}),x("itemValuesChanged",function(){return t.hide()});break;case"saveFailureFeedback":x("beforeSave",function(){return t.hide()}),x("currentIndexChanged",function(){return t.hide()}),x("datasetError",function(e){"save"===e&&t.show()})}})}(a,n),w.logBinding({component:n,bindingDescription:R(r)})},currentRecordModified:function(e,t,r){D(e,t,r)},recordSetLoaded:function(e,t){D(e,t);var r=e.connectionConfig.behaviors;r&&function(e,t){o(e,function(e){"saveSuccessFeedback"===e.type&&t.hide()})}(r,e.component)},currentViewChanged:function(e,t){D(e,t)},currentIndexChanged:function(e,t){D(e,t)}})}},function(e,t,r){"use strict";var n=r(178),o=r(0).isDate;e.exports=function(e,t,r){var i=r.format,a=r.wixSdk;return i?function(e,t,r){var i=r.format;r.wixSdk;switch(i.type){case n.DATETIME:return o(e)?t?t.formatDateTime(e,i.params.dateFormat):"":e;default:return e}}(e,t,{format:i,wixSdk:a}):e}},function(e,t,r){"use strict";e.exports.DATETIME="datetime"},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var o=r(12).FieldType.address,i=r(0).isNil,a=r(0).flow,u=r(34),c=r(180);e.exports=function(e,t){var r=t.fieldType,s=t.shouldConvertToString,f=t.shouldConvertMediaItemUriToStaticUrl,l=t.mediaItemUtils,d=void 0;if(!i(e))switch(r){case o:d=e.formatted;break;default:d=e}var p=[].concat(n(s?[u]:[]),n(f?[function(e){return c({value:e,mediaItemUtils:l})}]:[]));return a(p)(d)}},function(e,t,r){"use strict";var n=r(181);e.exports=function(e){var t=e.value,r=e.mediaItemUtils,o=r.parseMediaItemUri(t);if(o.error)return t;switch(o.type){case r.types.IMAGE:return n.getScaleToFillImageURL(o.mediaId,o.width,o.height,o.width,o.height,{name:o.title});case r.types.VIDEO:return"https://video.wixstatic.com/video/"+o.mediaId+"/file";case r.types.AUDIO:return"https://static.wixstatic.com/mp3/"+o.mediaId;default:return t}}},function(e,t,r){"use strict";var n=r(182),o=r(11);n.populateGlobalFeatureSupport();var i="https://static.wixstatic.com/",a="https://static.wixstatic.com/media/",u=/^media\//i,c="undefined"!=typeof window?window.devicePixelRatio:1;function s(e){return u.test(e)?""+i+e:""+a+e}e.exports={getScaleToFitImageURL:function(e,t,r,i,a,u){return s(n.getData(o.fittingTypes.SCALE_TO_FIT,{id:e,width:t,height:r,name:u&&u.name},{width:i,height:a,htmlTag:n.htmlTag.IMG,alignment:n.alignTypes.CENTER,pixelAspectRatio:c},u).uri)},getScaleToFillImageURL:function(e,t,r,i,a,u){return s(n.getData(o.fittingTypes.SCALE_TO_FILL,{id:e,width:t,height:r,name:u&&u.name,focalPoint:{x:u&&u.focalPoint&&u.focalPoint.x,y:u&&u.focalPoint&&u.focalPoint.y}},{width:i,height:a,htmlTag:n.htmlTag.IMG,alignment:n.alignTypes.CENTER,pixelAspectRatio:c},u).uri)},getCropImageURL:function(e,t,r,i,a,u,f,l,d,p){return s(n.getData(o.fittingTypes.SCALE_TO_FILL,{id:e,width:t,height:r,name:p&&p.name,crop:{x:i,y:a,width:u,height:f}},{width:l,height:d,htmlTag:n.htmlTag.IMG,alignment:n.alignTypes.CENTER,pixelAspectRatio:c},p).uri)}}},function(e,t,r){"use strict";var n=r(11),o=r(16),i=r(184);e.exports={populateGlobalFeatureSupport:o.populateGlobalFeatureSupport,getData:function(e,t,r,a){var u=n.emptyData.uri;return o.isValidRequest(e,t,r)&&(u=i(e,t,r,a)),{uri:u}},fittingTypes:n.fittingTypes,alignTypes:n.alignTypes,htmlTag:n.htmlTag,upscaleMethods:n.upscaleMethods}},function(e,t,r){"use strict";var n={isWEBP:{lossless:!1,lossy:!1,alpha:!1,animation:!1},isObjectFitBrowser:!0};e.exports={getFeature:function(e){return n[e]},setFeature:function(e,t){n[e]=t}}},function(e,t,r){"use strict";var n=r(11),o=r(16),i=r(185),a=r(186);e.exports=function(e,t,r,u,c){var s=n.emptyData.uri;return o.isImageTransformApplicable(t.id)?(c=c||a(e,t,r,u,c),s=i.getImageURI(c)):s=t.id,s}},function(e,t,r){"use strict";var n,o=r(25),i=r(11),a=o.template("fit/w_${width},h_${height}"),u=o.template("fill/w_${width},h_${height},al_${alignment}"),c=o.template("fill/w_${width},h_${height},fp_${focalPointX}_${focalPointY}"),s=o.template("crop/x_${x},y_${y},w_${width},h_${height}"),f=o.template("crop/w_${width},h_${height},al_${alignment}"),l=o.template("fill/w_${width},h_${height},al_${alignment}"),d=o.template(",lg_${upscaleMethodValue}"),p=o.template(",q_${quality}"),m=o.template(",usm_${radius}_${amount}_${threshold}"),v=o.template(",bl"),h=o.template(",wm_${watermark}"),g=((n={})[i.imageFilters.CONTRAST]=o.template(",con_${contrast}"),n[i.imageFilters.BRIGHTNESS]=o.template(",br_${brightness}"),n[i.imageFilters.SATURATION]=o.template(",sat_${saturation}"),n[i.imageFilters.HUE]=o.template(",hue_${hue}"),n[i.imageFilters.BLUR]=o.template(",blur_${blur}"),n);e.exports={getImageURI:function(e){var t=[];e.parts.forEach(function(e){switch(e.transformType){case i.transformTypes.CROP:t.push(s(e));break;case i.transformTypes.LEGACY_CROP:t.push(f(e));break;case i.transformTypes.LEGACY_FILL:var r=l(e);e.upscale&&(r+=d(e)),t.push(r);break;case i.transformTypes.FIT:var n=a(e);e.upscale&&(n+=d(e)),t.push(n);break;case i.transformTypes.FILL:var o=u(e);e.upscale&&(o+=d(e)),t.push(o);break;case i.transformTypes.FILL_FOCAL:var p=c(e);e.upscale&&(p+=d(e)),t.push(p)}});var r=t.join("/");return(e.fileType===i.fileType.PNG&&e.isWEBPSupport||e.fileType===i.fileType.JPG)&&(r+=p(e)),e.unsharpMask&&(r+=m(e.unsharpMask)),e.progressive||(r+=v(e)),e.watermark&&(r+=h(e)),e.filters&&(r+=Object.keys(e.filters).map(function(t){return g[t](e.filters)}).join("")),e.src.id+"/"+i.API_VERSION+"/"+r+"/"+e.fileName+"."+(e.isWEBPSupport?"webp":e.fileExtension)}}},function(e,t,r){"use strict";var n=r(16),o=r(187),i=r(188);e.exports=function(e,t,r,a){var u=n.getFileType(t.id),c={fileName:n.getFileName(t.id,t.name),fileExtension:n.getFileExtension(t.id),fileType:u,isWEBPSupport:n.isWEBPBrowserSupport(u),fittingType:e,src:{id:t.id,width:t.width,height:t.height,isCropped:!1},focalPoint:{x:t.focalPoint&&t.focalPoint.x,y:t.focalPoint&&t.focalPoint.y},parts:[],quality:0,upscaleMethod:n.getUpscaleString(a),progressive:!0,watermark:"",unsharpMask:{},filters:{}};return n.isImageTransformApplicable(t.id)&&(o.setTransformParts(c,t,r),i.setTransformOptions(c,a)),c}},function(e,t,r){"use strict";var n=r(25),o=r(11),i=r(16);function a(e,t){var r=i.getTransformData(e.src.width,e.src.height,t,o.transformTypes.FIT,e.upscaleMethod);return{transformType:o.transformTypes.FILL,width:Math.round(r.width),height:Math.round(r.height),alignment:o.alignTypesMap.center,upscale:r.scaleFactor>1,forceUSM:r.forceUSM,scaleFactor:r.scaleFactor,cssUpscaleNeeded:r.cssUpscaleNeeded,upscaleMethodValue:r.upscaleMethodValue}}function u(e){return{transformType:o.transformTypes.CROP,x:Math.round(e.x),y:Math.round(e.y),width:Math.round(e.width),height:Math.round(e.height),upscale:!1,forceUSM:!1,scaleFactor:1,cssUpscaleNeeded:!1}}e.exports={setTransformParts:function(e,t,r){var c=void 0;switch(t.crop&&(c=i.getOverlappingRect(t,t.crop))&&(e.src.width=c.width,e.src.height=c.height,e.src.cropped=!0,e.parts.push(u(c))),e.fittingType){case o.fittingTypes.SCALE_TO_FIT:case o.fittingTypes.LEGACY_FIT_WIDTH:case o.fittingTypes.LEGACY_FIT_HEIGHT:case o.fittingTypes.LEGACY_FULL:case o.fittingTypes.FIT_AND_TILE:case o.fittingTypes.LEGACY_BG_FIT_AND_TILE:case o.fittingTypes.LEGACY_BG_FIT_AND_TILE_HORIZONTAL:case o.fittingTypes.LEGACY_BG_FIT_AND_TILE_VERTICAL:case o.fittingTypes.LEGACY_BG_NORMAL:e.parts.push(a(e,r));break;case o.fittingTypes.SCALE_TO_FILL:e.parts.push(function(e,t){var r=i.getTransformData(e.src.width,e.src.height,t,o.transformTypes.FILL,e.upscaleMethod),n=i.getFocalPoint(e.focalPoint);return{transformType:n?o.transformTypes.FILL_FOCAL:o.transformTypes.FILL,width:Math.round(r.width),height:Math.round(r.height),alignment:i.getAlignment(t),focalPointX:n&&n.x,focalPointY:n&&n.y,upscale:r.scaleFactor>1,forceUSM:r.forceUSM,scaleFactor:r.scaleFactor,cssUpscaleNeeded:r.cssUpscaleNeeded,upscaleMethodValue:r.upscaleMethodValue}}(e,r));break;case o.fittingTypes.STRETCH:e.parts.push(function(e,t){var r=i.getScaleFactor(e.src.width,e.src.height,t.width,t.height,o.transformTypes.FILL),u=n.assign({},t);return u.width=e.src.width*r,u.height=e.src.height*r,a(e,u)}(e,r));break;case o.fittingTypes.TILE_HORIZONTAL:case o.fittingTypes.TILE_VERTICAL:case o.fittingTypes.TILE:case o.fittingTypes.LEGACY_ORIGINAL_SIZE:case o.fittingTypes.ORIGINAL_SIZE:c=i.getAlignedRect(e.src,r,r.alignment),e.src.isCropped?(n.assign(e.parts[0],c),e.src.width=c.width,e.src.height=c.height):e.parts.push(u(c));break;case o.fittingTypes.LEGACY_STRIP_TILE_HORIZONTAL:case o.fittingTypes.LEGACY_STRIP_TILE_VERTICAL:case o.fittingTypes.LEGACY_STRIP_TILE:case o.fittingTypes.LEGACY_STRIP_ORIGINAL_SIZE:e.parts.push(function(e){return{transformType:o.transformTypes.LEGACY_CROP,width:Math.round(e.width),height:Math.round(e.height),alignment:i.getAlignment(e),upscale:!1,forceUSM:!1,scaleFactor:1,cssUpscaleNeeded:!1}}(r));break;case o.fittingTypes.LEGACY_STRIP_SCALE_TO_FIT:case o.fittingTypes.LEGACY_STRIP_FIT_AND_TILE:e.parts.push(function(e){return{transformType:o.transformTypes.FIT,width:Math.round(e.width),height:Math.round(e.height),upscale:!1,forceUSM:!0,scaleFactor:1,cssUpscaleNeeded:!1}}(r));break;case o.fittingTypes.LEGACY_STRIP_SCALE_TO_FILL:e.parts.push(function(e){return{transformType:o.transformTypes.LEGACY_FILL,width:Math.round(e.width),height:Math.round(e.height),alignment:i.getAlignment(e),upscale:!1,forceUSM:!0,scaleFactor:1,cssUpscaleNeeded:!1}}(r))}}}},function(e,t,r){"use strict";var n=r(25),o=r(11),i=r(16);function a(e,t,r){return!isNaN(e)&&"number"==typeof e&&0!==e&&e>=t&&e<=r}e.exports={setTransformOptions:function(e,t){t=t||{},e.quality=function(e,t){var r=n.last(e.parts),o=i.getPreferredImageQuality(r.width,r.height),a=t.quality&&t.quality>=5&&t.quality<=90?t.quality:o;return parseInt(a,10)}(e,t),e.progressive=function(e){return!1!==e.progressive}(t),e.watermark=function(e){return e.watermark}(t),e.unsharpMask=function(e,t){var r=void 0;return!function(e){e=e||{};var t=!isNaN(e.radius)&&"number"==typeof e.radius&&e.radius>=.1&&e.radius<=500,r=!isNaN(e.amount)&&"number"==typeof e.amount&&e.amount>=0&&e.amount<=10,n=!isNaN(e.threshold)&&"number"==typeof e.threshold&&e.threshold>=0&&e.threshold<=255;return t&&r&&n}(t.unsharpMask)?function(e){return e=e||{},!isNaN(e.radius)&&"number"==typeof e.radius&&0===e.radius&&!isNaN(e.amount)&&"number"==typeof e.amount&&0===e.amount&&!isNaN(e.threshold)&&"number"==typeof e.threshold&&0===e.threshold}(t.unsharpMask)||function(e){var t=n.last(e.parts);return!(t.scaleFactor>=1)||t.forceUSM}(e)&&(r=o.defaultUSM):r={radius:t.unsharpMask.radius,amount:t.unsharpMask.amount,threshold:t.unsharpMask.threshold},r&&(r.radius=i.roundToFixed(r.radius,2),r.amount=i.roundToFixed(r.amount,2),r.threshold=i.roundToFixed(r.threshold,2)),r}(e,t),e.filters=function(e){var t=e.filters||{},r={};return a(t[o.imageFilters.CONTRAST],-100,100)&&(r[o.imageFilters.CONTRAST]=t[o.imageFilters.CONTRAST]),a(t[o.imageFilters.BRIGHTNESS],-100,100)&&(r[o.imageFilters.BRIGHTNESS]=t[o.imageFilters.BRIGHTNESS]),a(t[o.imageFilters.SATURATION],-100,100)&&(r[o.imageFilters.SATURATION]=t[o.imageFilters.SATURATION]),a(t[o.imageFilters.HUE],-180,180)&&(r[o.imageFilters.HUE]=t[o.imageFilters.HUE]),a(t[o.imageFilters.BLUR],0,100)&&(r[o.imageFilters.BLUR]=t[o.imageFilters.BLUR]),r}(t)}}},function(e,t,r){"use strict";e.exports=function(e,t,r,n){return e[t](n(r))}},function(e,t,r){"use strict";var n=r(0).includes,o=r(33),i=o.isFieldFromReferencedCollection,a=o.getReferenceFieldName;e.exports=function(e){var t=e.updatedFields,r=e.fieldName;return function(e){return 0===e.length}(t)||function(e,t){return n(t,i(e)?a(e):e)}(r,t)}},function(e,t,r){"use strict";var n=r(192);e.exports=function(e){var t=e.component,r=e.fieldType,o=e.propPath,i=e.value;!function(e,t,r){var n=t.split(".");n.reduce(function(e,t,o){if(o<n.length-1)return e[t];e[t]=r},e)}(t,o,function(e,t){return"reference"===t&&n(e)}(i,r)?i._id:i)}},function(e,t,r){"use strict";var n=r(0).isObject,o=r(0).has;e.exports=function(e){return n(e)&&o(e,"_id")}},function(e,t,r){"use strict";var n=r(0).forEach;e.exports=function(e){var t=e.properties,r=e.events,o=e.behaviors,i={};return n(t,function(e,t){var r=e.fieldName;i[t]=r}),n(r,function(e,t){var r=e.action;i[t]=r}),n(o,function(e){var t=e.type;i.text=t}),i}},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(0).forEach,i=r(0).values,a=r(0).partial,u=r(0).isEmpty,c=r(1).Maybe,s=r(12).FieldType,f=s.dateTime,l=s.reference,d=r(4).TIMEPICKER_ROLE,p=r(2).selectCurrentRecord,m=r(5),v=m.getFieldValue,h=m.setValueToComponent,g=m.shouldUpdateComponentFromRecord,y=m.addComponentEventListener,E=m.getLogVerboseBindingDescription,R=r(6),T=r(68),b=T.isTimeValid,x=T.isDateValid,_=T.mergeDateWithTime,w=T.getTimeFromDate;e.exports=function(e){var t=e.getState,r=e.errorReporter,s=e.getFieldType,m=e.applicationCodeZone,T=e.databindingVerboseReporter,I=function(e,r,o){var i=function(e){var t=new Date(e);return x(t)?t:function(e){var t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t}()},u=function(e,t,r,a){switch(a){case l:return o.fetchRecordById(e,r);case f:if(e){var u={},s={};if(b(t))u.time=t,u.date=new Date;else{var d=i(t);u.date=d,u.time=w(d)}return b(e)?s.time=e:s.date=i(e),c.Just(_(n({},u,s)))}return c.Nothing();default:return c.Nothing()}};y(e,"onChange",function(n){var i=r.checked?"checked":"value",c=r[i].fieldName,f=p(t()),l=function(e,t,r){return s(r).chain(a(u,e,t,r)).getOrElse(e)}(n.target[i],f[c],c);o.setFieldInCurrentRecordAndSynchronize(c,l,e.uniqueId)},m)},O=function(e,n){var i=e.connectionConfig.properties,a=e.component,u=e.role,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],f=p(t());if(f){var l={};o(i,function(e,t){var n=e.fieldName;try{var o=s(n).getOrElse(""),i=function(e,t){return t===d&&x(e)?w(e):e}(v(f,n),u);l[t]=i,g({updatedFields:c,fieldName:n})&&h({component:a,propPath:t,value:i,fieldType:o})}catch(e){r("Failed setting "+t+":",e)}}),T.logValue({component:a,valueDescription:l})}},C=function(e,r){var n=e.component,o=r.isCurrentRecordPristine(t()),i=r.isCurrentRecordNew(t());o&&i&&n.resetValidityIndication&&n.resetValidityIndication()};return n({},R,{isValidContext:function(e){var t=e.connectionConfig;return i(t).find(function(e){return!u(e)})},bindToComponent:function(e,t){var r=e.connectionConfig,n=e.component,o=r.properties,i=r.filters;I(n,o,t),i&&y(n,"onChange",function(e){return function(){e.refresh()}}(t),m),T.logBinding({component:n,bindingDescription:E(r)})},currentRecordModified:function(e,t,r){O(e,t,r),C(e,t)},recordSetLoaded:function(e,t){O(e,t),C(e,t)},currentViewChanged:function(e,t){O(e,t),C(e,t)},currentIndexChanged:function(e,t){O(e,t),C(e,t)}})}},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var o=r(0).forEach,i=r(0).get,a=r(5).addComponentEventListener,u=r(6);e.exports=function(e){var t=e.datasetApi,r=e.applicationCodeZone,c=e.databindingVerboseReporter,s=function(e,t){return function(){var r=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}(regeneratorRuntime.mark(function r(n,o){var i,a,u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e(n,o-n);case 2:return i=r.sent,a=i.items,u=i.totalCount,t(a),r.abrupt("return",{pageRows:a,totalRowsCount:u});case 7:case"end":return r.stop()}},r,this)}));return function(e,t){return r.apply(this,arguments)}}()};return n({},u,{bindToComponent:function(e,n){var u=e.component;n.getInitialData().chain(function(e){var t=e.items;u.rows=t});var f=function(e){return function(t){var r=[],n=e.columns;o(t,function(e){var t={};o(n,function(r){t[r.label]=i(e,r.dataPath)}),r.push(t)}),c.logValue({component:e,valueDescription:r})}}(u);u.dataFetcher=s(n.fetch,f),a(u,"onCellSelect",function(e){var r=e.cellRowIndex;t.setCurrentItemIndex(r)},r),a(u,"onRowSelect",function(e){var r=e.rowIndex;t.setCurrentItemIndex(r)},r),function(e){var t={};e.columns.forEach(function(e){var r=e.label,n=e.dataPath,o=e.linkPath;(n||o)&&(t[r]=Object.assign(n?{dataPath:n}:{},o?{linkPath:o}:{}))}),c.logBinding({component:e,bindingDescription:t})}(u)},currentRecordModified:function(e,t,r){e.component.refresh()},recordSetLoaded:function(e,t){e.component.refresh()},currentViewChanged:function(e,t){e.component.refresh()}})}},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var i=r(0).isEmpty,a=r(0).forEach,u=r(0).orderBy,c=r(5),s=c.convertValueToString,f=c.getFieldValue,l=r(48),d=l.getFieldReferencedCollection,p=l.getSchemaDisplayField,m=r(6);e.exports=function(e){e.getState;var t=e.getFieldType,r=e.getSchema,c=(e.wixDataProxy,e.databindingVerboseReporter),l=function(e,t){return{value:s(f(e,t)),label:s(f(e,t))||""}},v=function(e,t,r){return{value:s(e._id),label:s(e[t])}},h=function(){var e=o(regeneratorRuntime.mark(function e(n,i){var a,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t(n).map(function(e){return"reference"===e}).getOrElse(!1)){e.next=5;break}return e.abrupt("return",r().chain(function(e){var t=d(n,e);return r(t).map(p).map(function(){var e=o(regeneratorRuntime.mark(function e(t){var r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.fetchAll(n);case 2:return r=e.sent,o=r.items,a=u(o.map(function(e){return v(e,t)}),[function(e){return e.label.toLowerCase()}]),e.abrupt("return",a);case 6:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}())}).getOrElse(Promise.resolve([])));case 5:return e.next=7,i.fetchAll();case 7:return a=e.sent,c=a.items,e.abrupt("return",c.map(function(e){return l(e,n)}));case 10:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}(),g=function(){var e=o(regeneratorRuntime.mark(function e(t,r){var n,o,i=t.connectionConfig.properties,a=t.component;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a,!i.value||!i.value.fieldName){e.next=7;break}return e.next=4,h(i.value.fieldName,r);case 4:o=e.sent,c.logValue({component:a,valueDescription:{options:o}}),n.options=o;case 7:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}();return n({},m,{isValidContext:function(e){var t=e.connectionConfig.properties;return!i(t)},bindToComponent:function(e){!function(e,t){var r=t.properties,n={};a(r,function(e){var t=e.fieldName;n.options=t}),c.logBinding({component:e,bindingDescription:n})}(e.component,e.connectionConfig)},currentRecordModified:g,recordSetLoaded:g})}},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var o=r(0).forEach,i=r(0).has,a=r(0).isEmpty,u=r(0).get,c=r(5),s=c.getFieldValue,f=c.convertValue,l=c.formatValue,d=c.addComponentEventListener,p=r(6),m=r(2),v=m.selectCurrentRecord,h=m.selectCurrentRecordIndex;e.exports=function(e){var t=e.getState,r=e.wixSdk,c=e.getFieldType,m=e.applicationCodeZone,g=e.databindingVerboseReporter,y=e.platformAPIs,E=e.wixFormatter,R=function(e,t,n){return o(n||[],function(n,o){var i=n.fieldName,a=n.format,u=c(i).getOrElse(""),d=l(s(t,i),E,{format:a,wixSdk:r}),p=f(d,{fieldType:u,shouldConvertToString:!0,shouldConvertMediaItemUriToStaticUrl:"link"===o,mediaItemUtils:y.mediaItemUtils});e[o]=p})},T=function(e){try{e.galleryCapabilities.hasCurrentItem&&(e.currentIndex=h(t()))}catch(e){}},b=function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}(regeneratorRuntime.mark(function e(r,n){var o,i,a,u=r.connectionConfig.properties,c=r.component;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fetchCurrentItems(t());case 2:o=e.sent,i=o.items,e.prev=4,a=i.map(function(e){var t={};return R(t,e,u),t}),g.logValue({component:c,valueDescription:a}),c.items=a,e.next=14;break;case 10:if(e.prev=10,e.t0=e.catch(4),"URIError"===e.t0.name){e.next=14;break}throw e.t0;case 14:T(c);case 15:case"end":return e.stop()}},e,void 0,[[4,10]])}));return function(t,r){return e.apply(this,arguments)}}();return n({},p,{isValidContext:function(e){var t=e.connectionConfig.properties;return!a(t)},bindToComponent:function(e,t){var r=e.connectionConfig.properties,n=e.component;i(r,"link")&&(n.clickAction="link"),u(n,["galleryCapabilities","hasCurrentItem"])&&d(n,"onCurrentItemChanged",function(){t.setCurrentIndex(n.currentIndex)},m),function(e,t){var r={};o(t,function(e,t){var n=e.fieldName;r[t]=n}),g.logBinding({component:e,bindingDescription:r})}(n,r)},currentRecordModified:function(e,r,n){var o=e.connectionConfig.properties,i=e.component,a=v(t()),u=h(t()),c=i.items||[],s=c[u];s&&R(s,a,o),i.items=c,T(i)},recordSetLoaded:b,currentViewChanged:b,currentIndexChanged:function(e,t){var r=e.component;T(r)}})}},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var o=r(0).get,i=r(0).isEmpty,a=r(0).includes,u=r(0).values,c=r(5),s=c.addComponentEventListener,f=c.getFieldValue,l=r(6),d=r(0).forEach,p=r(2),m=p.selectCurrentRecord,v=p.isReadOnly,h=function(e){return o(e,"properties.value.fieldName")};e.exports=function(e){var t=e.getState,r=e.datasetApi,c=e.errorReporter,p=e.getFieldType,g=e.applicationCodeZone,y=e.databindingVerboseReporter,E={},R=function(e,r){var n=e.component,o=e.connectionConfig,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=m(t()),c=h(o),s=r.isCurrentRecordNew(t()),l=i(f(u,c));(r.isCurrentRecordPristine(t())||a)&&function(e){e.reset&&e.reset()}(n),!l||s&&!a||n.updateValidityIndication()};return n({},l,{isValidContext:function(e){var t=e.connectionConfig;return u(t).find(function(e){return!i(e)})},bindToComponent:function(e,n){var i=e.connectionConfig,a=e.component;if(!v(t())){var u=h(i);s(a,"onChange",function(){E[a.uniqueId]=!0},g),r.onBeforeSave(function(){if(E[a.uniqueId]&&a.value.length)return a.startUpload().then(function(e){E[a.uniqueId]=!1,n.setFieldInCurrentRecordAndSynchronize(u,e.url,a.uniqueId)},function(e){throw c("The "+(o(a,"value[0].name")||"unknown")+" file failed to upload. Please try again later.",e),e})}),p(u).map(function(e){switch(e){case"image":a.fileType="Image";break;case"document":a.fileType="Document"}});var f=i.properties;d(f,function(e,t){var r=e.fieldName;y.logBinding({component:a,bindingDescription:function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t,r)})})}},currentRecordModified:function(e,t,r){var n=e.component,o=e.connectionConfig,i=h(o),u=a(r,i);u&&(E[n.uniqueId]=!1),R({component:n,connectionConfig:o},t,u)},recordSetLoaded:function(e,t){R(e,t)},currentViewChanged:function(e,t){R(e,t)},currentIndexChanged:function(e,t){R(e,t)}})}},function(e,t,r){"use strict";e.exports=function(){return{isValidContext:function(){return!1}}}},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var i=r(5).addComponentEventListener,a=r(2).selectCurrentRecord,u=r(3).traceCreators,c=r(201),s=r(6);e.exports=function(e){var t=e.appLogger,r=e.getState,f=e.controllerFactory,l=e.controllerStore,d=e.applicationCodeZone,p=e.databindingVerboseReporter,m=[],v=function(e){return function(){var n=o(regeneratorRuntime.mark(function n(i,a){var s=i.component;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.traceAsync(e,o(regeneratorRuntime.mark(function e(){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchCurrentItems(r());case 2:return n=e.sent,o=n.items,p.logValue({component:s,valueDescription:{data:o}}),t.traceSync(u.repeaterSetData(),function(){c.mark("repeater.refreshView.beforeSetDataItems"),s.data=o}),e.next=8,Promise.all(m);case 8:c.measure("repeater.refreshView.renderItemsTime","repeater.refreshView.beforeSetDataItems"),m.splice(0);case 10:case"end":return e.stop()}},e,void 0)}))));case 1:case"end":return n.stop()}},n,void 0)}));return function(e,t){return n.apply(this,arguments)}}()};return n({},s,{bindToComponent:function(e,r,n){var o=e.component,a=o.id,c=o.uniqueId;i(o,"onItemReady",function(e,r){return function(n,o,i){t.traceSync(u.repeaterItemReady(i),function(){var t={componentId:r,itemId:o._id},i=f.createFixedItemController(t,o,e,n.scoped);l.setController(t,i);var a=i.pageReady();m.push(a)})}}(a,c),d),i(o,"onItemRemoved",function(e){return function(t){var r={componentId:e,itemId:t._id};l.removeController(r)}}(c),d),p.logBinding({component:o})},currentRecordModified:function(e,t,n){var o=e.component,i=a(r());if(o.data&&o.data.length>0){var u=o.data.map(function(e){return e._id===i._id?i:e});o.data=u}},recordSetLoaded:v(u.repeaterRecordSetLoaded()),currentViewChanged:v(u.repeaterCurrentViewChanged())})}},function(e,t,r){"use strict";var n=r(0).invoke,o="undefined"!=typeof performance;e.exports={mark:o?function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(void 0,[performance,"mark"].concat(t))}:function(){},measure:o?function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(void 0,[performance,"measure"].concat(t))}:function(){}}},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(5).addComponentEventListener,i=r(6);e.exports=function(e){var t=e.controllerFactory,r=e.controllerStore,a=e.applicationCodeZone;return n({},i,{bindToComponent:function(e,n,i){var u=e.connectionConfig,c=(u.properties,u.events,u.filters,e.component);o(c,"onItemReady",function(e,n,o){return function(e,n,i){var a={componentId:o.uniqueId,itemId:n._id},u=t.createDetailsController(a,e.scoped);r.setController(a,u),u.pageReady()}}(0,0,c),a),o(c,"onItemRemoved",function(e){return function(t){var n={componentId:e.uniqueId,itemId:t._id};r.removeController(n)}}(c),a)}})}},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(5).addComponentEventListener,i=r(6),a=r(2).getPaginationData,u=r(2),c=u.getCurrentPage,s=u.getTotalPageCount;e.exports=function(e){var t=e.getState,r=e.applicationCodeZone,u=e.databindingVerboseReporter,f=function(e,t){return t*(e-1)},l=function(e,r){var n=e.component,o=c(t()),i=s(t(),r.getTotalItemsCount());n.currentPage=o,i<1?n.disable():(n.enable(),n.totalPages=i)};return n({},i,{bindToComponent:function(e,n){var i=e.component;o(i,"onChange",function(e){var r=e.target.currentPage,o=a(t()),i=s(t(),n.getTotalItemsCount());r<1?n.setCurrentIndex(0):r>i?n.setCurrentIndex(f(i,o.size)):n.setCurrentIndex(f(r,o.size))},r),u.logBinding({component:i})},recordSetLoaded:l,currentViewChanged:l})}},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var o=r(2),i=o.selectCurrentRecord,a=o.selectCurrentRecordIndex,u=r(0).get,c=r(0).values,s=r(0).isEmpty,f=r(0).forEach,l=r(0).reduce,d=r(5),p=d.getFieldValue,m=d.convertValue,v=d.formatValue,h=r(6);e.exports=function(e){var t=e.getState,r=e.wixSdk,o=e.errorReporter,d=e.getFieldType,g=e.databindingVerboseReporter,y=e.wixFormatter,E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return l(t,function(t,n,o){var i=n.fieldName,a=n.format,c=p(e,i);if("address"===o)return Object.assign(t,{address:u(c,"formatted"),location:u(c,"location")});if("link"===o&&s(c))return t;var f=d(i).getOrElse(""),l=v(c,y,{format:a,wixSdk:r}),h=m(l,{fieldType:f,shouldConvertToString:!0});return Object.assign(t,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},o,h))},{})},R=function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}(regeneratorRuntime.mark(function e(r,n){var i,a,u=r.connectionConfig.properties,c=r.component;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.fetchCurrentItems(t());case 3:i=e.sent,a=i.items,c.markers=a.map(function(e){return E(e,u)}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o("Failed setting markers:",e.t0);case 11:case"end":return e.stop()}},e,void 0,[[0,8]])}));return function(t,r){return e.apply(this,arguments)}}();return n({},h,{isValidContext:function(e){var t=e.connectionConfig;return c(t).find(function(e){return!s(e)})},bindToComponent:function(e){var t=e.connectionConfig;!function(e,t){var r=t.properties,n={};f(r,function(e,t){var r=e.fieldName;n[t]=r}),g.logBinding({component:e,bindingDescription:n})}(e.component,t)},currentRecordModified:function(e){var r=e.component,n=e.connectionConfig.properties,o=i(t()),c=a(t());r.markers[c]=E(o,n),r.setCenter(u(r,["markers",c,"location"]))},recordSetLoaded:R,currentViewChanged:R,currentIndexChanged:function(e){!function(e){var r=e.component,n=a(t());r.setCenter(u(r,["markers",n,"location"]))}(e)}})}},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(5).addComponentEventListener,i=r(6),a=r(69),u=a.getComponentValueAccessorName,c=a.getComponentDefaultValue;e.exports=function(e){var t=e.applicationCodeZone;return n({},i,{bindToComponent:function(e,r){var n=e.component;"function"==typeof n.onChange&&o(n,"onChange",r.refresh,t)},resetUserFilter:function(e){var t=e.component;t[u(t)]=c(t)}})}},function(e,t,r){"use strict";e.exports=function(e){return e.bindToComponent(),Promise.all(e.recordSetLoaded())}},function(e,t,r){"use strict";var n=r(0).isEmpty,o=r(208),i=o.transformFilter,a=o.getFilterPartsByPredicate,u=r(209),c=r(210),s=r(211),f=r(213).shouldResolve,l=r(214).shouldResolve,d=r(215).shouldResolve,p=r(70).parseStandardFilter,m=function(e){return f(e)||l(e)||v(e)},v=function(e){return p(e).map(function(e){var t=e.value;return d(t)}).getOrElse(!1)},h=function(e){return a(l,e)};e.exports.createFilterResolver=function(e){return function(t){return i(m,function(t){return f(t)?e.currentUser():l(t)?e.dataBinding(t):v(t)?e.userInput(t):void 0},t)}},e.exports.createValueResolvers=function(e,t,r,n){return{dataBinding:c(e),currentUser:u(t),userInput:s({getConnectedComponents:r,getFieldType:n})}},e.exports.hasDatabindingDependencies=function(e){return h(e).length>0},e.exports.getDatabindingDependencyIds=function(e){return h(e).map(function(e){return e.filterExpression.filterId})},e.exports.getExpressions=h,e.exports.hasUserInputDependencies=function(e){return!n(a(d,e))}},function(e,t,r){"use strict";var n=r(1).Maybe,o=r(0).isPlainObject,i=r(0).flatMap,a=r(0).set,u=r(0).cloneDeep,c=r(0).clone,s=r(54),f=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t(r)?[{path:c(n),filterExpression:r}]:function(e){return!Array.isArray(e)&&!o(e)}(r)?[]:i(r,function(r,o){return e(t,r,n.concat(o))})},l=function(e){return function(t){return t.reduce(function(e,t){return function(e,t,r){return a(e,t,r)}(e,t.path,t.filterExpression)},u(e))}};e.exports.getFilterPartsByPredicate=f,e.exports.transformFilter=function(e,t,r){return function(e,t){return s(n,t.map(function(t){var r=t.path,n=t.filterExpression;return e(n).map(function(e){return{path:r,filterExpression:e}})}))}(t,f(e,r)).map(l(r))}},function(e,t,r){"use strict";var n=r(1).Maybe;e.exports=function(e){return function(){return n.fromNullable(e.user.currentUser).map(function(e){var t=e.id;return e.loggedIn?t:null})}}},function(e,t,r){"use strict";var n=r(1).Maybe;e.exports=function(e){return function(t){var r=t.filterId;return n.fromNullable(e[r]).chain(function(e){var t=e.controllerApi,r=e.fieldName;return n.fromNullable(t.getCurrentItem()).map(function(e){var t=e[r];return void 0===t?null:t})})}}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(4).FILTER_INPUT_ROLE,i=r(1).Maybe,a=r(70).parseStandardFilter,u=r(212),c=r(69).getComponentValueAccessorName;e.exports=function(e){var t=e.getConnectedComponents,r=e.getFieldType;return function(e){var s=t();if(!s)return i.Nothing();var f=s.filter(function(e){return e.role===o}).map(function(e){return e.component});return a(e).map(function(e){var t=e.field,o=e.condition,i=e.value,a=e.positive,s=r(t),l=function(e,t){var r=e.filterId,n=t.find(function(e){return e.connectionConfig.filters[r]});if(n)return n[c(n)]}(i,f),d=u(s,l);if(!d&&0!==d)return{$and:[]};var p=n({},t,n({},o,d));return a?p:{$not:[p]}})}}},function(e,t,r){"use strict";var n=r(0).get,o=r(12).FieldType,i=o.number,a=o.stringArray;e.exports=function(e,t){return e.map(function(e){return e===i&&"string"==typeof t&&/^[+-]?((\d+\.?\d*)|(\d*\.?\d+))$/.test(t.trim())?Number(t):e===a&&0===n(t,"length",0)?null:t}).getOrElse(t)}},function(e,t,r){"use strict";var n=r(0).isPlainObject,o=r(35);e.exports.addResolver=function(){return function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},o,"currentUser")},e.exports.shouldResolve=function(e){return n(e)&&"currentUser"===e[o]}},function(e,t,r){"use strict";var n=r(0).isPlainObject,o=r(26).DATA_BINDING,i=r(35),a=o;e.exports.addResolver=function(e){return Object.assign({},e,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},i,a))},e.exports.shouldResolve=function(e){return n(e)&&e[i]===a}},function(e,t,r){"use strict";var n=r(0).isPlainObject,o=r(35);e.exports.addResolver=function(e){return Object.assign({},e,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},o,"userInput"))},e.exports.shouldResolve=function(e){return n(e)&&"userInput"===e[o]}},function(e,t,r){"use strict";var n,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a={SHORT_DATE:"SHORT_DATE",MEDIUM_DATE:"MEDIUM_DATE",LONG_DATE:"LONG_DATE",FULL_DATE:"FULL_DATE",SHORT_DATE_TIME:"SHORT_DATE_TIME",LONG_DATE_TIME:"LONG_DATE_TIME",FULL_DATE_TIME:"FULL_DATE_TIME",MEDIUM_TIME_12:"MEDIUM_TIME_12",MEDIUM_TIME_24:"MEDIUM_TIME_24",LONG_TIME_12:"LONG_TIME_12",LONG_TIME_24:"LONG_TIME_24",HOUR_ONLY:"HOUR_ONLY",MINUTE_ONLY:"MINUTE_ONLY",YEAR_ONLY:"YEAR_ONLY",MONTH_ONLY:"MONTH_ONLY",SHORT_MONTH_ONLY:"SHORT_MONTH_ONLY",DAY_ONLY:"DAY_ONLY"},u=(i(n={},a.SHORT_DATE,{day:"numeric",month:"numeric",year:"2-digit"}),i(n,a.MEDIUM_DATE,{day:"numeric",month:"short",year:"numeric"}),i(n,a.LONG_DATE,{day:"numeric",month:"long",year:"numeric"}),i(n,a.FULL_DATE,{day:"numeric",month:"long",year:"numeric",weekday:"long"}),i(n,a.SHORT_DATE_TIME,{day:"numeric",month:"numeric",year:"2-digit",hour:"numeric",minute:"numeric"}),i(n,a.LONG_DATE_TIME,{day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),i(n,a.FULL_DATE_TIME,{day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric",weekday:"long",timeZoneName:"short"}),i(n,a.MEDIUM_TIME_12,{minute:"numeric",hour:"numeric"}),i(n,a.MEDIUM_TIME_24,{minute:"numeric",hour:"numeric",hour12:!1}),i(n,a.LONG_TIME_12,{minute:"numeric",hour:"numeric",second:"numeric"}),i(n,a.LONG_TIME_24,{minute:"numeric",hour:"numeric",second:"numeric",hour12:!1}),i(n,a.HOUR_ONLY,{hour:"numeric"}),i(n,a.MINUTE_ONLY,{minute:"numeric"}),i(n,a.YEAR_ONLY,{year:"numeric"}),i(n,a.MONTH_ONLY,{month:"long"}),i(n,a.SHORT_MONTH_ONLY,{month:"short"}),i(n,a.DAY_ONLY,{weekday:"long"}),n);e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.locale,r=e.timeZone;if(!t)throw Error('A "locale" parameter is required for wixFormatting');return{formatDateTime:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.locale,c=i.timeZone,s=o({},u[n],{timeZone:c||r});return new Intl.DateTimeFormat(a||t,s).format(e)},dateFormats:a}},e.exports.dateFormats=a},function(e,t,r){"use strict";e.exports=function(){var e={},t=[];return{get:function(){return e},add:function(t){return Object.assign(e,t)},saveHandle:function(e){return t.push(e)},unsubscribe:function(){t.forEach(function(e){return e()}),t=[]}}}},function(e,t,r){"use strict";var n=r(7),o=n.READ_WRITE,i=n.READ,a=r(219),u=r(56),c=r(20).isPreview,s=r(2),f=s.getReadWriteMode,l=s.getCollectionName,d=s.selectCurrentRecord;e.exports.reportDatasetActiveOnPage=function(e,t,r,n,s,p,m){if(!s){var v=l(t);if(v){var h=f(t);!!d(t)&&[o,i].includes(h)&&r.find(function(e){var t=e.role,r=e.config;return a(t,r)})&&e({evid:c(m.window.viewMode)?153:152,ds_id:p,ds_type:n,mode:h,collection_name:v,viewmode:m.window.viewMode,page_url:m.location.url.split("?")[0]}),u(f(t),r)&&e({evid:c(m.window.viewMode)?157:156,ds_id:p,ds_type:n,mode:h,collection_name:v,viewmode:m.window.viewMode,page_url:m.location.url.split("?")[0]})}}}},function(e,t,r){"use strict";var n=r(4),o=n.GRID_ROLE,i=n.PAGINATION_ROLE;e.exports=function(e,t){return[o,i].includes(e)||t&&t.properties&&Object.keys(t.properties).length>0}},function(e,t,r){"use strict";var n=r(0).cloneDeep,o=r(0).isEqual,i=r(0).flatten,a=r(29).isSameRecord,u=r(2),c=u.getCurrentPageSize,s=u.getPaginationData,f=u.isForm,l=u.isWriteOnly,d=u.selectCurrentRecord,p=u.selectCurrentRecordIndex,m=u.selectDefaultDraft,v=u.selectDesiredRecordIndex,h=u.selectFieldsToUpdate,g=u.selectNewRecordIndex,y=u.selectRefreshController,E=u.selectRefreshCurrentRecord,R=u.selectRefreshCurrentView,T=u.selectRemoveCurrentRecord,b=u.selectRevertChanges,x=u.selectSaveRecord,_=u.selectUpdateSource,w=r(221);e.exports=function(e,t,r,u,I,O,C,S,A,D,P,N){var L=w(e,t,r,u,I,O,C,S,A,D,P,N);return function(e){return i([function(e){var t=e.from,r=e.to,n=e.hasChanged,o=e.hasChangedToFalse,i=e.hasChangedToTrue,a=e.hasChangedToMatch,u=p(r),c=p(t),s=v(r),f=E(r),l=[];return(a(v,function(e){return e>=0&&e!==u})||i(E))&&l.push(L.goToRecordByIndex(c,s,f)),(n(p)&&c>=0||o(y)&&0===u)&&l.push(L.notifyIndexChange(u)),l},function(e){var t=e.from,r=e.to,i=e.hasChanged,u=e.hasChangedToMatch,c=e.hasChangedToTrue,s=p(r),f=d(r),l=d(t),v=[];if(a(l,f)){if(!o(l,f)){var g=Object.keys(f).filter(function(e){return!o(f[e],l[e])});v.push(L.updateComponents(_(r),g)),v.push(L.fireEvent("itemValuesChanged",n(l),n(f)))}}else null==l||null==f||i(p)||v.push(L.updateComponents());var y=h(r);return u(h,function(e){return null!=e})&&v.push(L.setFieldsInCurrentRecord(y,s,_(r))),c(b)&&v.push(L.revertChanges(s,m(r))),c(T)&&v.push(L.removeCurrentRecord(s)),v},function(e){var t=e.to,r=e.hasChanged,n=e.hasChangedToFalse,o=e.hasChangedToTrue,i=[];return r(c)&&i.push(L.refresh(p(t),m(t),l(t))),r(s)&&i.push(L.notifyRecordSetLoaded()),o(y)&&i.push(L.refresh(p(t),m(t),l(t))),n(y)&&i.push(L.notifyRecordSetLoaded()),o(R)&&i.push(L.updateCurrentView()),i},function(e){e.from;var t=e.to,r=e.hasChangedToTrue,n=p(t),o=d(t);if(r(x))return L.saveRecord(n,o,f(t))},function(e){e.from;var t=e.to,r=[];return(0,e.hasChangedToNotNull)(g)&&r.push(L.newRecord(g(t),m(t))),r}].map(function(t){return t(e)}))}}},function(e,t,r){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}var o=r(0).forEach,i=r(0).isBoolean,a=r(0).isEqual,u=r(0).mapValues,c=r(0).pickBy,s=r(1).Maybe,f=r(3).breadcrumbWrapper,l=r(37),d=l.generateAutomationsFieldName,p=l.isFieldSupported,m=r(24),v=r(17).verboseEvent,h=r(15),g=r(222),y=r(34),E=r(67),R=function(e){return a(!1,e)};function T(e,t){return u(t,function(t,r){return e(r).map(function(e){return function(e,t){switch(e){case"number":return Number(t);case"boolean":if("string"==typeof t)return"true"===t.toLowerCase()||"1"===t.toLowerCase();break;case"text":if(null!=t&&"function"==typeof t.toString)return t.toString()}return t}(e,t)}).getOrElse(t)})}e.exports=function(e,t,r,a,u,l,b,x,_,w,I,O){var C=["setFieldsInCurrentRecord"],S=f(u,function(e,t){return{category:"effects",level:"info",message:e+"("+(C.includes(e)?".."+t.length+" arguments..":t.map(JSON.stringify))+") ("+l+")",data:{}}},function(e){return e}),A=S.withBreadcrumbs,D=S.withBreadcrumbsAsync;function P(e,r){t().currentRecordModified(r,e)}function N(e){var t=b.filter(function(t){return!g(t,e)});if(t.forEach(function(e){return e.component.updateValidityIndication()}),t.length)throw new m("DS_VALIDATION_ERROR","Some of the elements validation failed")}function L(e){var t=this;return x(_).fold(function(){},function(){var r=n(regeneratorRuntime.mark(function r(n){var i,a,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=c(n.fields,function(e,t){return p(e,t)&&!F(e)}),a={"form-id":{value:l,keyName:""}},o(i,function(t,r){var n=d(l,r),o=t.displayName,i=t.index;M({record:e,fieldData:t,fieldName:r,getSchema:x}).fold(function(){},function(e){var t=e.value,r=e.type;a["field:"+n]={value:t,keyName:o,index:i,valueType:r}})}),s=E(e,"_updatedDate"),t.next=7,w({eventUTCTime:s,detailedEventPayload:a});case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0.message.includes("Network request failed")?u.info("automations integration - Network request failed on sendAutomationEvent"):u.error(t.t0);case 12:case"end":return t.stop()}},r,t,[[0,9]])}));return function(e){return r.apply(this,arguments)}}())}function F(e){return!!e.isDeleted}function M(e){var t=e.record,r=e.fieldData,n=e.fieldName,o=e.getSchema;return"reference"===r.type?o(r.referencedCollection).map(function(e){var r=E(t[n],e.displayField);return{value:y(r),type:e.fields[e.displayField].type}}):s.Just({value:y(E(t,n)),type:r.type})}function U(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return u.userCodeZone(I).apply(void 0,[e].concat(r))}function k(){return Promise.all(t().recordSetLoaded())}return{goToRecordByIndex:function(t,r,o){return{run:D("goToRecordByIndex",function(){var i=this;return e().fold(function(e){throw new m("DS_OPERATION_FAILED",e)},function(){var e=n(regeneratorRuntime.mark(function e(n){var a,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.getMatchingRecordCount(),u=Math.max(Math.min(r,a-1),0),t===u&&!o){e.next=9;break}return e.next=5,n.getRecords(u,1);case 5:return c=e.sent,e.abrupt("return",c.matchWith({Empty:function(){return h.GoToIndexResult.NoRecord()},Results:function(e){var t=e.items;return h.GoToIndexResult.Record(u,t[0])}}));case 9:return e.abrupt("return",h.GoToIndexResult.InvalidIndex());case 10:case"end":return e.stop()}},e,i)}));return function(t){return e.apply(this,arguments)}}())}),isQueued:!0,resultActionCreator:h.goToRecordByIndexResult}},setFieldsInCurrentRecord:function(t,n,o){return{run:A("setFieldsInCurrentRecord",function(){var i=T(r,t);return e().fold(function(e){throw new m("DS_OPERATION_FAILED",e)},function(e){return e.setFieldsValues(n,i,o).fold(function(e){throw e},function(e){})})}),isQueued:!1}},revertChanges:function(t,r){return{run:A("revertChanges",function(){e().chain(function(e){return e.resetDraft(t,r)}),P()}),isQueued:!1,resultActionCreator:h.revertResult}},saveRecord:function(t,r,o){return{run:D("saveRecord",function(){var u=n(regeneratorRuntime.mark(function u(){var c=this;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,v(O,"beforeSave"),a("beforeSave").then(function(e){return e.some(R)}).catch(function(e){return{error:e}}).then(function(e){if(e)throw new m("DS_OPERATION_CANCELLED","Operation cancelled by user code. "+(i(e)?"":e.error))});case 2:return u.abrupt("return",e().fold(function(){return!1},function(){var e=n(regeneratorRuntime.mark(function e(n){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.hasDraft(t)){e.next=10;break}return N(r),e.next=4,n.saveRecord(t);case 4:if(i=e.sent,U("afterSave",r,i),!o){e.next=9;break}return e.next=9,L(i);case 9:return e.abrupt("return",i);case 10:case"end":return e.stop()}},e,c)}));return function(t){return e.apply(this,arguments)}}()));case 3:case"end":return u.stop()}},u,this)}));return function(){return u.apply(this,arguments)}}()),isQueued:!0,resultActionCreator:h.saveRecordResult}},removeCurrentRecord:function(t){return{run:D("removeCurrentRecord",function(){return function(t){return e().fold(function(e){throw new m("DS_OPERATION_FAILED",e)},function(e){return e.removeRecord(t)})}(t)}),isQueued:!0,resultActionCreator:h.removeCurrentRecordResult}},newRecord:function(t,r){return{run:A("newRecord",function(){return function(t,r){return e().fold(function(e){throw new m("DS_OPERATION_FAILED",e)},function(e){return e.newRecord(t,r)})}(t,r)}),isQueued:!0,resultActionCreator:h.newRecordResult}},fireEvent:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return{run:A("fireEvent",function(){return U.apply(void 0,[e].concat(r))}),isQueued:!1}},notifyIndexChange:function(e){return{run:A("notifyIndexChange",function(){t().currentIndexChanged(),U("currentIndexChanged",e)}),isQueued:!1}},notifyRecordSetLoaded:function(){return{run:D("notifyRecordSetLoaded",k),isQueued:!0}},updateCurrentView:function(e){return{run:D("updateCurrentView",function(){return Promise.all(t().currentViewChanged())}),isQueued:!0,resultActionCreator:h.updateCurrentViewResult}},refresh:function(t,r,o){return{run:D("refresh",function(){var t=n(regeneratorRuntime.mark(function t(){var i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e().fold(function(e){throw new m("DS_OPERATION_FAILED",e)},function(){var e=n(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.reset(),e.abrupt("return",o?h.GoToIndexResult.Record(0,t.newRecord(0,r)):t.getRecords(0,1).then(function(e){return e.matchWith({Empty:function(){return h.GoToIndexResult.NoRecord()},Results:function(e){var t=e.items;return h.GoToIndexResult.Record(0,t[0])}})}));case 2:case"end":return e.stop()}},e,i)}));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()),isQueued:!0,resultActionCreator:h.refreshResult}},updateComponents:function(e,t){return{run:A("updateComponents",function(){P(e,t)}),isQueued:!1}}}}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(0).some,i=r(0).values,a=r(0).omit,u=r(0).get,c=r(0).isEmpty,s=r(23).UploadButton;e.exports=function(e,t){var r=e.component,f=e.connectionConfig;return r.type===s?function(e,t,r){if(e.validity.valid)return!0;if(o(i(a(e.validity,["valid","valueMissing"])),function(e){return e}))return!1;var n=u(r,"properties.value.fieldName");return!c(t[n])}(r,t,f):"object"!==n(r.validity)||r.validity.valid}},function(e,t,r){"use strict";var n=r(0).flatten,o=r(32),i=r(2),a=i.selectNextDynamicPageUrl,u=i.selectPreviousDynamicPageUrl,c=function(e){return a(e).shouldLoadUrl()},s=function(e){return u(e).shouldLoadUrl()};e.exports=function(e){var t={run:e.getNextDynamicPageUrl,isQueued:!0,resultActionCreator:function(e,t){return{type:o.NEXT_DYNAMIC_PAGE_URL_RESULT,error:e,payload:t}}},r={run:e.getPreviousDynamicPageUrl,isQueued:!0,resultActionCreator:function(e,t){return{type:o.PREVIOUS_DYNAMIC_PAGE_URL_RESULT,error:e,payload:t}}};return function(e){return n([function(e){var n=e.hasChangedToTrue,o=[];return n(c)&&o.push(t),n(s)&&o.push(r),o}].map(function(t){return t(e)}))}}},function(e,t,r){"use strict";var n=r(0).range,o=r(46).constructUrl,i=function(e){var t=e.getPreviousUrl,r=e.sort,n=e.dynamicUrlPatternFieldsValues,o=e.query,i=e.indexField,a=function(e){return"asc"===e&&!t||"desc"===e&&t},u=o;return Object.keys(r).forEach(function(e){u=a(r[e])?u.ascending(e):u.descending(e)}),u=a(r[i])?u.gt(i,n[i]):u.lt(i,n[i])},a=function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}(regeneratorRuntime.mark(function e(t){var r,a,u,c,s,f,l,d,p,m,v,h,g=t.wixDataProxy,y=t.dynamicPagesData,E=t.collectionName,R=t.getPreviousUrl;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(h=function e(t){if(void 0===t&&(t=f.length-1),-1===t)return[];var r=f[t],o=g.query(E).setFilterModel(u);return o=i({getPreviousUrl:R,sort:s,dynamicUrlPatternFieldsValues:c,query:o,indexField:r}),n(t).forEach(function(e){return o=o.eq(f[e],c[f[e]])}),[o.limit(1)].concat(e(t-1))},a=(r=y||{}).dynamicUrl,u=r.userDefinedFilter,c=r.dynamicUrlPatternFieldsValues,s=r.sort,f=r.sortFields,l=r.patternFields,null!=a&&l.length){e.next=4;break}return e.abrupt("return",null);case 4:return d=h().reduce(function(e,t){return e.or(t)}),e.next=7,d.find();case 7:return p=e.sent,m=p.items,v=m.length>0?m[0]:null,e.abrupt("return",v?o(v,a):null);case 11:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}();e.exports=function(e){var t=e.wixDataProxy,r=e.dynamicPagesData,n=e.collectionName;return{getNextDynamicPageUrl:function(){return a({wixDataProxy:t,dynamicPagesData:r,collectionName:n,getPreviousUrl:!1})},getPreviousDynamicPageUrl:function(){return a({wixDataProxy:t,dynamicPagesData:r,collectionName:n,getPreviousUrl:!0})}}}},function(e,t,r){"use strict";var n=r(1).Maybe,o=r(226),i=r(3).traceCreators;e.exports=function(e,t,r,a){return t().fold(function(){return Promise.resolve(n.Nothing())},function(e){return e.hasSeedData()?function(e){return e.getSeedRecords().matchWith({Empty:function(){return o.resolve(n.Nothing())},Results:function(e){var t=e.items;return o.resolve(n.Just(t[0]))}})}(e):a.traceAsync(i.pageReadyGetData(),function(){return function(e){return e.seed().then(function(){return e.getRecords(0,1).then(function(e){return e.chain(function(e){var t=e.items;return n.Just(t[0])})})}).catch(function(e){return r("Failed to load initial data",e),n.Nothing()})}(e)})})}},function(e,t,r){"use strict";var n=function(e,t){try{return o(e(t))}catch(e){return i(e)}},o=function e(t){return{value:t,then:function(e){return n(e,t)},catch:function(){return e(t)}}},i=function e(t){return{error:t,then:function(){return e(t)},catch:function(e){return n(e,t)}}};e.exports={resolve:o,reject:i}},function(e,t,r){"use strict";var n=r(68),o=n.isTimeValid,i=n.isDateValid,a=n.mergeDateWithTime,u=r(0).has;e.exports=function(e){var t=["value","checked"];return e.reduce(function(e,r){var n=r.component,c=r.connectionConfig.properties;return t.forEach(function(t){u(c,t)&&function(e,t,r){var n=r[t];o(n)&&i(e)?r[t]=a({time:n,date:e}):i(n)&&o(e)?r[t]=a({time:e,date:n}):r[t]=e}(n[t],c[t].fieldName,e)}),e},{})}},function(e,t,r){"use strict";var n=r(1).Maybe,o=function(e,t){var r=function(e){return e.id?"#"+e.id:e.type}(e);return t?"#"+t+"."+r:r};e.exports=function(e,t){var r=new Set([]);return function(i,a){if(!t)return{logBinding:function(){},logValue:function(){}};return{logBinding:function(t){var u=t.component,c=t.bindingDescription,s=o(u,a),f=function(e,t,r){return JSON.stringify({compPresentation:e,collectionName:t,bindingDescription:r})}(s,i,c);if(!r.has(f)){r.add(f);var l=function(e,t,r){return r?"[Dataset - Connected] '"+t+"' collection to element '"+e+"':":"[Dataset - Connected] '"+t+"' collection to element '"+e+"'"}(s,i,c);n.fromNullable(c).fold(function(){return e(l)},function(){return e(l,c)})}},logValue:function(t){var r=t.component,n=t.valueDescription,u=function(e,t,r){return"[Dataset - Populated] '"+t+"' collection into element '"+e+"':"}(o(r,a),i);e(u,n)}}}}},function(e,t,r){"use strict";(function(t){var n=r(230),o=r(231),i=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,u=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function c(e){return(e||"").toString().replace(u,"")}var s=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],f={hash:1,query:1};function l(e){var r,n=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},o={},a=typeof(e=e||n);if("blob:"===e.protocol)o=new p(unescape(e.pathname),{});else if("string"===a)for(r in o=new p(e,{}),f)delete o[r];else if("object"===a){for(r in e)r in f||(o[r]=e[r]);void 0===o.slashes&&(o.slashes=i.test(e.href))}return o}function d(e){e=c(e);var t=a.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function p(e,t,r){if(e=c(e),!(this instanceof p))return new p(e,t,r);var i,a,u,f,m,v,h=s.slice(),g=typeof t,y=this,E=0;for("object"!==g&&"string"!==g&&(r=t,t=null),r&&"function"!=typeof r&&(r=o.parse),t=l(t),i=!(a=d(e||"")).protocol&&!a.slashes,y.slashes=a.slashes||i&&t.slashes,y.protocol=a.protocol||t.protocol||"",e=a.rest,a.slashes||(h[3]=[/(.*)/,"pathname"]);E<h.length;E++)"function"!=typeof(f=h[E])?(u=f[0],v=f[1],u!=u?y[v]=e:"string"==typeof u?~(m=e.indexOf(u))&&("number"==typeof f[2]?(y[v]=e.slice(0,m),e=e.slice(m+f[2])):(y[v]=e.slice(m),e=e.slice(0,m))):(m=u.exec(e))&&(y[v]=m[1],e=e.slice(0,m.index)),y[v]=y[v]||i&&f[3]&&t[v]||"",f[4]&&(y[v]=y[v].toLowerCase())):e=f(e);r&&(y.query=r(y.query)),i&&t.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==t.pathname)&&(y.pathname=function(e,t){if(""===e)return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,o=r[n-1],i=!1,a=0;n--;)"."===r[n]?r.splice(n,1):".."===r[n]?(r.splice(n,1),a++):a&&(0===n&&(i=!0),r.splice(n,1),a--);return i&&r.unshift(""),"."!==o&&".."!==o||r.push(""),r.join("/")}(y.pathname,t.pathname)),n(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(f=y.auth.split(":"),y.username=f[0]||"",y.password=f[1]||""),y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null",y.href=y.toString()}p.prototype={set:function(e,t,r){var i=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(r||o.parse)(t)),i[e]=t;break;case"port":i[e]=t,n(t,i.protocol)?t&&(i.host=i.hostname+":"+t):(i.host=i.hostname,i[e]="");break;case"hostname":i[e]=t,i.port&&(t+=":"+i.port),i.host=t;break;case"host":i[e]=t,/:\d+$/.test(t)?(t=t.split(":"),i.port=t.pop(),i.hostname=t.join(":")):(i.hostname=t,i.port="");break;case"protocol":i.protocol=t.toLowerCase(),i.slashes=!r;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";i[e]=t.charAt(0)!==a?a+t:t}else i[e]=t;break;default:i[e]=t}for(var u=0;u<s.length;u++){var c=s[u];c[4]&&(i[c[1]]=i[c[1]].toLowerCase())}return i.origin=i.protocol&&i.host&&"file:"!==i.protocol?i.protocol+"//"+i.host:"null",i.href=i.toString(),i},toString:function(e){e&&"function"==typeof e||(e=o.stringify);var t,r=this,n=r.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var i=n+(r.slashes?"//":"");return r.username&&(i+=r.username,r.password&&(i+=":"+r.password),i+="@"),i+=r.host+r.pathname,(t="object"==typeof r.query?e(r.query):r.query)&&(i+="?"!==t.charAt(0)?"?"+t:t),r.hash&&(i+=r.hash),i}},p.extractProtocol=d,p.location=l,p.trimLeft=c,p.qs=o,e.exports=p}).call(this,r(9))},function(e,t,r){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,r){"use strict";var n,o=Object.prototype.hasOwnProperty;function i(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}t.stringify=function(e,t){t=t||"";var r,i,a=[];for(i in"string"!=typeof t&&(t="?"),e)if(o.call(e,i)){if((r=e[i])||null!==r&&r!==n&&!isNaN(r)||(r=""),i=encodeURIComponent(i),r=encodeURIComponent(r),null===i||null===r)continue;a.push(i+"="+r)}return a.length?t+a.join("&"):""},t.parse=function(e){for(var t,r=/([^=?&]+)=?([^&]*)/g,n={};t=r.exec(e);){var o=i(t[1]),a=i(t[2]);null===o||null===a||o in n||(n[o]=a)}return n}}])});
//# sourceMappingURL=app.js.map